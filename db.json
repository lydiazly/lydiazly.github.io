{"meta":{"version":1,"warehouse":"4.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","path":"css/noscript.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","path":"js/comments.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/config.js","path":"js/config.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/rating.js","path":"js/third-party/rating.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":1,"renderable":1},{"_id":"source/images/android-chrome-96x96.png","path":"images/android-chrome-96x96.png","modified":1,"renderable":0},{"_id":"source/images/apple-touch-icon.png","path":"images/apple-touch-icon.png","modified":1,"renderable":0},{"_id":"source/images/favicon-16x16.png","path":"images/favicon-16x16.png","modified":1,"renderable":0},{"_id":"source/images/favicon-32x32.png","path":"images/favicon-32x32.png","modified":1,"renderable":0},{"_id":"source/images/favicon128.png","path":"images/favicon128.png","modified":1,"renderable":0},{"_id":"source/images/logo.png","path":"images/logo.png","modified":1,"renderable":0},{"_id":"source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":0},{"_id":"source/images/mstile-150x150.png","path":"images/mstile-150x150.png","modified":1,"renderable":0},{"_id":"source/images/safari-pinned-tab.svg","path":"images/safari-pinned-tab.svg","modified":1,"renderable":0},{"_id":"source/images/logo2.png","path":"images/logo2.png","modified":1,"renderable":0},{"_id":"source/downloads/code/download-example","path":"downloads/code/download-example","modified":1,"renderable":0},{"_id":"source/downloads/notebooks/installpy.zip","path":"downloads/notebooks/installpy.zip","modified":1,"renderable":0},{"_id":"source/downloads/notebooks/python-intro.zip","path":"downloads/notebooks/python-intro.zip","modified":1,"renderable":0}],"Cache":[{"_id":"source/404/index.md","hash":"fdf31c860863a26ca217e464ab261cde3ba3f722","modified":1657641859080},{"_id":"source/_posts/2018-07-02-installpy.md","hash":"413dbea6ce30a361b28082e5f8fbd0429335efa9","modified":1657763063200},{"_id":"source/_posts/2018-07-02-advance.md","hash":"4a5c81629fbd77acd92cabfc1c30c824a237a460","modified":1657764626760},{"_id":"source/_posts/2018-07-02-main.md","hash":"3b142d3203de48125cde2db27432ec98c7937e8d","modified":1657762846350},{"_id":"source/_posts/2018-10-15-scripts-and-interactive-mode.md","hash":"f04e4f77ca182da91d6ecc8cad8b354d94b60b81","modified":1657761727580},{"_id":"source/_posts/2018-10-20-pickle.md","hash":"16cc367a40395ef231a0f774c25d4a65dc5659c6","modified":1657764855100},{"_id":"source/_posts/2018-12-04-pandas-sep.md","hash":"c79ca87ee53021e877603562bef1def7b92be026","modified":1657764820180},{"_id":"source/_posts/2022-07-12-Coming-back-soon.md","hash":"be96445479a4f6441d6a88fb627337e65b4fadbc","modified":1657642016050},{"_id":"source/about/index.md","hash":"5d7a6e66d9e58c36c7da47d9705785f0b59fc732","modified":1657760998020},{"_id":"source/categories/index.md","hash":"7823a026c8ce30097b466f0b4a7483c487202bf9","modified":1657641726780},{"_id":"source/images/android-chrome-96x96.png","hash":"be1c25c11612f1a1b48d546a477bbf59726015e4","modified":1657626730000},{"_id":"source/images/apple-touch-icon.png","hash":"368602710fc60228e3b614dd2a39565bf6f098b5","modified":1657626731000},{"_id":"source/images/favicon-16x16.png","hash":"ef1a4fe6e91e5febcd1330647977a5df9260189b","modified":1657626731000},{"_id":"source/images/favicon-32x32.png","hash":"78be7c38199edc4062863e553b5208a59b142a74","modified":1657626731000},{"_id":"source/images/favicon128.png","hash":"d77a797e11372dd26b55b6038ede6a412ff95207","modified":1602060792000},{"_id":"source/images/logo.png","hash":"f195962e8c25c4940e5b384c3386b699962d626e","modified":1602060792000},{"_id":"source/images/favicon.ico","hash":"80e0e1ec359b41445db75c72a864966ccf200f45","modified":1657626732000},{"_id":"source/images/mstile-150x150.png","hash":"7740d2fb915f9caed52257d3246752f048afdd99","modified":1657626732000},{"_id":"source/images/safari-pinned-tab.svg","hash":"82373a0caeb61176027b54dca25c835e2e743aa0","modified":1657626732000},{"_id":"source/images/logo2.png","hash":"f09346a132e26170746df59fe290e80898dd1ebd","modified":1657626120880},{"_id":"source/tags/index.md","hash":"3c60537a4511b0e95f756793b0fd11a420ba01ba","modified":1657640274810},{"_id":"source/_posts/2018-07-02-advance/Screenshot_20180618-151438.png","hash":"c010216dbdcf810870960a476f340a74d84da3a5","modified":1657757761030},{"_id":"source/_posts/2018-07-02-advance/advance_279_1.png","hash":"3839a416cd92c0edc14d871918372dfd800f5207","modified":1657758166890},{"_id":"source/_posts/2018-07-02-advance/advance_283_0.png","hash":"faf76b662c6523975aafefb13979edf8ca19914e","modified":1657758166890},{"_id":"source/_posts/2018-07-02-advance/advance_285_0.png","hash":"b444a2dec2f04ad009a9fb5a021fb361d5d65eac","modified":1657758166900},{"_id":"source/_posts/2018-07-02-advance/nbtutor1.png","hash":"59898a68419bc4c26161cbc5c19e516c1c6d9516","modified":1657757761020},{"_id":"source/_posts/2018-07-02-advance/nbtutor2.png","hash":"912cb2a637d97c807a1bf2dca65592059e9cfeca","modified":1657757761020},{"_id":"source/_posts/2018-07-02-advance/scope_resolution_1.png","hash":"ff25a56ea6333a280c6d272e9409cd265ee24619","modified":1657757761020},{"_id":"source/_posts/2018-07-02-advance/tut_a_2.png","hash":"bb91721eb2bb9f16c2b9ac346dbca952be4b454d","modified":1657757761030},{"_id":"source/_posts/2018-07-02-main/Canopy-Packages-min-1.png","hash":"d60aae8acfa48c2b66cadd9ace973b331a969c1a","modified":1657758187810},{"_id":"source/_posts/2018-07-02-main/Conda â€” Conda documentation.png","hash":"61da7e0899e5103ff0e2a2437ab273658c1dde82","modified":1657758187760},{"_id":"source/_posts/2018-07-02-main/Conda-DistributionDiagram-01.png","hash":"adc44a69e5c879dd37820088c2ec939c19fbe440","modified":1657758187760},{"_id":"source/_posts/2018-07-02-main/DataScienceLibraries-01.png","hash":"d2a4e85bbfce25f00b652358ee6a2d22b291e6e4","modified":1657758187760},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-018.png","hash":"9f83ecc157cc30f70f2cea3fc736e02397329eb2","modified":1657758187740},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-019.png","hash":"fb19cbd908c0be98b963068f422319c4f840b650","modified":1657758187750},{"_id":"source/_posts/2018-07-02-main/annotation_demo2_00.png","hash":"bf7ec4bcb9ae5c8738fab6ec6ce5dd08fb1d5a7d","modified":1657758187790},{"_id":"source/_posts/2018-07-02-main/astropy_banner.svg","hash":"57c914d37f9c8b734738b7e1242517d2b67f91d0","modified":1657758187800},{"_id":"source/_posts/2018-07-02-main/jupyterlogo.png","hash":"f11277aeaf353e904cdbfc89e981cfacc84a3aff","modified":1657758187770},{"_id":"source/_posts/2018-07-02-main/logo-large.72ad8bf1.svg","hash":"f9366c64d591e4b0bddb322d43d10f37b4ee5327","modified":1657758187750},{"_id":"source/_posts/2018-07-02-main/scikitlogo.png","hash":"5b31342ddbf28d20f9cb2d0b39b989520e2a5efa","modified":1657758187780},{"_id":"source/downloads/code/download-example","hash":"c180e0ae1440eb001934af845ef7eec6ee94cbc4","modified":1657630825610},{"_id":"source/downloads/code/download-installpy.md","hash":"c112a9a094b76c23c018316916d263d0d42b5a00","modified":1657630875120},{"_id":"source/downloads/notebooks/installpy.zip","hash":"dfdbb7ee6a8bda4869fd5fd94e7840279fee4fa8","modified":1657764679040},{"_id":"source/_posts/2018-07-02-advance/Screenshot_20180617-181206.png","hash":"c01357dfd99b6fa68bf3b4d76f8426e03fb45c37","modified":1657757761020},{"_id":"source/_posts/2018-07-02-advance/advance_205_0.png","hash":"a3c6d1aa1c624ef3d39b707bd00c40d099acbaaf","modified":1657758166890},{"_id":"source/_posts/2018-07-02-advance/anatomy.png","hash":"22cf979d9183a449bf759788524f7134dc28bdf3","modified":1657757761020},{"_id":"source/_posts/2018-07-02-advance/nbtutor3.png","hash":"e3e8e6f331456c25ffc6ccfa7d7925c41573c57b","modified":1657757761030},{"_id":"source/_posts/2018-07-02-advance/nbtutor4.png","hash":"8b7096dd766d425cca4696f120cbe8e399505877","modified":1657757761030},{"_id":"source/_posts/2018-07-02-advance/nbtutor5.png","hash":"25ebefe85d5c83c1a9ac68db5ce5546a00dd023e","modified":1657757761030},{"_id":"source/_posts/2018-07-02-main/Matplotlib.png","hash":"b467048b9ae4bd3b5562c8087e723eef38b3df54","modified":1657758187780},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-020.png","hash":"a441ea5700a4fde0e6eeb42282dbf074bf32240a","modified":1657758187750},{"_id":"source/_posts/2018-07-02-main/Screenshot_20180625-005924.png","hash":"6ce3aa5e44cec31147feeb25c943930e62c24640","modified":1657758187800},{"_id":"source/_posts/2018-07-02-main/contour_demo_05.png","hash":"cedd2640a373274ae6384ba0925196bc05624662","modified":1657758187790},{"_id":"source/_posts/2018-07-02-main/jupyterlab.png","hash":"9abd39b3586af308c977b9ae661646618b04d0f0","modified":1657758187810},{"_id":"source/_posts/2018-07-02-main/main_126_1.png","hash":"61cb4a4259b363b7b2b2c68ea9012849458ba91b","modified":1657758186800},{"_id":"source/_posts/2018-07-02-main/IPython.png","hash":"a80c12e52bdd9a99aa1bbe16ca52bfa1d61f86f0","modified":1657758187770},{"_id":"source/_posts/2018-07-02-main/SciPy.png","hash":"6f82cd398ae7641230ad5e5cfdeca837dd55c179","modified":1657758187780},{"_id":"source/_posts/2018-07-02-main/named_colors.png","hash":"b1064f1d26a71dfdfdef897aa1f425403f1356d8","modified":1657758187790},{"_id":"source/_posts/2018-07-02-main/skimage01.png","hash":"82b5265d4034ab1b2f02db31a9a0ca8bebde008c","modified":1657758187780},{"_id":"source/_posts/2018-07-02-main/sphx_glr_lat_lon_lines_001.png","hash":"842821eef4c6254f2ceb705cc6093d0bb02c755d","modified":1657758187800},{"_id":"source/_posts/2018-07-02-main/sphx_glr_submaps_and_cropping_001.png","hash":"52d40b15aba50e980fc78f8647b446482548d444","modified":1657758187810},{"_id":"source/_posts/2018-07-02-main/nbviewer.png","hash":"c0383936000a1009803281017cbf9ad7231e603f","modified":1657758187770},{"_id":"source/_posts/2018-07-02-main/pycharm.jpg","hash":"2739c8d4e5d312e49fe56d29a5df653a4ede7673","modified":1657758187810},{"_id":"node_modules/hexo-theme-next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1657618280050},{"_id":"node_modules/hexo-theme-next/_vendors.yml","hash":"4a00898e7f4e08e6b42604a33dd926ba57e11939","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/README.md","hash":"56638e4978154a2f2a3f03ba84047b77b4a499cc","modified":1657618280290},{"_id":"node_modules/hexo-theme-next/_config.yml","hash":"ca90890962fd3d003f68cc710e3dc1f9161e5ce5","modified":1657625021610},{"_id":"node_modules/hexo-theme-next/package.json","hash":"ed04579cb05e09d83946d898edcca4677897e328","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1657618280290},{"_id":"node_modules/hexo-theme-next/languages/ar.yml","hash":"bca66db21c015dbd32970d8708b898518a773e1e","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/bn.yml","hash":"fccbf2855392186e11daa8590121073594037b7b","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/de.yml","hash":"4be7b8b76c81bf1853eb36d2e874b17546a0e792","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/en.yml","hash":"814d81c27fed736055ee300e0a6505b26ff4313c","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/es.yml","hash":"b813da5aed9d73b809133db4dfb08f90ec56afd9","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/fa.yml","hash":"6456d40dd42f44101d9d6e7054e9884e9163f948","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/fr.yml","hash":"b15dc05afdc94de02e5d3fee4f8d3dc5594dd37e","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/id.yml","hash":"14e794db4eca36b257994d81eb513e61d1edcbd6","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/it.yml","hash":"c1eeab4992c76bfd436bb205ce58b1cfeef55ee6","modified":1657618280460},{"_id":"node_modules/hexo-theme-next/languages/ja.yml","hash":"d48c4157e0e02e847aac7b513580d3364c81948c","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/ko.yml","hash":"819c19eb9d142e5411f77cf3821d90f740ee114a","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/nl.yml","hash":"ecb8e39c6225f3c068a5fdd569ee7dafd5c41a1f","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/pt-BR.yml","hash":"a1f27b3a592fc58f17d247f5563ff4a90a3da5f2","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/pt.yml","hash":"63a3e1e728ba5e6e22150de7331bb8a654f34960","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/ru.yml","hash":"8c2b6361f2de17561c1a3eede2bf47b4e2ba6ce5","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/si.yml","hash":"615d18d044f44df476d6bfbf73f7b0edc2632168","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/tk.yml","hash":"519239e35c3bda7b62b00ff5d34644f45b16fe6a","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/tr.yml","hash":"0bebba73d6f06c7dad61f80c0d7ad5f6f1791a01","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/uk.yml","hash":"7dd24580c0865c5a7bc4d391855045366a598936","modified":1657618280470},{"_id":"node_modules/hexo-theme-next/languages/vi.yml","hash":"c669c34da544a563ceae3e196addc9df6a78e024","modified":1657618280480},{"_id":"node_modules/hexo-theme-next/languages/zh-CN.yml","hash":"5a3ab21210304efef736e96bad254f789f42c567","modified":1657618280480},{"_id":"node_modules/hexo-theme-next/languages/zh-HK.yml","hash":"f195bb0502ffe66e850077a1af1033455ea65f93","modified":1657618280480},{"_id":"node_modules/hexo-theme-next/languages/zh-TW.yml","hash":"92256b90028de9a1e79c6bc0e5885b93e7fb4b17","modified":1657618280480},{"_id":"node_modules/hexo-theme-next/layout/_layout.njk","hash":"20e4160cd0deb4fa272cc3aed0f43520b3cf4a9c","modified":1657618280290},{"_id":"node_modules/hexo-theme-next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/page.njk","hash":"6c40aa438c658eb7f0cd0f6a759f18b43e7e8f93","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/post.njk","hash":"6abeb85fb3e4c382ed4bb6049b12a807e6226e67","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/docs/ru/README.md","hash":"6c82bfd2ec8248c248da701f091b548a7a133580","modified":1657618280050},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1657618280050},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1657618280050},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/README.md","hash":"ccf27b9249524b9fec1c15497b4353c8d1748c6c","modified":1657618280290},{"_id":"node_modules/hexo-theme-next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_macro/post.njk","hash":"434b3e76a040a816169e1929657e4176e7b8164c","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_macro/sidebar.njk","hash":"eb786e8b35e354287cda345c524cd35ec955f692","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/footer.njk","hash":"19713f472972caac33ae5fbcfe9105da61257de4","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_partials/pagination.njk","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/widgets.njk","hash":"852a750524decf1efa587cd52b09e387ed8315de","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/index.njk","hash":"d41eeb262978e34de4679d8971a9e7ac5d90ecbc","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_third-party/rating.njk","hash":"1bcdbc7fde26d6d9ef4e7fa43ffcff5a9506b20e","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/scripts/events/index.js","hash":"3ce10d4cce94e3d4c482c2e18bb6f0f0ca380d3d","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/filters/minify.js","hash":"f160e39943e39d7276da86adb47c3f08e5f22c7a","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/filters/post.js","hash":"30e03a1d4828259f82d46e64cbfe2955b6cff9a9","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-config.js","hash":"226fccbe9c93265e65a300e3cb4bf6f9065cfdd7","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-url.js","hash":"a11b71ba0c5012e2cdcab31c15439156b215563e","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1657618280360},{"_id":"node_modules/hexo-theme-next/source/css/_mixins.styl","hash":"32d31cb5a155681c19f5ad0bb56dcb08429f93ef","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","hash":"78ce791cc4ac95386cf6839ca72f5f7b51f86ee9","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","hash":"263eddabfae40e54c0591e7baa8403ade8cdd56d","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","hash":"f7c825cbff11885fa0dffa64824fd00e505d6a8d","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","hash":"919f5281c4a04d11cfd94573ecf57b3dbabd3cc8","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","hash":"200088bfd042f5304b2a04befab0829148845e0e","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1657618279970},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head.njk","hash":"0ba2bf0266f1fcb8edbd961869f8521b29685c56","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/brand.njk","hash":"aff4613756456be26415febc668860fdab8d33c5","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-followme.njk","hash":"154df0bb323c332d8c25343f258ee865e5553423","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-footer.njk","hash":"bde2c7356d9362972bde41cc206d5816f8ed714d","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-related.njk","hash":"57eca76cfbbe9a65bc2a77f1deebf003ed335673","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-reward.njk","hash":"002b51d0cae3f2e2e008bdc58be90c728282de5b","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1657618280290},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_partials/sidebar/site-overview.njk","hash":"3d8591bb92df77ceb9d5b07bc76da1ca89e5bd76","modified":1657618280340},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/index.njk","hash":"45477a04cf2b3c077061c8c3ada216c1ae288e0e","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/gitter.njk","hash":"f8cc14b7aa949999a1faaeb7855e2f20b59a386d","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1657618280350},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1657618280300},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1657618280310},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1657618280320},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1657618280330},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/config.js","hash":"c8b59b404f5d2a0b3b5cd1a6c9a10af5f30e43b5","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/utils.js","hash":"ec996d0673f766167c86df0966e9da1ae036e103","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/vendors.js","hash":"64e4024376b51fe81be7ad80235abdf0a83853bd","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"7fa8701c86485b2fe7324e017101a32417902397","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"135b87d151055eefdbc711d9e704b112b3214a84","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Mist.styl","hash":"e1fbf169b9b6a194b518240cbd06ec3c48b83d61","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"c65536a128b9bc9dbe2fbb1b235a3cded2891002","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_variables/base.styl","hash":"163c7441d777bee87042d475e6ce0fde199add28","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","hash":"9794bd4fc6a458322949d6a0ade89cd1026bc69f","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/third-party/rating.js","hash":"4e92c2d107ba47b47826829f9668030d5ea9bfb8","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"bab653bcf226311381e8411a0492202f1bf1fce9","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/index.styl","hash":"fe1868f47681e00a33a96199302be85377282f63","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"64775c729512b30b144ab5ae9dc4a4dfd4e13f35","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"b5c7782368889fa9fd93807d28ff2daf270e3703","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"572a41499391677d84b16d8dbd6a996a3d5ce041","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"fd49b521d67eaccc629f77b4e095cb7310327565","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"4817e77577896ab5c0da434549917ee703a3f4cf","modified":1657618280370},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_layout.styl","hash":"5604ac1e161099a4d3e5657d53507268866dc717","modified":1657618280380},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1657618280380},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"be6cf377ae8f4a01ee76f9b3014e74161d4d5d17","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"06080fd963c904d96c00eff098a284e337953013","modified":1657618280370},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"82a29572dd90451f75358a2ee2522b87304a0bb8","modified":1657618280380},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"b7f48be3c43bfa393d62142544a5487a67871713","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"944364893bd7160d954c10ba931af641c91515a4","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"b741ab96e73370711c63a6581159f2ea8b5bfa1b","modified":1657618280380},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"6eee86c8f0175d6c09e434053516cd8556f78d44","modified":1657618280380},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"d9141e6e14a56b5952488101e9a8388c2170e270","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1657618280390},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1657618279980},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","hash":"e1cc671b0d524864fd445e3ab4ade9ee6d07e565","modified":1657618279990},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","hash":"b6c58f098473b526d6a3cd35655caf34b77f7cff","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1657618280040},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1657618280010},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1657618279970},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","hash":"411a72df581f5b21317dc28633c7993207eb9e1c","modified":1657618280000},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","hash":"5a928990856b8e456f0663cf3b6b406733672e39","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1657618280020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1657618280030},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/index.styl","hash":"d0805a763176b3c0003967401644f41dfe3bc9e8","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-body.styl","hash":"d757768a58743601d0d84158ba955eb15d4c3c01","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-followme.styl","hash":"fc1a7bac6493f24aa50665574f37f3dd954f210c","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-footer.styl","hash":"1d284f3ea03ba9b4feb76b375e539a8e0bccf1c3","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"010c901e4ef49a606f8a350efbf09044e76d2ff3","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"07cff69f2d57e6321595f64c16d8b763dc88df6a","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"b6677dc2a2368084ab82bb4f145ac79e5966c150","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"070737d101e7cd58e997e8c7af09958268c43a21","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/disqusjs.styl","hash":"c2326ee3e8b724d99c24a818ddee32813ea5bf89","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitter.styl","hash":"35104dc6883a61c31e0e368dac8ac2f697be62fe","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/index.styl","hash":"979486a41a81f2a9fd8b0b87c4f87d6416c68c7d","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/related-posts.styl","hash":"41ed817e1eb64078074e245e771446ee041e5790","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/footer/index.styl","hash":"8b9407e5cfd0571ef8de7df19022b268f962fa2f","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/index.styl","hash":"ff642130354a0b3be0d708c43044ed4d710b5e83","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"392fd53a8dd4e3f33a853ebb24290a622300e0ff","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"759e582d34d08e3386c55d87a835a9523608619f","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/index.styl","hash":"cee43480eba028c37d51cb620c2d81486aa24e01","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"9950c3188a28e1c63b5498b7bdcd14b12ace3e28","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"b926e368f702f8686aaa2eb98d3d2e533418958c","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"fbdb63c6a8887d19b7137325ba7d6806f728139c","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"ee94a1a27090ad24e3ed579093088d97ff96d77d","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"021a37cf178440cc341940a299d3bca359996c6b","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"3103b81fc76b59e1e2c161e2c484625c770ed66f","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1657618280450},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"670fc109b56a010b166b86b616823a1aae97a738","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/index.styl","hash":"f2328caa94645836e06fb39a6a9c9a84ed68a8b5","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1657618280400},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1657618280410},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/index.styl","hash":"3f76c73a891bbc10679753e702feba9e8a5ffdd2","modified":1657618280420},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"d27fbf7799695295dd5860a161a13ac4d90c5ba4","modified":1657618280430},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1657618280440},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"7a39bcce7274284e87388743db62afc847fe6897","modified":1657618280450},{"_id":"source/downloads/notebooks/python-intro.zip","hash":"34adc563ac1c8180a8343bc562f817b81a153f7f","modified":1657764697930},{"_id":"public/search.xml","hash":"c59f12c520aac6dfa3e3dc29ac05db2bfa45a009","modified":1657764955456},{"_id":"public/404.html","hash":"50764690c48a603771fe74ee9a43104801768820","modified":1657764955456},{"_id":"public/categories/index.html","hash":"cc942da9d68f1811be6cb59a4650557363d48589","modified":1657764955456},{"_id":"public/about/index.html","hash":"1ec4dffc52041d180bcb78173ec0f6d1b488f4b8","modified":1657764955456},{"_id":"public/tags/index.html","hash":"29ff6ca8365ba66c5d86881473990d78598bafb1","modified":1657764955456},{"_id":"public/downloads/code/download-installpy.html","hash":"6f8921d09254d36df2d71de479de2b27371f54fc","modified":1657764955456},{"_id":"public/2022-07-12-Coming-back-soon.html","hash":"f85f8bdcf1471b4745af2d67283eb6bc788ab881","modified":1657764955456},{"_id":"public/2018-12-04-pandas-sep.html","hash":"ca659c6c3df19df9ee18741fed33bcc6a65774f4","modified":1657764955456},{"_id":"public/archives/index.html","hash":"1950da5db2c65cfd10574b7c6e85cb2ffdb4a4a4","modified":1657764955456},{"_id":"public/archives/page/2/index.html","hash":"8bea641bfbec8d051dc3ad85d6585f3756655c16","modified":1657764955456},{"_id":"public/archives/2018/index.html","hash":"a8b70873678b839bcba12afa582fcdc94cbe9665","modified":1657764955456},{"_id":"public/archives/2018/page/2/index.html","hash":"f5c8fc38f8559b430cd8d3383b93b299fc8e7780","modified":1657764955456},{"_id":"public/archives/2018/07/index.html","hash":"754463c4e7b5495f71bdb054e34bd3ee18ab0a03","modified":1657764955456},{"_id":"public/archives/2018/10/index.html","hash":"531e44611ad1b0004ed7aba9b87f453c56889c40","modified":1657764955456},{"_id":"public/archives/2018/12/index.html","hash":"44bef1a74f64ea86af625101c240607f050ab093","modified":1657764955456},{"_id":"public/archives/2022/index.html","hash":"bc6a1942566f8b133da922ee2ec555c6b40a66b2","modified":1657764955456},{"_id":"public/archives/2022/07/index.html","hash":"0c0a074e54add104bdeeceba5a1dbbbf0554152a","modified":1657764955456},{"_id":"public/categories/Solar-Physics/index.html","hash":"50b4cc33eacba124bced8ce2a5afa9a9e56e415c","modified":1657764955456},{"_id":"public/categories/Solar-Physics/page/2/index.html","hash":"10d879dcd4da65c6ff33d4bea3518074472e0781","modified":1657764955456},{"_id":"public/tags/python/index.html","hash":"bab0a6d8071c82cad58fd663de8d95fbc53d52ff","modified":1657764955456},{"_id":"public/tags/python/page/2/index.html","hash":"6eb303d9ef3ea00c419e47dadb651e7985f37729","modified":1657764955456},{"_id":"public/tags/conda/index.html","hash":"6d0e29d3df01250d2e75c4d6ecce9d65d6d58f3f","modified":1657764955456},{"_id":"public/tags/jupyter/index.html","hash":"569a4c3cf43bcab4ee6d2b2812a1d2b0b046d8d2","modified":1657764955456},{"_id":"public/tags/astropy/index.html","hash":"a26fd3f5faba01c2b7545379e85a959e10320264","modified":1657764955456},{"_id":"public/tags/sunpy/index.html","hash":"b7bff81deeb879b20433d42c8ff360edc5877bd4","modified":1657764955456},{"_id":"public/tags/install/index.html","hash":"5643927dd5a92a5979108750ef4befb9f82b20b0","modified":1657764955456},{"_id":"public/tags/pandas/index.html","hash":"85c1fc773f8df59b26f6f0466cfe33f877f5afa3","modified":1657764955456},{"_id":"public/2018-10-20-pickle.html","hash":"c6be27c2c4a80d96e0f32f2103e07c2537641308","modified":1657764955456},{"_id":"public/2018-10-15-scripts-and-interactive-mode.html","hash":"932b42a85f2cd0852cd8a77008fd5e9dbaa2b1e7","modified":1657764955456},{"_id":"public/advance.html","hash":"931a2acbc3a985097cc6a8396fc23aab1627c647","modified":1657764955456},{"_id":"public/main.html","hash":"7ba2c58740b9ddb091ed1ba9561ff9b07fea8f80","modified":1657764955456},{"_id":"public/installpy.html","hash":"fafb55eaf5bcbdab76c249a224f06a52d4bccfc7","modified":1657764955456},{"_id":"public/index.html","hash":"fec2d2142a1949c849db75dca853c54efe27d75b","modified":1657764955456},{"_id":"public/page/2/index.html","hash":"bc9dc38c1cb3b4f2d08c5654543ae54e75cb274c","modified":1657764955456},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1657764955456},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1657764955456},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1657764955456},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1657764955456},{"_id":"public/images/android-chrome-96x96.png","hash":"be1c25c11612f1a1b48d546a477bbf59726015e4","modified":1657764955456},{"_id":"public/images/apple-touch-icon.png","hash":"368602710fc60228e3b614dd2a39565bf6f098b5","modified":1657764955456},{"_id":"public/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1657764955456},{"_id":"public/images/favicon-32x32.png","hash":"78be7c38199edc4062863e553b5208a59b142a74","modified":1657764955456},{"_id":"public/images/favicon-16x16.png","hash":"ef1a4fe6e91e5febcd1330647977a5df9260189b","modified":1657764955456},{"_id":"public/images/logo.png","hash":"f195962e8c25c4940e5b384c3386b699962d626e","modified":1657764955456},{"_id":"public/images/favicon128.png","hash":"d77a797e11372dd26b55b6038ede6a412ff95207","modified":1657764955456},{"_id":"public/images/favicon.ico","hash":"80e0e1ec359b41445db75c72a864966ccf200f45","modified":1657764955456},{"_id":"public/images/safari-pinned-tab.svg","hash":"82373a0caeb61176027b54dca25c835e2e743aa0","modified":1657764955456},{"_id":"public/images/mstile-150x150.png","hash":"7740d2fb915f9caed52257d3246752f048afdd99","modified":1657764955456},{"_id":"public/images/logo2.png","hash":"f09346a132e26170746df59fe290e80898dd1ebd","modified":1657764955456},{"_id":"public/downloads/code/download-example","hash":"c180e0ae1440eb001934af845ef7eec6ee94cbc4","modified":1657764955456},{"_id":"public/downloads/notebooks/installpy.zip","hash":"dfdbb7ee6a8bda4869fd5fd94e7840279fee4fa8","modified":1657764955456},{"_id":"public/advance/Screenshot_20180618-151438.png","hash":"c010216dbdcf810870960a476f340a74d84da3a5","modified":1657764955456},{"_id":"public/advance/advance_279_1.png","hash":"3839a416cd92c0edc14d871918372dfd800f5207","modified":1657764955456},{"_id":"public/advance/advance_283_0.png","hash":"faf76b662c6523975aafefb13979edf8ca19914e","modified":1657764955456},{"_id":"public/advance/advance_285_0.png","hash":"b444a2dec2f04ad009a9fb5a021fb361d5d65eac","modified":1657764955456},{"_id":"public/advance/nbtutor2.png","hash":"912cb2a637d97c807a1bf2dca65592059e9cfeca","modified":1657764955456},{"_id":"public/advance/nbtutor1.png","hash":"59898a68419bc4c26161cbc5c19e516c1c6d9516","modified":1657764955456},{"_id":"public/advance/scope_resolution_1.png","hash":"ff25a56ea6333a280c6d272e9409cd265ee24619","modified":1657764955456},{"_id":"public/advance/tut_a_2.png","hash":"bb91721eb2bb9f16c2b9ac346dbca952be4b454d","modified":1657764955456},{"_id":"public/main/Canopy-Packages-min-1.png","hash":"d60aae8acfa48c2b66cadd9ace973b331a969c1a","modified":1657764955456},{"_id":"public/main/Conda â€” Conda documentation.png","hash":"61da7e0899e5103ff0e2a2437ab273658c1dde82","modified":1657764955456},{"_id":"public/main/Conda-DistributionDiagram-01.png","hash":"adc44a69e5c879dd37820088c2ec939c19fbe440","modified":1657764955456},{"_id":"public/main/DataScienceLibraries-01.png","hash":"d2a4e85bbfce25f00b652358ee6a2d22b291e6e4","modified":1657764955456},{"_id":"public/main/Python Developers Survey 2017 - Results-018.png","hash":"9f83ecc157cc30f70f2cea3fc736e02397329eb2","modified":1657764955456},{"_id":"public/main/Python Developers Survey 2017 - Results-019.png","hash":"fb19cbd908c0be98b963068f422319c4f840b650","modified":1657764955456},{"_id":"public/main/annotation_demo2_00.png","hash":"bf7ec4bcb9ae5c8738fab6ec6ce5dd08fb1d5a7d","modified":1657764955456},{"_id":"public/main/astropy_banner.svg","hash":"57c914d37f9c8b734738b7e1242517d2b67f91d0","modified":1657764955456},{"_id":"public/main/jupyterlogo.png","hash":"f11277aeaf353e904cdbfc89e981cfacc84a3aff","modified":1657764955456},{"_id":"public/main/logo-large.72ad8bf1.svg","hash":"f9366c64d591e4b0bddb322d43d10f37b4ee5327","modified":1657764955456},{"_id":"public/main/scikitlogo.png","hash":"5b31342ddbf28d20f9cb2d0b39b989520e2a5efa","modified":1657764955456},{"_id":"public/advance/Screenshot_20180617-181206.png","hash":"c01357dfd99b6fa68bf3b4d76f8426e03fb45c37","modified":1657764955456},{"_id":"public/advance/advance_205_0.png","hash":"a3c6d1aa1c624ef3d39b707bd00c40d099acbaaf","modified":1657764955456},{"_id":"public/advance/anatomy.png","hash":"22cf979d9183a449bf759788524f7134dc28bdf3","modified":1657764955456},{"_id":"public/advance/nbtutor3.png","hash":"e3e8e6f331456c25ffc6ccfa7d7925c41573c57b","modified":1657764955456},{"_id":"public/advance/nbtutor4.png","hash":"8b7096dd766d425cca4696f120cbe8e399505877","modified":1657764955456},{"_id":"public/advance/nbtutor5.png","hash":"25ebefe85d5c83c1a9ac68db5ce5546a00dd023e","modified":1657764955456},{"_id":"public/main/Matplotlib.png","hash":"b467048b9ae4bd3b5562c8087e723eef38b3df54","modified":1657764955456},{"_id":"public/main/Python Developers Survey 2017 - Results-020.png","hash":"a441ea5700a4fde0e6eeb42282dbf074bf32240a","modified":1657764955456},{"_id":"public/main/Screenshot_20180625-005924.png","hash":"6ce3aa5e44cec31147feeb25c943930e62c24640","modified":1657764955456},{"_id":"public/main/contour_demo_05.png","hash":"cedd2640a373274ae6384ba0925196bc05624662","modified":1657764955456},{"_id":"public/main/jupyterlab.png","hash":"9abd39b3586af308c977b9ae661646618b04d0f0","modified":1657764955456},{"_id":"public/main/main_126_1.png","hash":"61cb4a4259b363b7b2b2c68ea9012849458ba91b","modified":1657764955456},{"_id":"public/css/noscript.css","hash":"ec89b3425fbce20863d554c6fd495ea29c3c303d","modified":1657764955456},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1657764955456},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1657764955456},{"_id":"public/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1657764955456},{"_id":"public/js/utils.js","hash":"200088bfd042f5304b2a04befab0829148845e0e","modified":1657764955456},{"_id":"public/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1657764955456},{"_id":"public/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1657764955456},{"_id":"public/css/main.css","hash":"46c9c19740cd9ca5527fb6fa363abaacb838a068","modified":1657764955456},{"_id":"public/main/IPython.png","hash":"a80c12e52bdd9a99aa1bbe16ca52bfa1d61f86f0","modified":1657764955456},{"_id":"public/main/SciPy.png","hash":"6f82cd398ae7641230ad5e5cfdeca837dd55c179","modified":1657764955456},{"_id":"public/main/named_colors.png","hash":"b1064f1d26a71dfdfdef897aa1f425403f1356d8","modified":1657764955456},{"_id":"public/main/skimage01.png","hash":"82b5265d4034ab1b2f02db31a9a0ca8bebde008c","modified":1657764955456},{"_id":"public/main/sphx_glr_lat_lon_lines_001.png","hash":"842821eef4c6254f2ceb705cc6093d0bb02c755d","modified":1657764955456},{"_id":"public/main/sphx_glr_submaps_and_cropping_001.png","hash":"52d40b15aba50e980fc78f8647b446482548d444","modified":1657764955456},{"_id":"public/main/nbviewer.png","hash":"c0383936000a1009803281017cbf9ad7231e603f","modified":1657764955456},{"_id":"public/main/pycharm.jpg","hash":"2739c8d4e5d312e49fe56d29a5df653a4ede7673","modified":1657764955456},{"_id":"public/downloads/notebooks/python-intro.zip","hash":"34adc563ac1c8180a8343bc562f817b81a153f7f","modified":1657764955456}],"Category":[{"name":"Solar Physics","_id":"cl5kegavr0004vxgv6ma09ixa"}],"Data":[],"Page":[{"layout":"page","title":"404","comments":0,"_content":"**Page not found :(**\n\n<pre>\n+------------------------------------------------+\n|                                                |\n|  .:::::::::::::::::.                           |\n|  .ppphhhhhyyyyhhyppy                           |\n|  .ppy......oot...ppy                           |\n|  .ppyoot.........ppy                           |\n|  .pppyyyhhh......ppy                           |\n|  .::::::ppy......ppy                           |\n|        .ppy......ppy                           |\n|        .ppy......ppy                           |\n|      ...ppy......ppy                           |\n|     .pppppy......ppy                           |\n|     .ppy.........ppphhhhhhhhhhhhhhhhhh.        |\n|     .ppy.........ppy:::::::::::::::ypp.        |\n|     .ppy......ttoppy...............ypp.        |\n|     .ppy......hhhhho......:::......ypp......   |\n|     .ppy..................ypp......hyyyyyppp.  |\n|     .ppy..................ypp............ypp.  |\n|     .pppyyyyyyyyyyyyyyyyyypppyyyyyyyyyyyyppp.  |\n|      .......................................   |\n|                                                |\n+------------------------------------------------+\n</pre>","source":"404/index.md","raw":"---\nlayout: page\ntitle: 404\npermalink: /404.html\ncomments: false\n---\n**Page not found :(**\n\n<pre>\n+------------------------------------------------+\n|                                                |\n|  .:::::::::::::::::.                           |\n|  .ppphhhhhyyyyhhyppy                           |\n|  .ppy......oot...ppy                           |\n|  .ppyoot.........ppy                           |\n|  .pppyyyhhh......ppy                           |\n|  .::::::ppy......ppy                           |\n|        .ppy......ppy                           |\n|        .ppy......ppy                           |\n|      ...ppy......ppy                           |\n|     .pppppy......ppy                           |\n|     .ppy.........ppphhhhhhhhhhhhhhhhhh.        |\n|     .ppy.........ppy:::::::::::::::ypp.        |\n|     .ppy......ttoppy...............ypp.        |\n|     .ppy......hhhhho......:::......ypp......   |\n|     .ppy..................ypp......hyyyyyppp.  |\n|     .ppy..................ypp............ypp.  |\n|     .pppyyyyyyyyyyyyyyyyyypppyyyyyyyyyyyyppp.  |\n|      .......................................   |\n|                                                |\n+------------------------------------------------+\n</pre>","date":"2022-07-12T16:04:19.080Z","updated":"2022-07-12T16:04:19.080Z","path":"/404.html","_id":"cl5kegavf0000vxgvd3858b99","content":"<p><strong>Page not found :(</strong></p>\n<pre>\n+------------------------------------------------+\n|                                                |\n|  .:::::::::::::::::.                           |\n|  .ppphhhhhyyyyhhyppy                           |\n|  .ppy......oot...ppy                           |\n|  .ppyoot.........ppy                           |\n|  .pppyyyhhh......ppy                           |\n|  .::::::ppy......ppy                           |\n|        .ppy......ppy                           |\n|        .ppy......ppy                           |\n|      ...ppy......ppy                           |\n|     .pppppy......ppy                           |\n|     .ppy.........ppphhhhhhhhhhhhhhhhhh.        |\n|     .ppy.........ppy:::::::::::::::ypp.        |\n|     .ppy......ttoppy...............ypp.        |\n|     .ppy......hhhhho......:::......ypp......   |\n|     .ppy..................ypp......hyyyyyppp.  |\n|     .ppy..................ypp............ypp.  |\n|     .pppyyyyyyyyyyyyyyyyyypppyyyyyyyyyyyyppp.  |\n|      .......................................   |\n|                                                |\n+------------------------------------------------+\n</pre>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>Page not found :(</strong></p>\n<pre>\n+------------------------------------------------+\n|                                                |\n|  .:::::::::::::::::.                           |\n|  .ppphhhhhyyyyhhyppy                           |\n|  .ppy......oot...ppy                           |\n|  .ppyoot.........ppy                           |\n|  .pppyyyhhh......ppy                           |\n|  .::::::ppy......ppy                           |\n|        .ppy......ppy                           |\n|        .ppy......ppy                           |\n|      ...ppy......ppy                           |\n|     .pppppy......ppy                           |\n|     .ppy.........ppphhhhhhhhhhhhhhhhhh.        |\n|     .ppy.........ppy:::::::::::::::ypp.        |\n|     .ppy......ttoppy...............ypp.        |\n|     .ppy......hhhhho......:::......ypp......   |\n|     .ppy..................ypp......hyyyyyppp.  |\n|     .ppy..................ypp............ypp.  |\n|     .pppyyyyyyyyyyyyyyyyyypppyyyyyyyyyyyyppp.  |\n|      .......................................   |\n|                                                |\n+------------------------------------------------+\n</pre>\n"},{"layout":"page","title":"categories","date":"2022-07-12T16:01:21.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\nlayout: page\ntitle: categories\ndate: 2022-07-13 00:01:21\ntype: categories\n---\n","updated":"2022-07-12T16:01:21.000Z","path":"categories/index.html","comments":1,"_id":"cl5kegavl0002vxgv7nhr65nj","content":"\n","site":{"data":{}},"excerpt":"","more":"\n"},{"layout":"page","title":"About","type":"about","comments":0,"_content":"Welcome! This is Lydia Zhang. This blog is about my notes of Python, basically related to solar physics, but not restricted.\n\nSome of the posts and Jupyter notebooks (in Chinese) are backups of my two Python lectures in 2018 when I was in the Solar Physics Group, Nanjing University. The lectures are given to students, as well as researchers who are new to Python or SunPy. The contents are based on my own research experience. Hope they help.\n\nCustom scripts and modules are just examples. Due to the development of SciPy, Astropy, and SunPy, some user-defined functions may no longer be necessary.\n\nPlease contact me if you have any questions. :)\n\n<!-- <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"><img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /></a><br />This work is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 International License</a>. -->\n","source":"about/index.md","raw":"---\nlayout: page\ntitle: About\ntype: \"about\"\ncomments: false\n---\nWelcome! This is Lydia Zhang. This blog is about my notes of Python, basically related to solar physics, but not restricted.\n\nSome of the posts and Jupyter notebooks (in Chinese) are backups of my two Python lectures in 2018 when I was in the Solar Physics Group, Nanjing University. The lectures are given to students, as well as researchers who are new to Python or SunPy. The contents are based on my own research experience. Hope they help.\n\nCustom scripts and modules are just examples. Due to the development of SciPy, Astropy, and SunPy, some user-defined functions may no longer be necessary.\n\nPlease contact me if you have any questions. :)\n\n<!-- <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"><img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /></a><br />This work is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 International License</a>. -->\n","date":"2022-07-14T01:09:58.020Z","updated":"2022-07-14T01:09:58.020Z","path":"about/index.html","_id":"cl5kegavy0006vxgv3rm30hhl","content":"<p>Welcome! This is Lydia Zhang. This blog is about my notes of Python,\nbasically related to solar physics, but not restricted.</p>\n<p>Some of the posts and Jupyter notebooks (in Chinese) are backups of\nmy two Python lectures in 2018 when I was in the Solar Physics Group,\nNanjing University. The lectures are given to students, as well as\nresearchers who are new to Python or SunPy. The contents are based on my\nown research experience. Hope they help.</p>\n<p>Custom scripts and modules are just examples. Due to the development\nof SciPy, Astropy, and SunPy, some user-defined functions may no longer\nbe necessary.</p>\n<p>Please contact me if you have any questions. :)</p>\n<!-- <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"><img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /></a><br />This work is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 International License</a>. -->\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome! This is Lydia Zhang. This blog is about my notes of Python,\nbasically related to solar physics, but not restricted.</p>\n<p>Some of the posts and Jupyter notebooks (in Chinese) are backups of\nmy two Python lectures in 2018 when I was in the Solar Physics Group,\nNanjing University. The lectures are given to students, as well as\nresearchers who are new to Python or SunPy. The contents are based on my\nown research experience. Hope they help.</p>\n<p>Custom scripts and modules are just examples. Due to the development\nof SciPy, Astropy, and SunPy, some user-defined functions may no longer\nbe necessary.</p>\n<p>Please contact me if you have any questions. :)</p>\n<!-- <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"><img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /></a><br />This work is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 International License</a>. -->\n"},{"layout":"page","title":"tags","date":"2022-07-12T15:33:25.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\nlayout: page\ntitle: tags\ndate: 2022-07-12 23:33:25\ntype: tags\n---\n","updated":"2022-07-12T15:33:25.000Z","path":"tags/index.html","comments":1,"_id":"cl5kegaw00007vxgvg7ym7ed0","content":"\n","site":{"data":{}},"excerpt":"","more":"\n"},{"_content":"[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/installpy.zip)","source":"downloads/code/download-installpy.md","raw":"[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/installpy.zip)","date":"2022-07-12T13:01:15.120Z","updated":"2022-07-12T13:01:15.120Z","path":"downloads/code/download-installpy.html","title":"","comments":1,"layout":"page","_id":"cl5kegaw10008vxgv0jiw9obu","content":"<p><a\nhref=\"/downloads/notebooks/installpy.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a\nhref=\"/downloads/notebooks/installpy.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n"}],"Post":[{"title":"Python è¿›é˜¶ (lecture for Solar Group)","mathjax":true,"date":"2018-07-02T13:46:13.000Z","_content":"[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/python-intro.zip)\n\n## Anaconda\n\n> A **conda package** is a compressed tarball file that contains system-level libraries,\nPython or other modules, executable programs and other components.\n**Conda** keeps track of the dependencies between packages and platforms.<br>\n(https://conda.io/docs/user-guide/concepts.html)\n\n* å‡¡ä½¿ç”¨ <span style=\"color:blue\">pip install</span> å®‰è£…çš„åŒ…å‡ä¸ºç¼–è¯‘å®‰è£…, <span style=\"color:blue\">conda install</span> å®‰è£…çš„åˆ™ä¸ºç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ….\n* conda åŒ…å¯ä»¥æ‰“åŒ…å…¶ä»–è¯­è¨€, pip åŒ…å®¹æ˜“å‡ºçŽ°ç³»ç»Ÿä¾èµ–é—®é¢˜\n* conda åŒ…çš„ä¾èµ–ç®¡ç†æ›´å®Œå–„\n* conda çŽ¯å¢ƒä¸‹ä»å¯ä½¿ç”¨ pip è¿›è¡Œå®‰è£…, ä½†æ‰€ä½¿ç”¨çš„ pip å‘½ä»¤å’Œç³»ç»Ÿä¸­çš„ pip äº’ä¸å½±å“, å®‰è£…çš„åŒ…çš„ä½ç½®ä¹Ÿåœ¨ conda æœ¬èº«çš„ç›®å½•ä¸‹.\n* æ¯ä¸ªçŽ¯å¢ƒäº’ä¸å½±å“, å„çŽ¯å¢ƒä¸‹çš„åŒ…è™½ç„¶å¿…é¡»åˆ†åˆ«å®‰è£… (ä¹Ÿå¯ä»¥ clone ä¸€ä¸ªçŽ°æœ‰çŽ¯å¢ƒ),<br>\n  ä½†å¦‚æžœæœ‰ä¸åŒçŽ¯å¢ƒä¸­æœ‰é‡å¤çš„åŒ… conda å°†é»˜è®¤ä½¿ç”¨ *hard link*.\n\n(æ›´å¤šè®¨è®ºå‚è€ƒ <http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)>\n<!-- more -->\n\n<img src='/advance/Screenshot_20180617-181206.png' width='650'/>\n\n* python ä½ç½® (æœªä½¿ç”¨ conda æ—¶)\n\nä½¿ç”¨\n```\n$ python -m site\n```\nå¯ä»¥çœ‹åˆ°æœ‰å“ªäº›ç›®å½•.\n\nä¸‰ä¸ªéƒ¨åˆ†:\n\n- **root**\n<pre>\n/<span style=\"color:#800080\"><b>usr</b></span>/lib/...\n/<span style=\"color:#800080\"><b>usr</b></span>/bin/...\n</pre>\n\n- **user**\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/lib/...\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/bin/...\n</pre>\n\n- **anaconda/miniconda**\n<pre>\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/lib/...\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/bin/...\n</pre>\n\n* conda ç›®å½•ç»“æž„ (å®‰è£…ä¹‹åŽè‡ªåŠ¨ä¿®æ”¹äº†è½¯è¿žæŽ¥, ä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽç³»ç»Ÿä¼˜å…ˆä½¿ç”¨è¿™ä¸ªä½ç½®)\n\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>miniconda3/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>pkgs/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python3</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">jupyter</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">h5dump</span>\n    â”‚        â””â”€â”€ ...\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>envs</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env1/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”‚        â”‚        â””â”€â”€ ...\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env2/</b></span>\n    â”‚        â””â”€â”€ ...\n    â””â”€â”€ ...\n</pre>\n\n## IPython & Jupyter\n\nå‚è€ƒæ–‡æ¡£\n<http://jupyter-notebook.readthedocs.io/en/stable/>\n\n* é…ç½®æ–‡ä»¶è·¯å¾„\n\nä¸€èˆ¬ç”¨æˆ·é…ç½®æ–‡ä»¶åœ¨ `~/.jupyter`\n\n```python\n!jupyter --paths\n```\n\n    config:\n        /home/lydia/.jupyter\n        /home/lydia/miniconda3/etc/jupyter\n        /usr/local/etc/jupyter\n        /etc/jupyter\n    data:\n        /home/lydia/.local/share/jupyter\n        /home/lydia/miniconda3/share/jupyter\n        /usr/local/share/jupyter\n        /usr/share/jupyter\n    runtime:\n        /run/user/1000/jupyter\n\n\n* åˆ—å‡ºæ‰€æœ‰ magic functions:\n\n```python\n%lsmagic\n```\n\n* è¿è¡Œè„šæœ¬:\n\n```python\n%run script.py\n%run script.ipynb\n```\n\n* åœ¨å•ä¸ª Cell ä¸­è°ƒç”¨å…¶ä»–è¯­è¨€ (å­è¿›ç¨‹):\n\n```sh\n%%sh\ncd ~/miniconda3/\npwd\n```\n\n    /home/lydia/miniconda3\n\n\nå¯ä»¥çœ‹åˆ°å®žé™…å¹¶æœªæ”¹å˜å½“å‰ç›®å½• (å› ä¸ºæ˜¯å­è¿›ç¨‹):\n\n```python\npwd\n```\n\n\n\n\n    '/home/lydia/codes/zly/python/python-intro'\n\n\n\n```python\n%%script idl\ncd, current=d\nprint, d\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n    IDL Version 8.2.1 (linux x86_64 m64). (c) 2012, Exelis Visual Information Solutions, Inc.\n    \n\n\n* é€è¡Œä½¿ç”¨ bash å‘½ä»¤ (æ³¨æ„ä¸åŠ  '!' çš„åŒºåˆ«):\n\n```python\n!idl -e field3dgui\n```\n\n```python\n!ls ./\n```\n\nå¾—åˆ°çš„ç»“æžœå¯ä»¥å­˜å…¥å˜é‡:\n\n```python\ncurrent, = !pwd  # returns a list\ncurrent\n```\n\n\n\n\n    '/home/lydia/python-intro'\n\n\n\nä¸‹é¢è¿™ä¸¤å¥ä¸èƒ½å†™åœ¨ä¸€ä¸ª Cell ä¸­:\n\n```python\ncd -q ~/miniconda3/\n```\n\n```python\npwd\n```\n\n\n\n\n    '/home/lydia/miniconda3'\n\n\n\nç”¨ `{var}` (æŽ¨è) æˆ– `$var` (ä¸æŽ¨è) è°ƒç”¨å½“å‰ ipython çŽ¯å¢ƒçš„å˜é‡:\n\n```python\ncd {current}\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n```python\ncd \"$current\"\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n```python\ncd $current\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\nè§ <http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/>\n\n* åˆ—å‡ºå½“å‰çš„å˜é‡ä¿¡æ¯\n\n```python\na = 1\nb = 'x'\n\n%whos int str\n```\n\n    Variable   Type    Data/Info\n    ----------------------------\n    a          int     1\n    b          str     x\n\n\n## è¯­æ³•ç»†èŠ‚\n\n### python2 & python3\n\n```python\n%%python2\nprint 1 / 2\nprint 1 // 2\n```\n\n    0\n    0\n\n\n```python\n%%python3\nprint(1 / 2)\nprint(1 // 2)\n```\n\n    0.5\n    0\n\n\nè¯¦è§ [Python 2 -> 3 çš„è½¬æ¢](#Python-2-->-3-çš„è½¬æ¢)\n\n### list, tuple\n\n* å¯¹ list æˆ– tuple, å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶, æ³¨æ„åŠ é€—å·:\n\n```python\nl = [1]\ntype(l)\n```\n\n\n\n\n    list\n\n\n\n```python\nl = [1,]\ntype(l)\n```\n\n\n\n\n    list\n\n\n\n```python\nl = (1)\ntype(l)\n```\n\n\n\n\n    int\n\n\n\n```python\nl = (1,)\ntype(l)\n```\n\n\n\n\n    tuple\n\n\n\n* èµ‹å€¼, æ˜Ÿå· (`*`) è¡¨è¾¾å¼ç”¨æ¥å±•å¼€ list/tuple, åŒæ˜Ÿå· (`**`) ç”¨æ¥å±•å¼€ dict (å¸¸ç”¨äºŽå‡½æ•°å‚æ•°è¡¨):\n\n```python\na, b, *c = [0, 1, 2, 3]\na, b, c\n```\n\n\n\n\n    (0, 1, [2, 3])\n\n\n\n```python\na, *_ = [0, 1, 2, 3] # æˆ– a, = ...\na\n```\n\n\n\n\n    0\n\n\n\n### dict\n\n* dict æ”¹å˜æŸä¸ª key ä½† value ä¸å˜çš„æ–¹æ³•\n\n```python\nd = {'a' : 1, 'b' : 2}\nd['c'] = d.pop('b')  # åˆ©ç”¨ `pop` è¿”å›žå€¼, æ›´æ”¹ key å€¼\nd\n```\n\n\n\n\n    {'a': 1, 'c': 2}\n\n\n\n* dict æ±‚å¹¶é›†\n\n```python\nd1 = {'a' : 1, 'b' : 2}\nd2 = {'a' : -1, 'c' : 3, 'd' : 4}\n```\n\n```python\ndict(d1, **d2)  # é‡å¤çš„ key å–åŽä¸€ä¸ªçš„å€¼\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n```python\ndict(list(d1.items()) + list(d2.items()))  # æ³¨æ„å…¶ä¸­çš„ list\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n```python\nd1.update(d2)\nd1\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n### set\n\n* set åŸºæœ¬æ“ä½œ\n\n```python\ns = {1, 2}\n```\n\n```python\ns.add(3) # one element only\ns\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\ns.update([4, 5]) # iterable: list/tuple/set/...\ns\n```\n\n\n\n\n    {1, 2, 3, 4, 5}\n\n\n\n```python\ns.remove(1)\ns\n```\n\n\n\n\n    {2, 3, 4, 5}\n\n\n\n```python\ns.discard(0)  # No error if not exist\ns\n```\n\n\n\n\n    {2, 3, 4, 5}\n\n\n\n* set æ±‚äº¤é›†, å¹¶é›†, å·®é›†, å¯¹ç§°å·®é›†, å­é›†\n\n```python\n{1, 2}.intersection({2, 3})\n```\n\n\n\n\n    {2}\n\n\n\n```python\n{1, 2} & {2, 3}  # æˆ–ç”¨ and\n```\n\n\n\n\n    {2}\n\n\n\n```python\n{1, 2}.union({2, 3})\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\n{1, 2} | {2, 3}  # æˆ–ç”¨ or\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\n{1, 2}.difference({2, 3})\n```\n\n\n\n\n    {1}\n\n\n\n```python\n{1, 2} - {2, 3}  # åœ¨å‰ä¸åœ¨åŽ\n```\n\n\n\n\n    {1}\n\n\n\n```python\n{1, 2}.symmetric_difference({2, 3})\n```\n\n\n\n\n    {1, 3}\n\n\n\n```python\n{1, 2} ^ {2, 3}  # ä¸åŒæ—¶åœ¨ä¸¤è¾¹\n```\n\n\n\n\n    {1, 3}\n\n\n\n* å±žäºŽ, åŒ…å«äºŽ(å­é›†)\n\n```python\n2 in {1, 2, 3}  # list/tuple/set\n```\n\n\n\n\n    True\n\n\n\n```python\n4 not in {1, 2, 3}  # list/tuple/set\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2}.issubset({1, 2, 3})\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2} <= {1, 2, 3}\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2, 3}.issuperset({1, 2})\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2, 3} >= {1, 2}\n```\n\n\n\n\n    True\n\n\n\n### ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º\n\næ’ä»¶ <https://github.com/lgpage/nbtutor><br>\nç½‘é¡µç‰ˆ <http://pythontutor.com/>\n\n```python\n%reload_ext nbtutor\n```\n\n```python\n%%nbtutor -r -f\nl1= (0)\nl2 = (0,)\n```\n\n    \n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9J3bf)\n\n<img src='/advance/nbtutor1.png' width='550'/>\n\n```python\n%%nbtutor -r -f -i\na = 3\nb = 4\nt = (1, 2, [a, b]) # list in tuple\na = 'x' # change element in list\nt[2][0] = 'xx' # change element in tuple\n```\n\n```python\nprint(t)\n```\n\n    (1, 2, ['xx', 4])\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9idUn)\n\n<img src='/advance/nbtutor2.png' width='550'/>\n\n### åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯\n\n```python\nl = [1, 2, 3, 4, 5]\n[i for i in l if i > 2]\n```\n\n\n\n\n    [3, 4, 5]\n\n\n\nä¾‹å¦‚ç”¨ `globals()` æ¥å¾—åˆ°å­—ç¬¦ä¸²å½¢å¼çš„å˜é‡å (python çš„å˜é‡æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½çš„å…³é”®å­—, å› ä¸º\"å˜é‡å\"å­˜å‚¨åœ¨namespacesä¸­)\n\n```python\ndef namestr(obj, namespace):\n    return [name for name in namespace if namespace[name] is obj][0]\na = 1\nb = 2\nfor var in (a, b):\n    print(f'{namestr(var, globals())} = {var}')\n```\n\n    a = 1\n    b = 2\n\n\n### å•è¡Œ if (ä¸‰å…ƒå…³ç³»è¿ç®—)\n\n```python\na = 1\nb = 'y' if a > 0 else 'n'\nb\n```\n\n\n\n\n    'y'\n\n\n\n### å¾ªçŽ¯, è¿­ä»£å™¨, ç”Ÿæˆå™¨\n\nPython çš„ for å¾ªçŽ¯ä¸ä½¿ç”¨ç´¢å¼•å˜é‡, è€Œä½¿ç”¨éåŽ†**è¿­ä»£å™¨** (iterator) çš„æ–¹å¼å¤„ç†**å¯è¿­ä»£å¯¹è±¡** (range, set ç­‰):\n\n```python\nfor i in range(5):\n    ...\n```\n\néåŽ†çš„æ–¹å¼æ˜¯ä½¿ç”¨ `iter` å’Œ `next` å‡½æ•°:\n\n```python\na = iter(range(5))  # ç”Ÿæˆä¸€ä¸ª range_iterator å¯¹è±¡\n```\n\n```python\nnext(a)\n```\n\n\n\n\n    0\n\n\n\n```python\nlist(range(5))  # è½¬æ¢ä¸º list\n```\n\n\n\n\n    [0, 1, 2, 3, 4]\n\n\n\n`enumerate` å‡½æ•°é€‚åˆéœ€è¦åŒæ—¶ä½¿ç”¨ç´¢å¼•å’Œå†…å®¹æ—¶ä½¿ç”¨:\n\n```python\nfor i, item in enumerate(l):  # enumerate()æ˜¯ä¸€ä¸ªè¿­ä»£å™¨\n    i = ...\n    item = ...  # l[i] = ...\n```\n\nç”Ÿæˆå™¨:\n\n```python\na = (i**2 for i in range(5))  # äº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨, å¯è½¬åŒ–æˆ list, tuple\na\n```\n\n\n\n\n    <generator object <genexpr> at 0x14da87e652b0>\n\n\n\n```python\nnext(a)  # ç”Ÿæˆå™¨ä¹Ÿæ˜¯è¿­ä»£å™¨\n```\n\n\n\n\n    4\n\n\n\n```python\na = [i for i in range(3)]  # äº§ç”Ÿä¸€ä¸ª list\na\n```\n\n\n\n\n    [0, 1, 2]\n\n\n\n```python\n# è½¬åŒ–æˆ tuple\ntuple(i for i in range(3))\n```\n\n\n\n\n    (0, 1, 2)\n\n\n\n### å‡½æ•°å®šä¹‰\n\n* ä¸€èˆ¬çš„å‡½æ•°å®šä¹‰:\n\n```python\ndef func(a, b, *args, **kwargs):\n    # func1(x, y, arg1, arg2, ..., key1=val1, key2=val2, ...)\n    ...\n    return ... # æ²¡æœ‰ return æˆ–ä¸ºç©º åˆ™è¿”å›ž None\n```\n\n* å•è¡Œå‡½æ•° lambda\n\n```python\ndef f(x, y):\n    return x + y\nf(1, 2)\n```\n\n\n\n\n    3\n\n\n\nç”¨ `lambda` è¯­æ³•æ¥å®šä¹‰:\n\n```python\nf = lambda x, y: x + y\nf(1, 2)\n```\n\n\n\n\n    3\n\n\n\n```python\n(lambda x, y: x + y)(1, 2)  # ä¸ä¸€å®šéœ€è¦å®šä¹‰å‡½æ•°åç§°\n```\n\n\n\n\n    3\n\n\n\n### å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ\n\n<https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html>\n\n<img src='/advance/scope_resolution_1.png' width='400' />\n\n* Built-in Functions <https://docs.python.org/3/library/functions.html>\n* Built-in Constants <https://docs.python.org/3/library/constants.html>\n\n`globals()` ä»¥ dict å½¢å¼è¿”å›žå½“å‰æ‰€æœ‰å…¨å±€å˜é‡, åŒ…æ‹¬å¯¼å…¥çš„åŒ…å, ipython/jupyter çš„ `In`, `Out` ç­‰.<br>\npython ä»¥ name -> obj çš„å½¢å¼å­˜å‚¨è¿™äº›å˜é‡.\n\n```python\na = 1\nb = 2\n```\n\n```python\nglobals()['a'] is a\n```\n\n\n\n\n    True\n\n\n\n```python\ni = 1\ndef f():\n    i = 2\n    print(i, 'local')\n    return\nf()\nprint(i, 'global')\n```\n\n    2 local\n    1 global\n\n\n```python\ni = 1\nfor i in range(4):\n    pass\ni  # å€¼è¢«æ”¹å˜äº† (â€œleakingâ€)\n```\n\n\n\n\n    3\n\n\n\n```python\ni = 1\n[i for i in range(3)]\ni  # ç”¨è¿™ç§æ–¹å¼å°±ä¸ä¼šå‘ç”Ÿâ€œleakingâ€\n```\n\n\n\n\n    1\n\n\n\næœ‰å…³å‡½æ•°ä¸­çš„å˜é‡ä½œç”¨æ–¹å¼ç»†èŠ‚, å‚è€ƒè¿™é‡Œæåˆ°çš„ä¾‹å­: [stackoverflow](https://stackoverflow.com/a/575887)\n\n\n\n> * Any time you see <font color=blue>**varname =**</font>, you're **creating a new name** binding within the function's scope.<br>Whatever value `varname` was bound to before is lost within this scope.\n>\n> * Any time you see <font color=blue>**varname.foo()**</font>, you're **calling a method** on `varname`. The method may alter `varname` (e.g. `list.append`). <br>\n`varname` (or, rather, the object that `varname` names) may exist in more than one scope, and since it's the same object, <br>**any changes will be visible in all scopes**.\n\n## NumPy\n\n### numpy çš„æ•°æ®ç±»åž‹ dtype\n\n<https://www.tutorialspoint.com/numpy/numpy_data_types.htm>\n```python\n>>> np.dtype(np.int64) is np.dtype('i8') is np.dtype('<i8')\nTrue\n>>> np.dtype(np.int64) is np.dtype('int') is np.dtype('int64')\nTrue\n>>> np.dtype(np.int64) is np.dtype('>i8')\nFalse\n```\n```python\n>>> np.dtype(np.float64) is np.dtype('f8') is np.dtype('<f8')\nTrue\n>>> np.dtype(np.float64) is np.dtype('float') is np.dtype('float64')\nTrue\n```\nè§ [Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™](#Fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™) ä¸­çš„åº”ç”¨.\n\n### np.arange å‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚\n\n```python\nnp.arange(0., 1.8, 0.3)  # é»˜è®¤ä¸åŒ…å« `stop` è¿™ä¸ªç‚¹\n```\n\n\n\n\n    array([0. , 0.3, 0.6, 0.9, 1.2, 1.5])\n\n\n\n```python\nnp.arange(0., 2.1, 0.3)  # è¿™é‡Œå´åŒ…æ‹¬äº†, ä¸ºä»€ä¹ˆ?\n```\n\n\n\n\n    array([0. , 0.3, 0.6, 0.9, 1.2, 1.5, 1.8, 2.1])\n\n\n\n```python\n'%.16f' % 2.1  # å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æ–¹å¼äº§ç”Ÿçš„ç²¾åº¦é—®é¢˜\n```\n\n\n\n\n    '2.1000000000000001'\n\n\n\nçœ‹ä¸€ä¸ªæ±‚å’Œçš„ä¾‹å­ä¸­åŒæ ·çš„é—®é¢˜ (ç”¨ `list` å’Œ `numpy.ndarray` æ•ˆæžœä¸€æ ·):\n\n```python\nprint('%.17f' % 0.1)\n# sum([0.1, ..., 0.1])\n\nprint('%.17f' % sum([0.1] * 10))\n# å› ä¸ºåŒæ ·é—®é¢˜, ç´¯ç§¯äº†è¯¯å·®\n\nimport math\nprint('%.17f' % math.fsum([0.1] * 10))\n```\n\n    0.10000000000000001\n    0.99999999999999989\n    1.00000000000000000\n\n\n```python\nsum([0.1] * 10) == 1\n```\n\n\n\n\n    False\n\n\n\n```python\nmath.fsum([0.1] * 10) == 1\n```\n\n\n\n\n    True\n\n\n\n```python\nmath.fsum([0.1] * 10) == 1.0\n```\n\n\n\n\n    True\n\n\n\nå‚è€ƒ <https://docs.python.org/3/tutorial/floatingpoint.html>\n\nå»ºè®®æ˜¯: ä½¿ç”¨æ•´æ•°; å¯¹æµ®ç‚¹æ•°çš„æƒ…å†µ, stop å€¼è®¾å¾—ç•¥å°ä¸€äº› (æ¯”å¦‚å‡åŽ»æ­¥é•¿çš„ä¸€èˆ¬) ä»¥é˜²æ­¢æ”¹ç‚¹è¢«åŒ…å«, æˆ–ä½¿ç”¨ `np.linspace` ä»£æ›¿.\n\n### çŸ©é˜µ\n\n`np.matrix`(çŸ©é˜µ) æ˜¯ `np.ndarray`(æ•°ç»„) çš„ä¸€ä¸ªå­ç±», ç»§æ‰¿äº†çˆ¶çº§çš„æ–¹æ³•, ä¹Ÿå®šä¹‰äº†æ–°çš„æ–¹æ³• (ä¾‹å¦‚çŸ©é˜µè¿ç®—).\n\n```python\nissubclass(np.matrix, np.ndarray)\n```\n\n\n\n\n    True\n\n\n\n```python\na = np.matrix([[0, 1, 2], [3, 4, 5]]); a\n```\n\n\n\n\n    matrix([[0, 1, 2],\n            [3, 4, 5]])\n\n\n\n```python\na = np.matrix(\"0 1 2; 3 4 5\"); a\n```\n\n\n\n\n    matrix([[0, 1, 2],\n            [3, 4, 5]])\n\n\n\n```python\ntype(a)\n```\n\n\n\n\n    numpy.matrixlib.defmatrix.matrix\n\n\n\n`np.asmatrix` (æˆ–ç®€å†™ä½œ `np.mat`) ç›¸å½“äºŽ `np.matrix(data, copy=False)`\n\n```python\nx = np.array([[1, 2], [3, 4]])\nm = np.matrix(x)\nm[0, 0] = 5\nx\n```\n\n\n\n\n    array([[1, 2],\n           [3, 4]])\n\n\n\n```python\nx = np.array([[1, 2], [3, 4]])\nm = np.mat(x)\nm[0, 0] = 5\nx\n```\n\n\n\n\n    array([[5, 2],\n           [3, 4]])\n\n\n\n```python\nx.__array_interface__['data'][0] == m.__array_interface__['data'][0]\n```\n\n\n\n\n    True\n\n\n\næ³¨æ„: `np.matrix` æ—¢æ˜¯ä¸€ä¸ªç±»åä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å, è€Œ `np.mat`, `np.asmatrix` åªæ˜¯å‡½æ•°å.\n\n### æ•°ç»„å’ŒçŸ©é˜µè¿ç®—\n\n#### æ•°ç»„è¿ç®—\n\n```python\na = np.arange(12).reshape(3, -1); a\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\na.max()\n```\n\n\n\n\n    11\n\n\n\n```python\na * a  # æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—\n```\n\n\n\n\n    array([[  0,   1,   4,   9],\n           [ 16,  25,  36,  49],\n           [ 64,  81, 100, 121]])\n\n\n\n```python\na ** 2  # æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—\n```\n\n\n\n\n    array([[  0,   1,   4,   9],\n           [ 16,  25,  36,  49],\n           [ 64,  81, 100, 121]])\n\n\n\n#### ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—\n\n`scipy.linalg` ä¸Ž `numpy.linalg` çš„æ¯”è¾ƒ: \n<https://scipy.github.io/devdocs/tutorial/linalg.html>\n>* `scipy.linalg` contains **all** the functions in `numpy.linalg` plus some other more **advanced** ones not contained in `numpy.linalg`\n* Despite its convenience, the use of the `numpy.matrix` class is **discouraged**.\n* `scipy.linalg` operations can be applied **equally** to `numpy.matrix` or to 2D `numpy.ndarray` objects.\n\n```python\na = np.diagflat([1., 2., 3.]); a\n```\n\n\n\n\n    array([[1., 0., 0.],\n           [0., 2., 0.],\n           [0., 0., 3.]])\n\n\n\n```python\nb = np.array([[-1., -1., -1.],[0., 0., 0.]]); b\n```\n\n\n\n\n    array([[-1., -1., -1.],\n           [ 0.,  0.,  0.]])\n\n\n\n```python\nfrom scipy.linalg import inv\ninv(a)  # æ±‚é€†\n```\n\n\n\n\n    array([[ 1.        ,  0.        , -0.        ],\n           [ 0.        ,  0.5       , -0.        ],\n           [ 0.        ,  0.        ,  0.33333333]])\n\n\n\n```python\na.dot(b.T)  # çŸ©é˜µå†…ç§¯\n```\n\n\n\n\n    array([[-1.,  0.],\n           [-2.,  0.],\n           [-3.,  0.]])\n\n\n\n#### ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—\n\nä½¿ç”¨ numpy çš„çŸ©é˜µç±»åž‹ `numpy.matrix`\n\n```python\na = np.mat(np.diagflat([1., 2., 3.])); a\n```\n\n\n\n\n    matrix([[1., 0., 0.],\n            [0., 2., 0.],\n            [0., 0., 3.]])\n\n\n\n```python\nb = np.mat(np.array([[-1., -1., -1.],[0., 0., 0.]])); b\n```\n\n\n\n\n    matrix([[-1., -1., -1.],\n            [ 0.,  0.,  0.]])\n\n\n\n```python\na * b.T  # çŸ©é˜µå†…ç§¯, æ³¨æ„ä¸Žæ•°ç»„çš„è¿ç®—ç¬¦å®šä¹‰ä¸åŒ\n```\n\n\n\n\n    matrix([[-1.,  0.],\n            [-2.,  0.],\n            [-3.,  0.]])\n\n\n\n```python\na @ b.T  # çŸ©é˜µå†…ç§¯çš„æ–°å†™æ³•, python 3.5+\n```\n\n\n\n\n    matrix([[-1.,  0.],\n            [-2.,  0.],\n            [-3.,  0.]])\n\n\n\n```python\na.I  # æ±‚é€†\n```\n\n\n\n\n    matrix([[ 1.        ,  0.        , -0.        ],\n            [ 0.        ,  0.5       , -0.        ],\n            [ 0.        ,  0.        ,  0.33333333]])\n\n\n\n### ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼\n\n* **`np.meshgrid`**\n\n```python\n>>> x = np.linspace(0, 2, 3); x\narray([ 0.,  1.,  2.])\n>>> y = np.linspace(3, 6, 4); y\narray([3., 4., 5., 6.])\n# X, Y å½¢çŠ¶ç›¸åŒ: N x M çŸ©é˜µ, shape=(N, M)\n>>> X, Y = np.meshgrid(x, y)\n>>> X                         # X[j, :] è¡¨ç¤ºåŒä¸€å±‚ y[j] å¯¹åº”çš„ä¸åŒ x å€¼\narray([[0., 1., 2.],          #  0_____x\n       [0., 1., 2.],          #  |\n       [0., 1., 2.],          #  |y\n       [0., 1., 2.]])\n>>> Y\narray([[3., 3., 3.],          # Y[:, i] è¡¨ç¤ºåŒä¸€å±‚ x[i] å¯¹åº”çš„ä¸åŒ y å€¼\n       [4., 4., 4.],\n       [5., 5., 5.],\n       [6., 6., 6.]])\n```\nå¯ç”¨æ¥è®¡ç®—åæ ‡çš„å‡½æ•° (ä¾‹å¦‚ç£åœºçš„è¡¨è¾¾å¼ç­‰ç­‰, è§ [examples/streamplot.py](examples/streamplot.py) )\n```python\nU =   (np.cos(k1 * X) * np.exp(-k1 * Y)\n     - np.cos(k2 * X) * np.exp(-k2 * Y))\nV = (- np.sin(k1 * X) * np.exp(-k1 * Y)\n     + np.sin(k2 * X) * np.exp(-k2 * Y))\n```\n\n```python\nx = np.linspace(0, 2, 3)\ny = np.linspace(3, 6, 4)\nX, Y = np.meshgrid(x, y, indexing='ij')\nY.shape\n```\n\n\n\n\n    (3, 4)\n\n\n\n* **`np.mgrid`**\n\n`j` æ ‡è®°é»˜è®¤æ˜¯è™šæ•°å•ä½, ä½†åœ¨è¿™é‡Œè¡¨ç¤ºå‰é¢çš„æ•°å­—æ˜¯æ ¼ç‚¹æ•°.<br>\næ ¼ç‚¹æ•°ä½¿ç”¨å˜é‡ *`n`* æ—¶, å¯å†™æˆ: *`n`*`*1j + 1j`, 1ä¸èƒ½çœ (å¦åˆ™jå®šä¹‰ä¸ºå˜é‡)<br>\nç±»ä¼¼çš„ `np.ogrid` å¯å‚è§ numpy ç›¸å…³æ–‡æ¡£\n\n```python\n>>> x = np.linspace(0, 2, 3)\n>>> y = np.linspace(3, 6, 4)\n\n# ä¸‹é¢ä¸‰è¡Œç­‰ä»·\n>>> X, Y = np.mgrid[0:2:3j, 3:6:4j]\n>>> X, Y = np.array([i.astype(np.float64) for i in np.mgrid[0:3, 3:7]])\n>>> X, Y = np.array(np.meshgrid(x, y, indexing='ij'))\n# np.mgrid[0:2:3j, 3:6:4j] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'float64'\n# np.mgrid[0:3, 3:6] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'int64'\n# np.meshgrid(x, y, indexing='ij') å¾—åˆ°ä¸€ä¸ª list, æ•°æ®æ ¼å¼åŒx, y\n\n# X, Y å½¢çŠ¶ç›¸åŒ: M x N çŸ©é˜µ, shape=(M, N)\n>>> X                      # X[i, :] è¡¨ç¤º x[i]\narray([[0., 0., 0., 0.],   #  0_____y\n       [1., 1., 1., 1.],   #  |\n       [2., 2., 2., 2.]])  #  |x\n>>> Y                      # Y[:, j] è¡¨ç¤º y[j]\narray([[3., 4., 5., 6.],\n       [3., 4., 5., 6.],\n       [3., 4., 5., 6.]])\n```\n\n### mask\n\n```python\na = np.arange(9).reshape(3, -1); a\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5],\n           [6, 7, 8]])\n\n\n\n```python\na > 4  # mask\n```\n\n\n\n\n    array([[False, False, False],\n           [False, False,  True],\n           [ True,  True,  True]])\n\n\n\n```python\nnp.where(a > 4)  # å¾—åˆ° tuple(col_indexs, row_indexs)\n```\n\n\n\n\n    (array([1, 2, 2, 2]), array([2, 0, 1, 2]))\n\n\n\n```python\nlist(zip(*np.where(a > 4)))  # ä¹Ÿå¯ä»¥ç”¨ np.array(np.where(a > 4)).T\n```\n\n\n\n\n    [(1, 2), (2, 0), (2, 1), (2, 2)]\n\n\n\n```python\na[a > 4] = -1; a  # same as a[np.where(a > 4)]\n```\n\n\n\n\n    array([[ 0,  1,  2],\n           [ 3,  4, -1],\n           [-1, -1, -1]])\n\n\n\n### å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†\n\nå¤„ç†å«æœ‰ NaN çš„æ•°æ®:\n\ne.g. æ±‚æœ€å€¼å¯ä½¿ç”¨ `np.nanmin(...)` å’Œ `np.nanmax(...)`\n\n## Matplotlib\n\n* å®˜æ–¹æ•™ç¨‹ <https://matplotlib.org/tutorials/introductory/usage.html>\n\n<img src='/advance/anatomy.png' width='600' />\n\n```python\nfig = plt.gcf() # current figure\nax = plt.gca()  # current `Axes`\nim = plt.gci()  # current artist(å›¾åƒå†…å®¹), å¯ç”±è¯¸å¦‚ plt.imshow(...) å¾—åˆ°\n```\n\n* å¾—åˆ°å½“å‰ backend:\n```python\n>>> import matplotlib.pyplot as plt\n>>> plt.get_backend()\n```\næˆ–\n```python\n>>> import maplotlib as mpl\n>>> mpl.get_backend()\n```\n* é€‰æ‹© backend (åœ¨å¯¼å…¥å…¶ä»– matplotlib æ¨¡å—ä¹‹å‰):\n```python\n>>> import matplotlib\n>>> matplotlib.use('TkAgg')  # 'Qt5Agg', 'TkAgg', 'Agg', ...\n```\n\n* ç”¨æˆ·é…ç½®æ–‡æ¡£ `matplotlibrc`<br>\né€šå¸¸çš„ä½ç½®: `~/.config/matplotlib/matplotlibrc` (Linux)\n\n* ç”¨ `zorder` æ¥æŽ§åˆ¶å›¾å±‚:\n\nè¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå±•ç¤ºäº†åŠ å…¥ä¸€ä¸ªåŠ¨æ€çš„ç«–çº¿çš„æ–¹æ³•, è¿™æ¡çº¿åœ¨ä¿å­˜åŽçš„å›¾åƒä¸­ä¸ä¼šæ˜¾ç¤º.\n\n```python\n%matplotlib\n%run -e 'examples/test_plot.py'\n```\n\n* ä½¿ç”¨ [è¿™ä¸ªå·¥å…·](https://github.com/joferkington/mpldatacursor) åŠ¨æ€æ ‡æ³¨å…‰æ ‡ä½ç½®çš„å€¼:\n\n```python\n%matplotlib\n%run -e 'examples/test_imshow.py'\n```\n\n* ç‚¹å‡»å›¾åƒåŽåœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºå…‰æ ‡å¤„ä¿¡æ¯çš„ä¾‹å­\n\nå‘½ä»¤è¡Œè„šæœ¬: [examples/test_imshow_click.py](examples/test_imshow_click.py) (jupyter ä¸­æ— æ³•ä½¿ç”¨)\n\n* å¸ƒå±€é—®é¢˜ <https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html>\n* ç»˜åˆ¶å¹³è¡ŒæŠ•å½±çš„3Då›¾ <https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html>\n* æ›´å¤æ‚çš„ 3D å¯è½¬å­˜å¯è§†åŒ–æ•°æ®ç”¨å…¶ä»–è½¯ä»¶æˆ–ä½¿ç”¨ Mayavi (http://docs.enthought.com/mayavi/mayavi)\n\n## SunPy ç¤ºä¾‹\n\n### ç¤ºä¾‹æ–‡ä»¶\n\n- è¯»å– fits, submap, ä½œå›¾ [example_plothmi](https://lydiazly.coding.me/python-notes/example_plothmi.html)\n\n- æŠ•å½± [example_projection](https://lydiazly.coding.me/python-notes/example_projection.html)\n\n- ä¸‹è½½æ•°æ® [fido](https://lydiazly.coding.me/python-notes/fido.html), [jsoc](https://lydiazly.coding.me/python-notes/jsoc.html)\n \n æ³¨æ„: è¿™äº›ä¾‹å­åªæ˜¯æä¾›ä¸€ä¸ªä½¿ç”¨å‚è€ƒ, ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„.\n\n### ç¤ºä¾‹ä¸­çš„ fits è¯»å–æ–¹æ³•\n\næ›´å¤š FITS çš„è¯»å–æ–¹æ³•å‚è§ [Python ç®€æ˜“æ•™ç¨‹#FITS-æ–‡ä»¶è¯»å–](main.html#FITS-æ–‡ä»¶è¯»å–)<br>\nå¦è§ [Astropy çš„å‘½ä»¤è¡Œå·¥å…·](http://docs.astropy.org/en/stable/io/fits/usage/scripts.html)\n\nè¯»å–`HMIMap` çš„ä¾‹å­:\n\n```python\n# å¯¼å…¥ `sunpy.map` çš„æ—¶é—´ä¼šç•¥æœ‰ç‚¹é•¿\nimport sunpy.map\nsmap = sunpy.map.Map('data/hmi.B_720s.20150827_052400_TAI.field.fits')\ntype(smap)\n```\n\n\n\n\n    sunpy.map.sources.sdo.HMIMap\n\n\n\nè¿™æ˜¯ `GenericMap` çš„ä¸€ä¸ªå­ç±»:\n\n```python\nissubclass(sunpy.map.sources.sdo.HMIMap, sunpy.map.mapbase.GenericMap)\nTrue\n```\n\n\n\n\n    True\n\n\n\n```python\nsmap.meta  # headers\n```\n\n```python\ntype(smap.data)  # ç´¢å¼•ä»Ž 0 å¼€å§‹\n```\n\n\n\n\n    numpy.ndarray\n\n\n\n```python\nsmap.data.shape  # (dimy, dimx)\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n`smap.data[i, j]` ä¸­çš„ i ä¸º Y è½´, å•ä½ä¸º pixel:\n\n```python\nimport matplotlib.pyplot as plt\nplt.imshow(smap.data[0:2000, :], origin='lower');\nplt.show()\n```\n\n\n    \n![png](/advance/advance_205_0.png)\n    \n\n\n### å…³äºŽ Scaled Image Data\n\nè¿™ä¸€éƒ¨åˆ†å°†æ›´ä»”ç»†åœ°æ£€æŸ¥ Astropy å¯¹ç¤ºä¾‹ä¸­çš„ FITS æ–‡ä»¶çš„å¤„ç†.\n\nå‚è§ <http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data>\n\n> Images are scaled only when either of the BSCALE/BZERO keywords are present in the header and either of their values is not the default value (BSCALE=1, BZERO=0).\n\nç”±äºŽ `astropy.io.fits` çš„ç‰¹æ€§, è¯»å– 'Scaled Image Data' æ—¶, è°ƒç”¨ `.data` å°†è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œç¼©æ”¾:\n```python\nphysical value = BSCALE * (storage value) + BZERO\n```\n`astropy.io.fits.open` ä¸­ä½¿ç”¨ `do_not_scale_image_data=True` å¯ç¦ç”¨è¿™ä¸€æ­¥éª¤.\n\nè§ [astropy.io.fits FAQ](http://docs.astropy.org/en/stable/io/fits/appendix/faq.html#why-is-an-image-containing-integer-data-being-converted-unexpectedly-to-floats)\n\næ•°æ®ç±»åž‹:\n\nBITPIX    |Numpy Data Type\n:---:|:---\n8         |numpy.uint8 (unsigned integer)\n16        |numpy.int16\n32        |numpy.int32\n-32       |numpy.float32\n-64       |numpy.float64\n\nå¯ä»¥ä½¿ç”¨ Astropy çš„å‘½ä»¤è¡Œå·¥å…·åœ¨ shell ä¸­æŸ¥çœ‹ä¿¡æ¯:\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.field.fits'\n!fitsinfo {fname}\n```\n\n    Filename: data/hmi.B_720s.20150827_052400_TAI.field.fits\n    No.    Name      Ver    Type      Cards   Dimensions   Format\n      0  PRIMARY       1 PrimaryHDU       6   ()      \n      1                1 CompImageHDU    155   (4096, 4096)   int32   \n\n\nå¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç±»åž‹æ˜¯æ•´å½¢.\n\nç”¨å‘½ä»¤è¡Œå·¥å…·æŸ¥çœ‹å…³é”®å­— 'BITPIX':\n\n```python\n!fitsheader -e 1 --keyword BITPIX {fname}\n```\n\n    # HDU 1 in data/hmi.B_720s.20150827_052400_TAI.field.fits:\n    BITPIX  =                   32 / data type of original image                    \n\n\nä½¿ç”¨ `astropy.io.fits`:\n\n```python\nfrom astropy.io import fits\nhdulist = fits.open(fname)\nhdu = hdulist[1]\n```\n\n```python\nhdu.header['BITPIX']\n```\n\n\n\n\n    32\n\n\n\n'BSCALE' ä¸ä¸ºé›¶åˆ™ä¸º 'scaled':\n\n```python\nhdu.header['BSCALE']\n```\n\n\n\n\n    0.01\n\n\n\n```python\nhdu.header['BZERO']\n```\n\n\n\n\n    0.0\n\n\n\n```python\nhdulist.verify('silentfix+warn')  # è°ƒç”¨ `.data` æ—¶å¦‚æžœå‡ºé”™, éœ€è¦å…ˆè¿›è¡Œè¿™ä¸€æ­¥ä¿®å¤\n```\n\n```python\nhdu.data.dtype  # å·²è‡ªåŠ¨å˜æ¢ä¸º 'physical value', åŒæ—¶ `.header` å°†è¢«ä¿®æ”¹\n```\n\n\n\n\n    dtype('float64')\n\n\n\n```python\nhdu.data[1000, 1000]\n```\n\n\n\n\n    142.83\n\n\n\n```python\nhdu.data[0,0]  # -2147483648 è¢«è½¬ä¸º nan\n```\n\n\n\n\n    nan\n\n\n\n```python\nhdu.header['BITPIX']  # å€¼è¢«æ”¹å˜äº†. åŒæ—¶ 'BSCALE', 'BZERO' è¢«åˆ é™¤\n```\n\n\n\n\n    -64\n\n\n\næ‰‹åŠ¨ scale:\n\n'BSCALE' è™½ç„¶ä¹‹å‰å·²è¢«åˆ é™¤, ä½†å€¼ä»å­˜å‚¨åœ¨ `._orig_bscale` ä¸­. `.scale` å°†ä½¿ç”¨è¿™ä¸ªå€¼.\n\n```python\nhdu.scale('int32')  # åœ¨æ­¤ä¹‹åŽ `.data` å°†å˜æ¢å›ž 'storage value'\n```\n\n```python\nhdu._orig_bscale\n```\n\n\n\n\n    0.01\n\n\n\n```python\nhdu._orig_bzero\n```\n\n\n\n\n    0\n\n\n\n```python\nhdu.data[1000, 1000]\n```\n\n\n\n\n    14283\n\n\n\n```python\nhdu.data[0, 0]  # nan è¢«è½¬ä¸º -2147483648\n```\n\n\n\n\n    -2147483648\n\n\n\n```python\nhdu.header['BITPIX']  # å€¼å†æ¬¡è¢«æ”¹å˜äº†\n```\n\n\n\n\n    32\n\n\n\nä½¿ç”¨ SunPy å¤„ç†æ—¶, 'BITPIX', 'BSCALE', 'BZERO' çš„å€¼è¢«ä¿ç•™, `.data` ä»è¿›è¡Œäº† scale çš„è¿‡ç¨‹.\n\né’ˆå¯¹ä¸åŒæ–‡ä»¶, å¦‚æžœ SunPy çš„ç¨‹åºå†…éƒ¨ä½¿ç”¨ `astropy.io.fits` å¤„ç†æ–‡ä»¶æ—¶è°ƒç”¨äº† `.data` å†è¿”å›ž header, å³ `astropy.io.fits` å·²ç»å¦‚ä¸Šæ‰€è¿°æ”¹å˜äº† header, é‚£ä¹ˆ SunPy æ‰€è¿”å›žçš„ header ä¸­ 'BITPIX', 'BSCALE', 'BZERO' å¯èƒ½å·²ç»è¢«æ”¹å˜.\n\nä¸‹é¢çš„ä¾‹å­ä¸­å¾—åˆ°çš„ header æ˜¯æœ€åˆçš„å€¼:\n\n```python\nimport sunpy.map\nsmap = sunpy.map.Map('data/hmi.B_720s.20150827_052400_TAI.field.fits')\n```\n\n```python\nsmap.meta['BITPIX']  # å¾—åˆ°çš„æ˜¯æœªè¢«æ”¹å˜çš„ header\n```\n\n\n\n\n    32\n\n\n\n```python\nsmap.meta['BSCALE']\n```\n\n\n\n\n    0.01\n\n\n\n```python\nsmap.meta['BZERO']\n```\n\n\n\n\n    0.0\n\n\n\n```python\nsmap.data[1000, 1000]  # è¿™ä¸€æ­¥å¹¶ä¸æ”¹å˜ `.meta` çš„å€¼\n```\n\n\n\n\n    142.83\n\n\n\n```python\nsmap.meta['BITPIX']  # ä¸å˜\n```\n\n\n\n\n    32\n\n\n\n```python\nsmap.meta['BSCALE']  # ä¸å˜\n```\n\n\n\n\n    0.01\n\n\n\n```python\nsmap.meta['BZERO']  # ä¸å˜\n```\n\n\n\n\n    0.0\n\n\n\n### åæ ‡å’Œå•ä½\n\n**SunPy map** <http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects>\n>A number of the **properties** of this class are returned as **two-value named tuples**\nthat can either be\n- indexed by position:&ensp;**<font color=blue>[0]</font>,&ensp;<font color=blue>[1]</font>**\n- be accessed by the names:\n  - pixel axes:&ensp;**<font color=blue>.x</font>,&ensp;<font color=blue>.y</font>**<br>\n  x and y refer to the FITS axes (x for columns y for rows)\n  - spatial axes:&ensp;**<font color=blue>.axis1</font>,&ensp;<font color=blue>.axis2</font>**<br>\n  axis1 corresponds to the coordinate axis for x and axis2 corresponds to y.\n\n```python\nsmap.dimensions\n```\n\n\n\n\n    PixelPair(x=<Quantity 4096. pix>, y=<Quantity 4096. pix>)\n\n\n\n```python\nsmap.dimensions.x  # å¾—åˆ°ä¸€ä¸ª `astropy.units.quantity.Quantity`, åŒ…å« value å’Œ unit\n```\n\n\n\n\n\\(4096 \\; \\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.unit\n```\n\n\n\n\n\\(\\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.value\n```\n\n\n\n\n    4096.0\n\n\n\n`astropy.units` çš„ä½¿ç”¨æ–¹æ³•:\n\n```python\nimport astropy.units as u\n```\n\n```python\nu.AA\n```\n\n\n\n\n\\(\\mathrm{\\mathring{A}}\\)\n\n\n\n```python\n4096 * u.pix  # same as `u.pixel`\n```\n\n\n\n\n\\(4096 \\; \\mathrm{pix}\\)\n\n\n\n```python\n(4096, 4096) * u.pix  # æ³¨æ„è¿™é‡Œæ˜¯ `astropy.units` çš„è¿ç®—, å’Œ list è¿ç®—è§„åˆ™ä¸åŒ\n```\n\n\n\n\n\\([4096,~4096] \\; \\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.unit is u.pix  # è¯´æ˜Ž x æ˜¯å•ä½æ˜¯ u.pix\n```\n\n\n\n\n    True\n\n\n\n```python\ntype(smap.center)\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n      lon=self.heliographic_longitude,\n\n\n\n\n\n    astropy.coordinates.sky_coordinate.SkyCoord\n\n\n\n```python\nlist((0, 0) * u.pix)\n```\n\n\n\n\n    [<Quantity 0. pix>, <Quantity 0. pix>]\n\n\n\n```python\nsmap.pixel_to_world(*(4096, 4096) * u.pix)\n```\n\n\n\n\n    <SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>): (Tx, Ty) in arcsec\n        (-1040.36199634, -1030.86554911)>\n\n\n\næŸ¥çœ‹ `SkyCoord` çš„å¸®åŠ©:\n\n```python\nimport astropy.coordinates\nhelp(astropy.coordinates.sky_coordinate.SkyCoord)\n```\n\n```python\nsmap.center.Tx\n```\n\n\n\n\n\\(\\mathrm{-7.65399^{\\prime\\prime}}\\)\n\n\n\n```python\nsmap.pixel_to_world(*(2000, 2000) * u.pix)\n```\n\n\n\n\n    <SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>): (Tx, Ty) in arcsec\n        (16.55031204, 26.53575639)>\n\n\n\n```python\nsmap.pixel_to_world(*(2000, 2000) * u.pix).transform_to('heliographic_stonyhurst')\n```\n\n\n\n\n    <SkyCoord (HeliographicStonyhurst: obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, km)\n        (1.00568591, 8.68202918, 696000.0000022)>\n\n\n\næŸ¥çœ‹åæ ‡ä¿¡æ¯:\n\n```python\nsmap.coordinate_frame\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n      lon=self.heliographic_longitude,\n\n\n\n\n\n    <Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>)>\n\n\n\nå‡ºçŽ°è¿™ä¸ª Warning æ—¶:\n\n```python\nsmap.meta['hgln_obs'] = 0.; smap.meta['hgln_obs'] = 0.; smap.meta['hgln_obs'] = 0.\nsmap.coordinate_frame\n```\n\n\n\n\n    <Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>)>\n\n\n\n### è¯­æ³•å¯¹æ¯”\n\næ¯”è¾ƒ `plothmi.py` ä¸Žå¯¹åº” IDL ç¨‹åºçš„è¯­æ³•:\n\nä¸‹é¢çš„è¯­å¥ä¸­, ä¸ºäº†ç®€ä¾¿å’Œæ–¹ä¾¿å¯¹æ¯”, ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ä¸€äº›å‡½æ•°. å¯¼å…¥æ–¹æ³•:\n```python\nfrom usr_sunpy import read_sdo, plot_map, plot_vmap, image_to_helio\n```\n\nè¯»å–æ•°æ®\n```idl\n; IDL\nread_sdo,<fname>,index,data\nindex2map,index,data,mapa\n```\n```python\n# Python\n# ä¸ºç®€åŒ–è¿‡ç¨‹è€Œè‡ªå®šä¹‰çš„å‡½æ•°, è¯»å…¥æ—¶æ‰“å°æ–‡ä»¶åå’Œæ•°ç»„å¤§å°\nmapa = read_sdo(<fname>)\n```\n\næ—‹è½¬\n```idl\n; IDL\n; 2 è¡¨ç¤º180Â°\nmapbx.data = rotate(mapbx,2)\nmapby.data = rotate(mapbx,2)\nmapbz.data = rotate(mapbx,2)\n```\n```python\n# Python\n# åˆ©ç”¨ 'crota2' çš„å€¼ç¡®å®šè§’åº¦\nmapbx = mapbx.rotate(order=1)\nmapby = mapby.rotate(order=1)\nmapbz = mapbz.rotate(order=1)\n```\n\næˆªå–\n```idl\n; IDL\nsub_map,mapbx,smapbx,xrange=[500,800.0],yrange=[-500,-100.0]\nsub_map,mapby,smapby,ref_map=smapbx\nsub_map,mapbz,smapbz,ref_map=smapbx\n```\n```python\n# Python\n# å·¦ä¸‹åˆ°å³ä¸Š\nbl = SkyCoord(500*u.arcsec, -500*u.arcsec, frame=mapbz.coordinate_frame)\ntr = SkyCoord(800*u.arcsec, -100.*u.arcsec, frame=mapbz.coordinate_frame)\nsmapbx = mapbx.submap(bl, tr)\nsmapby = mapby.submap(bl, tr)\nsmapbz = mapbz.submap(bl, tr)\n```\n\nç»˜å›¾\n```idl\n; IDL\nplot_map,smapbz,dmax=2000,dmin=-2000,color=0,charsize=1.8,...\nplot_vmap,/over,smapbx,smapby,mapbz=smapbz,limit=180,scale=0.012,iskip=15,jskip=15,...\n```\n```python\n# Python\n# ä¸»è¦è°ƒç”¨çš„æ˜¯ matplotlib\nfig = plt.figure()\nax = fig.add_subplot(111, projection=smapbz) # ä½¿ç”¨ smapbz ä¸­å®šä¹‰çš„åæ ‡ç³»ç»Ÿ\nplot_map(ax, smapbz)\nplot_vmap(ax, smapbx, smapby, smapbz, iskip=iskip, jskip=jskip, cmin=100., vmax=500., cmap='binary', ...)\n```\n\nåæ ‡å˜æ¢\n```idl\n; IDL\n; magnetic_modeling_codes/.../05projection_modified_version.pro\n```\n```python\n# Python\n# `image_to_helio`(å˜æ¢ä¸º Helioprojective(Cartesian) system)\n# è°ƒç”¨è‡ªå®šä¹‰çš„æ—‹è½¬çŸ©é˜µå‡½æ•° `proj_matrix`, å‚è€ƒæ–‡çŒ®ä¸ŽåŽŸIDLç¨‹åºç›¸åŒ\nhx, hy = image_to_helio(smapbz)  # numpy æ•°ç»„\nsmapbx_h, smapby_h, smapbz_h = image_to_helio(smapbx, smapby, smapbz) # sunpy `Map`\n\nplot_map(ax, smapbz_h, coords=(hx, hy))\nplot_vmap(ax, smapbx_h, smapby_h, smapbz_h, coords=(hx, hy), ...)\n```\n\n## æ’å€¼, æ‹Ÿåˆ\n\né€‰æ‹©ä¸é™äºŽè¿™é‡Œåˆ—ä¸¾çš„åŒ…, ä»¥åŽä¹Ÿå¯èƒ½ä¼šæœ‰æ›´åˆé€‚çš„æ–¹æ³•å‡ºçŽ°.\n\nç›¸å…³å®‰è£…è§ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n\n### æ’å€¼\n\n* numpy\n```\nf = interp1d(x, y, kind='cubic'[, fill_value='extrapolate'])\nx2 = np.linspace(...)\ny2 = f(x2)\n```\nè§ [examples/test_plot.py](examples/test_plot.py)\n\n* scipy <https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html>\n\n### æ±‚æžå€¼\n\n* PeakUtils <http://peakutils.readthedocs.io/en/latest/>\n\nå®˜æ–¹ä¾‹å›¾ (http://peakutils.readthedocs.io/en/latest/tutorial_a.html):\n\n```python\nimport peakutils\nindexes = peakutils.indexes(y, thres=0.5, min_dist=30)\n```\n\n<img src='/advance/tut_a_2.png' width='500' />\n\nEnhancing the resolution by interpolation:\n```python\npeaks_x = peakutils.interpolate(x, y, ind=indexes)\n```\n\n### æ‹Ÿåˆ\n\n* LMFIT (Non-Linear Least-Squares Minimization and Curve-Fitting)\n\nä¸‹è½½ <https://github.com/lmfit/lmfit-py>\n\næ–‡æ¡£ <http://lmfit.github.io/lmfit-py/>\n\næœ‰çŽ°æˆæ¨¡åž‹, ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡åž‹.<br>\nå¯ä»¥æ–¹ä¾¿åœ°å åŠ ä¸åŒæ‹Ÿåˆæ¨¡åž‹(æ¯”å¦‚å¤šä¸ªé«˜æ–¯, çº¿æ€§åŠ é«˜æ–¯, ç­‰ç­‰).<br>\nä¾‹å­è§ [examples/lmfits](examples/lmfits.zip) (æ¥è‡ª [LMFITç½‘ç«™ç¤ºä¾‹](http://lmfit.github.io/lmfit-py/builtin_models.html#example-1-fit-peak-data-to-gaussian-lorentzian-and-voigt-profiles) )\n\nä½¿ç”¨å†…ç½®æ¨¡åž‹:\n\n```python\nfrom lmfit.models import GaussianModel  # å†…ç½®çš„æ¨¡åž‹\n\ndata = np.loadtxt('test_peak.dat')\nx = data[:, 0]\ny = data[:, 1]\n\nmod = GaussianModel()  # å®žä¾‹åŒ–ä¸€ä¸ªæ¨¡åž‹\npars = mod.guess(y, x=x)  # ç»™åˆå€¼\nout = mod.fit(y, pars, x=x)  # æ‹Ÿåˆç»“æžœ\n\nprint(out.fit_report())  # æ‹Ÿåˆç»“æžœçš„è¯¦ç»†ä¿¡æ¯\nplt.plot(x, out.init_fit, 'k--')\nplt.plot(x, out.best_fit, 'r-')\n```\n\n```python\n%matplotlib inline\n%run examples/lmfits/fit_peak.py\n```\n\n    [[Model]]\n        Model(voigt)\n    [[Fit Statistics]]\n        # fitting method   = leastsq\n        # function evals   = 21\n        # data points      = 401\n        # variables        = 4\n        chi-square         = 10.9301767\n        reduced chi-square = 0.02753193\n        Akaike info crit   = -1436.57602\n        Bayesian info crit = -1420.60017\n    [[Variables]]\n        sigma:      0.89518909 +/- 0.01415450 (1.58%) (init = 0.8775)\n        center:     9.24374847 +/- 0.00441903 (0.05%) (init = 9.25)\n        amplitude:  34.1914737 +/- 0.17946860 (0.52%) (init = 65.43358)\n        gamma:      0.52540198 +/- 0.01857955 (3.54%) (init = 0.7)\n        fwhm:       3.22385343 +/- 0.05097475 (1.58%) == '3.6013100*sigma'\n        height:     10.0872204 +/- 0.03482130 (0.35%) == 'amplitude*wofz((1j*gamma)/(sigma*sqrt(2))).real/(sigma*sqrt(2*pi))'\n    [[Correlations]] (unreported correlations are < 0.100)\n        C(sigma, gamma)     = -0.928\n        C(amplitude, gamma) =  0.821\n        C(sigma, amplitude) = -0.651\n    \n\n\n\n    \n![png](/advance/advance_279_1.png)\n    \n\n\nå¤šä¸ªæ¨¡åž‹å åŠ :\n\n```python\nfrom lmfit.models import ExponentialModel, GaussianModel\n\ndata = np.loadtxt('NIST_Gauss2.dat')\nx = data[:, 0]\ny = data[:, 1]\n\nexp_mod = ExponentialModel(prefix='exp_')\ngauss1 = GaussianModel(prefix='g1_')\ngauss2 = GaussianModel(prefix='g2_')\n\npars1 = exp_mod.guess(y, x=x)  # åˆ†æ®µè®¾å‚æ•°çš„æ–¹æ³•è§ä¸‹é¢çš„è„šæœ¬æ–‡ä»¶\npars2 = gauss1.guess(y, x=x)\npars3 = gauss2.guess(y, x=x)\n\npars = pars1 + pars2 + pars3  # å åŠ å‚æ•°\nmod = gauss1 + gauss2 + exp_mod  # å åŠ æ¨¡åž‹\n\nout = mod.fit(y, pars, x=x)\n\nprint(out.fit_report())\nplt.plot(x, y, 'b')\nplt.plot(x, out.init_fit, 'k--')\nplt.plot(x, out.best_fit, 'r-')\n```\n\n```python\n%%capture output\n%matplotlib inline\n%run examples/lmfits/fit_peaks.py\n```\n\n```python\noutput.outputs[0]\n```\n\n\n\n\n    \n![png](/advance/advance_283_0.png)\n    \n\n\n\n```python\n%%capture output\n%matplotlib inline\n%run examples/lmfits/fit_peaks_components.py\n```\n\n```python\noutput.outputs[0]\n```\n\n\n\n\n    \n![png](/advance/advance_285_0.png)\n    \n\n\n\nè‡ªå®šä¹‰æ¨¡åž‹çš„æ–¹æ³•è§ [LMFITç½‘ç«™ç¤ºä¾‹](http://lmfit.github.io/lmfit-py/builtin_models.html#user-defined-models)\n\n### å…¶ä»–\n\n* Sherpa(Modeling and Fitting) <http://cxc.cfa.harvard.edu/contrib/sherpa/><br>\n* 2-D Fitting in Sherpa <https://python4astronomers.github.io/fitting/image.html><br>\n* *etc.*\n\n## copy æ³¨æ„äº‹é¡¹\n\n**\"shallow copy\"** vs **\"deep copy\"**\n\n* å¯¹äºŽ list çš„æƒ…å†µ\n\næ¼”ç¤ºæ’ä»¶ <https://github.com/lgpage/nbtutor>\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = [1, 2, 3]\nb = a\nc = deepcopy(a)\nd = a[:] # åˆ—è¡¨çš„åˆ‡ç‰‡æ˜¯æ·±æ‹·è´\nb[0] = -1\nc[1] = -2\nd[2] = -3\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    23284866388232 23284866388232 23284855519880 23284856061064\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgK1OHf)\n\n<img src='/advance/nbtutor3.png' width='550'/>\n\n* å¯¹äºŽ dict çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = {1:1, 2:2, 3:3}\nb = a\nc = a.copy()  # æ·±æ‹·è´\nd = deepcopy(a)\nb[1] = -1\nc[2] = -2\nd[3] = -3\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    22492371132064 22492371132064 22492397510376 22492397507280\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgKrHOx)\n\n<img src='/advance/nbtutor4.png' width='550'/>\n\n* å¯¹äºŽ set çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = {1, 2, 3}\nb = a\nc = a.copy()  # æ·±æ‹·è´\nd = deepcopy(a)\nb.add(4)\nc.add(5)\nd.add(6)\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    22492476895528 22492476895528 22492476895304 22492374233384\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgKd3E7)\n\n<img src='/advance/nbtutor5.png' width='550'/>\n\n* å¯¹äºŽ numpy çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nimport numpy as np\na = np.arange(1, 4)\nb = a[:] # æµ…æ‹·è´!\nc = a.copy()  # æ·±æ‹·è´, åŒ deepcopy(a)\nd = a[[0, 2]]  # èŠ±å¼åˆ‡ç‰‡æ˜¯æ·±æ‹·è´\nb[0] = -1\nc[1] = -2\nd[1] = -3\n```\n\n    \n\n```python\n# id è™½å„ä¸åŒ, ä½† .__array_interface__['data'][0] å¯èƒ½ç›¸åŒ\nfor i in (a, b, c, d):\n    print(id(i), i.__array_interface__['data'][0])\n```\n\n    22928831926400 93879086511872\n    22928831928960 93879086511872\n    22928829201984 93879072448320\n    22928829199344 93879078700736\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9hST6) (**Site Error**: Ruby and Python+Anaconda backends are permanently unavailable)\n\nå‚è§ä¹‹å‰çš„ [np.matrix, np.asmatrix](#çŸ©é˜µ)\n\n## å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\n\n### ç”¨ pandas è¯» csv\n\n```python\nimport pandas as pd\ndata = pd.read_csv(\"data/data.csv\")\ndata\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>col1</th>\n      <th>col2</th>\n      <th>col3</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>row1</td>\n      <td>1</td>\n      <td>10.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>row2</td>\n      <td>2</td>\n      <td>0.2</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>row3</td>\n      <td>3</td>\n      <td>300.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n```python\ndata.columns\n```\n\n\n\n\n    Index(['col1', 'col2', 'col3'], dtype='object')\n\n\n\n```python\ndata.col1\n```\n\n\n\n\n    0    row1\n    1    row2\n    2    row3\n    Name: col1, dtype: object\n\n\n\n```python\ndata['col1']\n```\n\n\n\n\n    0    row1\n    1    row2\n    2    row3\n    Name: col1, dtype: object\n\n\n\nåªå–ä¸€éƒ¨åˆ†:\n\n```python\ndata = pd.read_csv(\"data/data.csv\", nrows=2, usecols=(0,2))\ndata\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>col1</th>\n      <th>col3</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>row1</td>\n      <td>10.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>row2</td>\n      <td>0.2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\nå¯¹äºŽè¶…å¤§æ–‡ä»¶, å‚è§: <https://www.dataquest.io/blog/pandas-big-data/>\n\n### Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\n\n#### Unformatted (sequential)\n\nä½¿ç”¨ `scipy.io.FortranFile`<br>\nå‚è€ƒ: <https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html>\n\n```python\n# python (write)\nfrom scipy.io import FortranFile\nvar1 = 1.1  # '<f8'\nvar2 = 0  # '<i8'\narr = np.arange(6.).reshape((2, 3))  # '(2, 3)<f8'\nprint(var1, var2)\nprint(arr)\nprint(f'arr[0, 1] = {arr[0, 1]}')\n\n# å¤šè¡Œå­˜å…¥\nwith FortranFile('data/data_fortran1-1.dat', 'w') as f:\n    f.write_record(var1)\n    f.write_record(var2)\n    f.write_record(arr)\n# å•è¡Œå­˜å…¥\nwith FortranFile('data/data_fortran1-2.dat', 'w') as f:\n    f.write_record(var1, var2, arr)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    arr[0, 1] = 1.0\n\n\n```python\n# python (read)\nfrom scipy.io import FortranFile\n# å¤šè¡Œå­˜å…¥çš„æƒ…å†µ\nwith FortranFile('data/data_fortran1-1.dat', 'r') as f:\n    var1 = float(f.read_record('<f8'))\n    var2 = int(f.read_record('<i8'))  # æ³¨æ„ç²¾åº¦(ä¸Šé¢pythonå­˜å…¥çš„æ˜¯é»˜è®¤'int64')\n    arr = f.read_record('(2, 3)<f8')\nprint('data_fortran1-1.dat')\nprint(var1, var2)\nprint(arr)\n# å•è¡Œå­˜å…¥çš„æƒ…å†µ\nwith FortranFile('data/data_fortran1-2.dat', 'r') as f:\n#     data = f.read_record('<f8, <i8, (2, 3)<f8')  # ä¸æŒ‡å®šåç§°\n    data = f.read_record([('var1', '<f8'), ('var2', '<i8'),\n                         ('arr', '(2, 3)<f8')])  # æŒ‡å®šåç§°: (name, dtype)\nprint('\\ndata_fortran1-2.dat')\nprint(f'keys = {data.dtype.names}')  # å¦‚è¯»å–æ—¶æœªæŒ‡å®šåç§°åˆ™ä¸º ['f0', 'f1', ...]\nprint(float(data['var1']), int(data['var2']))\nprint(data['arr'])\n```\n\n    data_fortran1-1.dat\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    \n    data_fortran1-2.dat\n    keys = ('var1', 'var2', 'arr')\n    1.1 0\n    [[[0. 1. 2.]\n      [3. 4. 5.]]]\n\n\n```bash\n%%bash\ncd examples/\nifort -o test_read_seq test_read_seq.f90\n./test_read_seq\n```\n\n     data_fortran1-1.dat\n       1.1  0.0\n       0.0  1.0  2.0\n       3.0  4.0  5.0\n     arr(2, 1) =   1.0\n    \n     data_fortran1-2.dat\n       1.1  0.0\n       0.0  1.0  2.0\n       3.0  4.0  5.0\n     arr(2, 1) =   1.0\n\n\nè§ Structured arrays: <https://docs.scipy.org/doc/numpy/user/basics.rec.html>\n\n#### Unformatted (stream)\n\n`struct` å‚è€ƒ <https://docs.python.org/3/library/struct.html>\n\n```python\n# python (write)\nimport struct\nvar1 = 1.1  # '<f8'\nvar2 = 0  # '<i8'\narr = np.arange(6.).reshape((2, 3))  # '(2, 3)<f8'\nprint(var1, var2)\nprint(arr)\nprint(f'arr[0, 1] = {arr[0, 1]}')\nwith open('data/data_fortran2.dat', 'wb') as f:\n    f.write(struct.pack('d', var1))\n    f.write(struct.pack('i', var2))  # æ³¨æ„ `struct` çš„ 'i' æ˜¯ '<i4'\n    arr.tofile(f)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    arr[0, 1] = 1.0\n\n\n```python\n# python (read)\n# ä½¿ç”¨ `np.fromfile`, è¯»å…¥çš„æ˜¯ `ndarray`\nwith open('data/data_fortran2.dat', 'rb') as f:\n    var1 = float(np.fromfile(f, dtype='<f8', count=1))\n    var2 = int(np.fromfile(f, dtype='<i4', count=1))\n    arr = np.fromfile(f, dtype='<f8').reshape(2, 3)\nprint(var1, var2)\nprint(arr)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n\n\n```bash\n%%bash\ncd examples/\nifort -o test_read_stream test_read_stream.f90\n./test_read_stream\n```\n\n      1.1 0.0\n      0.0 1.0 2.0\n      3.0 4.0 5.0\n     arr(2, 1) =  1.0\n\n\n### HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–\n\n#### è¯»å†™ HDF5 æ–‡ä»¶, è¯» NCDF æ–‡ä»¶\n\nHDF5 æ ¼å¼ä»‹ç» <https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5>\n\nç›¸å…³åŒ…: `h5py` æˆ– `pandas` + `pytables` (http://www.pytables.org/usersguide/datatypes.html)\n\nå®‰è£…è§ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n\n* æŸ¥çœ‹\n\n```sh\n$ h5dump -H <filename>.hdf5\n$ ncdump -h <filename>.ncdf\n```\n\n* ç”¨ `h5py` è¯»å†™:\n\n```python\nimport h5py\narr = np.arange(10000).reshape(50,-1)\nwith h5py.File('test.hdf5', 'w') as f:\n    f['data'] = arr\n    # æˆ–\n    # f.create_dataset('data', data=arr)\n    # å…¶ä¸­ compression='gzip', compression_opts=[0-9], å¯åˆ†æ¡ç›®ç”¨ä¸åŒåŽ‹ç¼©\n    f['lb'] = list(range(100))\n```\n&emsp;è¯»çº¯ HDF5/NCDF æ–‡ä»¶:\n```python\nf = h5py.File('test.hdf5', 'r')\nkeys = list(f.keys())  # ['data', 'lb']\nitems = list(f.items())\na = f['data'].value\n```\n&emsp;è¯» pandas å­˜çš„æ–‡ä»¶:\n```python\na = f['data']['block0_values'].value\nf.close()\n# f['<key>'] å¾—åˆ°çš„æ˜¯ Dataset æˆ– Group çš„å¼•ç”¨\n# ç”¨ f['<key>'].value æˆ–åˆ‡ç‰‡ f['<key>'][:] å¾—åˆ°åŽŸæ¥çš„æ ¼å¼\n# f['<key>'] å¯æ›¿ä»£ä¸ºf.get('<key>')\n# å…³é—­ä¹‹åŽ f['data'] çš„å¼•ç”¨å¤±æ•ˆ, å› æ­¤å­˜å‡ºæ•°æ®è¦åŠ ä¸Š.valueæˆ–[:]ä¿å­˜æ•°æ®, æˆ–ä½¿ç”¨ deepcopy\n```\n&emsp;æ‰“å°è¯»å–çš„ä¿¡æ¯:\n```python\nfrom pprint import pprint\npprint([(f'{k:>20}', f'{str(f[k].shape):>20}', f'{str(f[k].dtype):>20}') for k in f.keys()])\npprint([(f'{k:>20}', f\"{str(f[k]['block0_values'].shape):>20}\", f\"{str(f[k]['block0_values'].dtype):>20}\") for k in f.keys()])\n```\n\n* ç”¨pandasè¯»å†™:\n    \n```python\nimport pandas as pd\n```\n&emsp;å†™:\n```python\narr2 = pd.DataFrame(arr)\n# complevel=[0-9], complib={'zlib', 'lzo', 'bzip2', 'blosc'}\nwith pd.HDFStore('test2.hdf5', 'w') as f:\n    f['data'] = arr2\n    f['lb'] = pd.DataFrame(list(range(100)))\n```\n&emsp;è¯» pandas å†™çš„æ–‡ä»¶:\n```python\nf = pd.HDFStore('test2.hdf5', 'r')\nkeys = f.keys()  # ['/data', '/lb'], å­˜åœ¨å­ç›®å½•\nitems = list(f.items())\na = f.data.values  # a = f.<key> å¾—åˆ°çš„æ˜¯ DataFrame çš„å¼•ç”¨, f.<key>.values å¾—åˆ°åŽŸæ¥çš„æ ¼å¼\nf.close()\n```\n\n* è¯»çº¯ HDF5/NCDF æ–‡ä»¶:<br>\næ¯”å¦‚ h5py å†™çš„æ–‡ä»¶, ç›®å½•ç»“æž„å’Œ pandas å†™çš„ä¸åŒ, è¦ç”¨`.root`<br>\nå…¶ä»–è½¯ä»¶ç”Ÿæˆçš„æ–‡ä»¶å¯èƒ½ä¸èƒ½è¯»\n\n```python\nf = pd.HDFStore('test.hdf5', 'r')\nkeys = list(f.root._v_children.keys())  # ['data', 'lb']\nitems = list(f.root._v_children.items())  # ['data', 'lb'], æœ‰äº›æ–‡ä»¶æ²¡æœ‰.items\na = f.root.data.read()\n# f.root å¾—åˆ° tables.group.RootGroup, f.root.<key> å¾—åˆ°tables.group.CArray\n# f.get_node('<key>') å¾—åˆ° tables.group.CArray\n# f.root.<key> å¯æ›¿ä»£ä¸º f['<key>'] (æœ‰äº›æ–‡ä»¶ä¸è¡Œ)\nf.close()\n```\n&emsp;æ‰“å° (ä»¥å…æ•°æ®æœ‰ None, ç”¨ `np.shape`):\n```python\npprint([(f'{k}'                      .rjust(20),\n         f'{np.shape(f.get_node(k))}'.rjust(20),\n         f'{np.dtype(f.get_node(k))}'.rjust(20))\n         for k in list(f.root._v_children.keys())])\n```\n&emsp;Bug: æ— æ³•è¯»å‡º `H5T_STRING`\n\n#### å¤§å°æ¯”è¾ƒ\n\nç”¨äºŽæ¯”è¾ƒçš„æ–‡ä»¶åè¯´æ˜Ž:\n\nFilename | Method\n:---|:---\n*xxx*_np.npy|**`np.save`**\n*xxx*_np.npz|**`np.savez_compressed`**\n*xxx*_compimg.fits|**FITS** CompImageHDU (compressed)\n*xxx*_prim.fits|**FITS** PrimaryHDU\n*xxx*_h5py_0.hdf5|**`h5py`** no compression\n*xxx*_h5py_gzip.hdf5|**`h5py`** compression='gzip', compression_opts=9\n*xxx*_h5py_lzf.hdf5|**`h5py`** compression='lzf'\n*xxx*_pd_0.hdf5|**`pandas`** no compression\n*xxx*_pd_blosc.hdf5|**`pandas`** complib='blosc', complevel=9\n*xxx*_pd_bzip2.hdf5|**`pandas`**  complib='bzip2', complevel=9\n*xxx*_pd_lzo.hdf5|**`pandas`**  complib='lzo', complevel=9\n*xxx*_pd_zlib.hdf5|**`pandas`**  complib='zlib', complevel=9\n\n* å¯¹äºŽç›¸å…³æ€§å¼ºçš„æ•°ç»„\n\n```python\n%run examples/test_hdf5.py\nprint()\n!du -h data/test_*.np*\nprint()\n!du -h data/test_h5py_*.hdf5\nprint()\n!du -h data/test_pd_*.hdf5\n```\n\n    array: 15.3 M\n    \n    7.7M\tdata/test_np.npy\n    1.3M\tdata/test_np.npz\n    \n    16M\tdata/test_h5py_0.hdf5\n    2.9M\tdata/test_h5py_gzip.hdf5\n    7.7M\tdata/test_h5py_lzf.hdf5\n    \n    16M\tdata/test_pd_0.hdf5\n    272K\tdata/test_pd_blosc.hdf5\n    248K\tdata/test_pd_bzip2.hdf5\n    256K\tdata/test_pd_lzo.hdf5\n    172K\tdata/test_pd_zlib.hdf5\n\n\n* éšæœºæ•°æ•°ç»„\n\n```python\n%run examples/test_hdf5_2.py\nprint()\n!du -h data/test_*.np*\nprint()\n!du -h data/test_h5py_*.hdf5\nprint()\n!du -h data/test_pd_*.hdf5\n```\n\n    array: 15.3 M\n    \n    7.7M\tdata/test_np.npy\n    7.2M\tdata/test_np.npz\n    \n    16M\tdata/test_h5py_0.hdf5\n    8.0M\tdata/test_h5py_gzip.hdf5\n    9.5M\tdata/test_h5py_lzf.hdf5\n    \n    16M\tdata/test_pd_0.hdf5\n    7.7M\tdata/test_pd_blosc.hdf5\n    7.2M\tdata/test_pd_bzip2.hdf5\n    7.7M\tdata/test_pd_lzo.hdf5\n    7.1M\tdata/test_pd_zlib.hdf5\n\n\n* ä»Ž FITS æ–‡ä»¶è¯»å–å†è½¬å­˜\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.field.fits'\n%run examples/test_fits_hdf5.py {fname}\nprint()\n!du -h {fname}\nprint()\n!du -h data/fits_*.np*\nprint()\n!du -h data/fits_*.fits\nprint()\n!du -h data/fits_h5py_*.hdf5\nprint()\n!du -h data/fits_pd_*.hdf5\n```\n\n    array: 64.0 M\n    \n    21M\tdata/hmi.B_720s.20150827_052400_TAI.field.fits\n    \n    65M\tdata/fits_np.npy\n    27M\tdata/fits_np.npz\n    \n    21M\tdata/fits_compimg.fits\n    65M\tdata/fits_prim.fits\n    \n    65M\tdata/fits_h5py_0.hdf5\n    27M\tdata/fits_h5py_gzip.hdf5\n    40M\tdata/fits_h5py_lzf.hdf5\n    \n    65M\tdata/fits_pd_0.hdf5\n    23M\tdata/fits_pd_blosc.hdf5\n    21M\tdata/fits_pd_bzip2.hdf5\n    23M\tdata/fits_pd_lzo.hdf5\n    20M\tdata/fits_pd_zlib.hdf5\n\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.disambig.fits'\n%run examples/test_fits_hdf5.py {fname}\nprint()\n!du -h {fname}\nprint()\n!du -h data/fits_*.np*\nprint()\n!du -h data/fits_*.fits\nprint()\n!du -h data/fits_h5py_*.hdf5\nprint()\n!du -h data/fits_pd_*.hdf5\n```\n\n    array: 32.0 M\n    \n    5.4M\tdata/hmi.B_720s.20150827_052400_TAI.disambig.fits\n    \n    33M\tdata/fits_np.npy\n    5.2M\tdata/fits_np.npz\n    \n    5.4M\tdata/fits_compimg.fits\n    33M\tdata/fits_prim.fits\n    \n    33M\tdata/fits_h5py_0.hdf5\n    5.3M\tdata/fits_h5py_gzip.hdf5\n    9.7M\tdata/fits_h5py_lzf.hdf5\n    \n    33M\tdata/fits_pd_0.hdf5\n    9.5M\tdata/fits_pd_blosc.hdf5\n    4.1M\tdata/fits_pd_bzip2.hdf5\n    7.6M\tdata/fits_pd_lzo.hdf5\n    4.8M\tdata/fits_pd_zlib.hdf5\n\n\n#### è¯»å– CDF æ–‡ä»¶\n\nç›¸å…³åŒ… `cdflib`, å®‰è£…è§ [Python å®‰è£…å’Œé…ç½®#å…¶ä»–](installpy.html#å…¶ä»–)\n```python\nimport cdflib\nf = cdflib.CDF(\"<filename>.cdf\")\nf.cdf_info()  # æ€»ä½“ä¿¡æ¯\nf.varinq('<key>')  # å˜é‡ä¿¡æ¯\nf.varget('<key>')  # å€¼\nf.close()\n```\n\n### NumPy to VTK\n\nå‚è€ƒ <https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/><br>\nä»¥åŠ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n<br><br>\ne.g.<br>\nè¿è¡Œ [examples/field2dvtk.py](examples/field2dvtk.py) ,<br>\næ‰“å¼€Paraview, é€‰æ‹© state æ–‡ä»¶ 'field2d.pvsm', å†é€‰æ‹©æ•°æ®æ–‡ä»¶ 'field2d.vtr'\n\n### Matlab mat æ–‡ä»¶è¯»å†™\n\n(æœªæµ‹è¯•)\n```python\nimport scipy.io\nscipy.io.loadmat(\"<filename>\", mdict=None, appendmat=True, **kwargs)\n# å¦‚æžœ appendmat=Trueï¼Œåˆ™æ–‡ä»¶åä¸éœ€è¦'.mat'åŽç¼€)\nscipy.io.savemat(\"<filename>\", mdict, appendmat=True, format='5',\n                 long_field_names=False, do_compression=False, oned_as='row')\n```\n\n## è„šæœ¬ç›¸å…³\n\n### è„šæœ¬ç»“æž„\n\næ–‡ä»¶å¤´:\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n```\n\nè„šæœ¬ç»“æž„:\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\"\"\"\nå‡è®¾è¿™ä¸ªæ–‡ä»¶çš„åç§°ä¸º mymodule.py\nä½¿ç”¨ `imort mymodule` å¯¼å…¥\nè¿™äº›æ–‡å­—ä¼šå‡ºçŽ°åœ¨ `help(mymodule)` æˆ– `pydoc mymodule` ä¸­\n\"\"\"\nc = 1\ndef func1(x, y, *args, **kwargs):\n    \"\"\"\n    è¿™ä¸ªæ³¨é‡Šå¿…é¡»ç¼©è¿›\n    args: a tuple - (arg1, arg2, ...)\n    kwargs: a dict - {key1 : val1, key2 : val2}\n    \"\"\"\n    global c\n    return x + y + c\ndef func2(x):\n    a = func1(x, x)\n    return a\ndef _func3(x):  # `from xxx import *` å°†ä¸ä¼šå¯¼å…¥è¿™ä¸ªå‡½æ•°\n    pass\n    return  # return ä¸å†™æ—¶è¿”å›ž None\ndef main():\n    # your code here\nif __name__ == \"__main__\":\n    main()\n```\n`import` è¿™ä¸ªæ–‡æ¡£æ—¶, `__name__` ä¸ºæ¨¡å—å, å› æ­¤ `main()` ä¸æ‰§è¡Œ\n\n`help()` ä¹Ÿå¯ä»¥æŸ¥çœ‹æ¨¡å—å†…çš„å‡½æ•°æ–‡æ¡£:\n\n```python\nimport usr_sunpy\nhelp(usr_sunpy.plot_map)\n```\n\n### try ... except ... è¯­æ³•\n\n```python\ntry:\n    ...\nexcept ValueError as e:\n    print('ValueError:', e)\nexcept ZeroDivisionError as e:\n    print('ZeroDivisionError:', e)\nelse:\n    print('no error!')\nfinally:\n    print('finally...')\n```\nè§ [Paraview çš„ä¾‹å­](#Paraview-è„šæœ¬)\n\n### Paraview è„šæœ¬\n\nå®˜æ–¹æ–‡æ¡£ <https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html>\n<br><br>\n* è®°å½•è¯­å¥:\n 1. Tools -> Start Trace\n 2. è¿›è¡Œå„ç§æ“ä½œ\n 3. Tools -> Stop Trace ä¹‹åŽå¾—åˆ°ä¸€ä¸ªåŒ…å«åˆšæ‰æ“ä½œå‘½ä»¤çš„è„šæœ¬, å‚è€ƒå…¶ä¸­çš„è¯­å¥å°±å¯ä»¥å†™è‡ªå·±çš„è„šæœ¬äº†.\n<br><br>\n* éœ€è¦å¯¼å…¥çš„æ¨¡å—:\n\n```sh\nfrom paraview.simple import *\n```\n<br>\n* ä½¿ç”¨ pvpython (é»˜è®¤æ¸²æŸ“) pvbatch (é»˜è®¤ä¸æ¸²æŸ“) æ¥æ‰§è¡Œè„šæœ¬:\n\n```sh\npvbatch myscript.py\n```\n\nä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤´ `#!/usr/bin/env pvbatch`, åŠ æ‰§è¡Œæƒé™åŽç›´æŽ¥æ‰§è¡Œ:\n```sh\n./myscript.py\n```\næ³¨æ„: æ‰“åŒ…çš„ paraview æ‰€ä½¿ç”¨çš„ python æ˜¯ paraview è‡ªå¸¦çš„ python2.7\n\n<img src='/advance/Screenshot_20180618-151438.png' width='700' />\n\n* å¸¸ç”¨è¯­å¥:\n\n```python\nview = GetActiveView()\nscene = GetAnimationScene()\n```\n`view.ViewTime` ä¿®æ”¹æ—¶ `scene.AnimationTime` ä¸å˜\n`scene.AnimationTime` ä¿®æ”¹æ—¶ `view.ViewTime` ä¹ŸåŒæ—¶è¢«æ”¹å˜\n\næ³¨æ„: filter å¿…é¡»æ˜¯æ˜¾ç¤ºçŠ¶æ€ (`Show(<filter>)`) æ‰èƒ½ä¿®æ”¹æ—¶é—´\n\n```python\n# e.g.\n!code -n examples/stat1.py\n```\n\n* å­—ä½“é€‰æ‹©å‚è€ƒè·¯å¾„:<br>\n  - /usr/share/fonts/truetype/dejavu/DejaVuSans.ttf\n  - /home/<user>/miniconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf\n\n\n* python è°ƒç”¨é—®é¢˜ (paraview 5.5.0+ æ²¡æœ‰è¿™ä¸ªé—®é¢˜):\n\nparaview æŸä¸ªç‰ˆæœ¬ä¹‹åŽå°±é»˜è®¤ä½¿ç”¨ python 2.7.11+.<br>\nè¿è¡Œä¹‹å‰å…ˆä¿®æ”¹çŽ¯å¢ƒå˜é‡ ( `PYTHONPATH` å’Œ `PYTHONSTARTUP`), <br>\nè¿è¡Œç»“æŸç»“æŸåŽæ¢å¤è¿™ä¸¤ä¸ªå˜é‡å³å¯.<br><br>\nè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ä½¿ç”¨è„šæœ¬ (è€Œä¸ç”¨alias):\n```sh\n#!/bin/bash\nunset PYTHONSTARTUP  # å¦‚æžœæœ‰çš„è¯\nexport PYTHONPATH=/<your_path>/ParaView/lib/python2.7/site-packages\n/<your_path>/ParaView/bin/paraview $@\n```\nç”¨è¿™ä¸ªè„šæœ¬æ›¿ä»£åŽŸæœ‰ `paraview`, `pvpython` å’Œ `pvbatch` å‘½ä»¤.\n\n### Python 2 -> 3 çš„è½¬æ¢\n\næ¯”è¾ƒæŽ¨èçš„å®‰å…¨çš„æ£€æŸ¥æ–¹å¼:\n\n* å¤‡ä»½çš„åŽŸæ–‡ä»¶ä¸”è‡ªåŠ¨ç”Ÿæˆè½¬æ¢è¿‡çš„æ–‡ä»¶\n```\n$ 2to3 -w filename\n```\n\n* æ‰‹åŠ¨æ¯”è¾ƒ, åœ¨éœ€è¦çš„åœ°æ–¹å¯¹ç…§ä¿®æ”¹ filename.bak<br>\nä¸»è¦æŸ¥çœ‹ print, range, map ç­‰å‡½æ•°.<br>\næ·»åŠ <br>\n&emsp;`from __future__ import division, print_function`<br>\nåœ¨å…¶ä»– import å‰.\n```\n$ sudo apt-get install meld\n$ meld filename filename.bak\n```\n* ç¡®è®¤æ— è¯¯åŽ, å°†æ‰‹åŠ¨ä¿®æ”¹çš„æ–‡ä»¶å¤åˆ¶å›žåŽ»\n```\n$ mv -v filename.bak filename\n```\n\npython å†…æŸ¥çœ‹ç‰ˆæœ¬çš„æ–¹æ³•, å¯ç”¨äºŽ `if` è¯­å¥ç­‰ (æ›´æŽ¨èç”¨ `try...except...` è¯­æ³•):\n\n```python\nimport sys\nprint(sys.version_info >= (3, 0))\nprint(sys.version_info.major >= 3)\n```\n\n### æ‰§è¡Œ shell å‘½ä»¤\n\n<https://docs.python.org/3/library/subprocess.html>\n\n```python\nimport subprocess\n\nfname = 'installpy.ipynb'\n\n# é»˜è®¤æ˜¯ä»¥åˆ—è¡¨å½¢å¼ä¼ é€’å‚æ•°\nsubprocess.run([\"ls\", \"-l\", fname]) # doesn't capture output\n\n# è¾“å‡ºç»“æžœéœ€è¦ `decode('ascii')` è½¬ç \nprint(subprocess.run([\"ls\", \"-l\", fname], stdout=subprocess.PIPE)\n                    .stdout.decode('ascii'))\nprint(subprocess.check_output([\"ls\", \"-l\", fname]).decode('ascii'))\n```\n\n    -rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n    \n    -rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n    \n\n\nåˆ©ç”¨ bash çš„ç‰¹é•¿æ¥åšä¸€äº›å­—ç¬¦ä¸²æ“ä½œ:\n\n```python\n# ä½¿ç”¨æ•´è¡Œå‘½ä»¤éœ€è¦ `shell=True`, è™½ç„¶å¹¶ä¸æ˜¯æŽ¨èçš„åšæ³•, ä½†å¶å°”ä½¿ç”¨æ— å¦¨ (è§å®˜æ–¹æ–‡æ¡£)\n# `r`ç”¨æ¥å–æ¶ˆè½¬ä¹‰\n# `echo`ä½¿ç”¨`-n`æ¥åŽ»æŽ‰è¾“å‡ºçš„ '\\n'\nfname_head = subprocess.check_output(r\"echo -n %s | sed 's/\\.ipynb//'\"\n                                     % fname, shell=True).decode('ascii')\n# æˆ–ä½¿ç”¨ strip åŽ»æŽ‰ '\\n'\nfname_head = subprocess.check_output(r\"echo %s | sed 's/\\.ipynb//'\"\n             % fname, shell=True).strip().decode('ascii')  \nprint(fname_head)\n```\n\n    installpy\n\n\nå­—ç¬¦ä¸²ç¼–ç è§ [å»–é›ªå³°çš„ç½‘ç«™](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000)\n\n* å¾—åˆ°å‘½ä»¤æ‰§è¡Œçš„è·¯å¾„\n\n```python\nimport os\nos.getcwd()\n```\n\n\n\n\n    '/home/lydia/codes/zly/python/python-intro'\n\n\n\n* å¾—åˆ°è„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„(ä»…è„šæœ¬ä¸­ä½¿ç”¨)\n\n```python\nos.path.split(os.path.abspath(__file__))[0]\n```\næˆ–\n```python\nos.path.dirname(os.path.abspath(__file__))\n```\n\nå…¶ä¸­ `os.path.split` å’Œ `os.path.dirname` çš„ç”¨æ³•:\n\n```python\nos.path.split('your/path/filename')\n```\n\n\n\n\n    ('your/path', 'filename')\n\n\n\n```python\nos.path.dirname('your/path/filename')\n```\n\n\n\n\n    'your/path'\n\n\n\n`os.path.dirname` ç±»ä¼¼äºŽ bash çš„ `dirname`\n\n```python\n!dirname 'your/path/filename'\n```\n\n    your/path\n\n\n### è„šæœ¬é€‰é¡¹\n\næŽ¨è `argparse`, åœ¨è¿‡åŽ»çš„å…¶ä»–æ–¹æ³•çš„åŸºç¡€ä¸Šæœ‰æ‰€å¢žå¼º <https://docs.python.org/3/library/argparse.html>\n\nè„šæœ¬å†…:\n```python\nimport argparse\nparser = argparse.ArgumentParser(description='Process some integers.')\nparser.add_argument('integers', metavar='N', type=int, nargs='+',\n                    help='an integer for the accumulator')\nparser.add_argument('--sum', dest='accumulate', action='store_const',\n                    const=sum, default=max,\n                    help='sum the integers (default: find the max)')\nargs = parser.parse_args()\nprint(args.accumulate(args.integers))\n```\nShell:\n```\n$ python prog.py -h\nusage: prog.py [-h] [--sum] N [N ...]\nProcess some integers.\npositional arguments:\n N           an integer for the accumulator\noptional arguments:\n -h, --help  show this help message and exit\n --sum       sum the integers (default: find the max)\n```\n\n### å¤„ç† warnings\n\n```python\n# Suppress warnings of NaNs:\nwith np.errstate(invalid='ignore'):\n    ...\n    ...\n# Suppress other warnings, e.g.\nimport warnings\nwith warnings.catch_warnings():\n    warnings.simplefilter(\"ignore\")\n    ...\n    ...\n# Or\nwarnings.simplefilter(\"ignore\", category=xxx)  # UserWarning, FutureWarning, etc.\n...\n...\n```\n\n## urllib, requests\n\nç¤ºä¾‹å’Œæ–‡ä»¶æ¥è‡ª <http://python4astronomers.github.com>\n\næ³¨æ„ python3 ä¸å†ä½¿ç”¨ `urllib2`\n\n```python\n# æ–¹æ³•1\nimport urllib\nurl = 'http://python4astronomers.github.com/_downloads/myidlfile.sav'\nurllib.request.urlretrieve(url, 'myidlfile.sav')\n# æ–¹æ³•2\nwith open('myidlfile.sav', 'wb') as f:\n    f.write(urllib.request.urlopen(url).read())\n# æ–¹æ³•3\nimport requests\nwith open('myidlfile.sav', 'wb') as f:\n    f.write(requests.get(url).content)\n# åˆ†å—ä¸‹è½½\nimport requests\nr = requests.get(<url>)\nwith open(filename, 'wb') as f:\n    for chunk in r.iter_content(chunk_size=128):\n        f.write(chunk)\n```\n","source":"_posts/2018-07-02-advance.md","raw":"---\ntitle: \"Python è¿›é˜¶ (lecture for Solar Group)\"\nmathjax: true\npermalink: advance.html\ncategories: 'Solar Physics'\ntags: [python, conda, jupyter, astropy, sunpy]\ndate: 2018-07-02 21:46:13\n---\n[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/python-intro.zip)\n\n## Anaconda\n\n> A **conda package** is a compressed tarball file that contains system-level libraries,\nPython or other modules, executable programs and other components.\n**Conda** keeps track of the dependencies between packages and platforms.<br>\n(https://conda.io/docs/user-guide/concepts.html)\n\n* å‡¡ä½¿ç”¨ <span style=\"color:blue\">pip install</span> å®‰è£…çš„åŒ…å‡ä¸ºç¼–è¯‘å®‰è£…, <span style=\"color:blue\">conda install</span> å®‰è£…çš„åˆ™ä¸ºç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ….\n* conda åŒ…å¯ä»¥æ‰“åŒ…å…¶ä»–è¯­è¨€, pip åŒ…å®¹æ˜“å‡ºçŽ°ç³»ç»Ÿä¾èµ–é—®é¢˜\n* conda åŒ…çš„ä¾èµ–ç®¡ç†æ›´å®Œå–„\n* conda çŽ¯å¢ƒä¸‹ä»å¯ä½¿ç”¨ pip è¿›è¡Œå®‰è£…, ä½†æ‰€ä½¿ç”¨çš„ pip å‘½ä»¤å’Œç³»ç»Ÿä¸­çš„ pip äº’ä¸å½±å“, å®‰è£…çš„åŒ…çš„ä½ç½®ä¹Ÿåœ¨ conda æœ¬èº«çš„ç›®å½•ä¸‹.\n* æ¯ä¸ªçŽ¯å¢ƒäº’ä¸å½±å“, å„çŽ¯å¢ƒä¸‹çš„åŒ…è™½ç„¶å¿…é¡»åˆ†åˆ«å®‰è£… (ä¹Ÿå¯ä»¥ clone ä¸€ä¸ªçŽ°æœ‰çŽ¯å¢ƒ),<br>\n  ä½†å¦‚æžœæœ‰ä¸åŒçŽ¯å¢ƒä¸­æœ‰é‡å¤çš„åŒ… conda å°†é»˜è®¤ä½¿ç”¨ *hard link*.\n\n(æ›´å¤šè®¨è®ºå‚è€ƒ <http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)>\n<!-- more -->\n\n<img src='/advance/Screenshot_20180617-181206.png' width='650'/>\n\n* python ä½ç½® (æœªä½¿ç”¨ conda æ—¶)\n\nä½¿ç”¨\n```\n$ python -m site\n```\nå¯ä»¥çœ‹åˆ°æœ‰å“ªäº›ç›®å½•.\n\nä¸‰ä¸ªéƒ¨åˆ†:\n\n- **root**\n<pre>\n/<span style=\"color:#800080\"><b>usr</b></span>/lib/...\n/<span style=\"color:#800080\"><b>usr</b></span>/bin/...\n</pre>\n\n- **user**\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/lib/...\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/bin/...\n</pre>\n\n- **anaconda/miniconda**\n<pre>\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/lib/...\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/bin/...\n</pre>\n\n* conda ç›®å½•ç»“æž„ (å®‰è£…ä¹‹åŽè‡ªåŠ¨ä¿®æ”¹äº†è½¯è¿žæŽ¥, ä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽç³»ç»Ÿä¼˜å…ˆä½¿ç”¨è¿™ä¸ªä½ç½®)\n\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>miniconda3/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>pkgs/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python3</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">jupyter</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">h5dump</span>\n    â”‚        â””â”€â”€ ...\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>envs</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env1/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”‚        â”‚        â””â”€â”€ ...\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env2/</b></span>\n    â”‚        â””â”€â”€ ...\n    â””â”€â”€ ...\n</pre>\n\n## IPython & Jupyter\n\nå‚è€ƒæ–‡æ¡£\n<http://jupyter-notebook.readthedocs.io/en/stable/>\n\n* é…ç½®æ–‡ä»¶è·¯å¾„\n\nä¸€èˆ¬ç”¨æˆ·é…ç½®æ–‡ä»¶åœ¨ `~/.jupyter`\n\n```python\n!jupyter --paths\n```\n\n    config:\n        /home/lydia/.jupyter\n        /home/lydia/miniconda3/etc/jupyter\n        /usr/local/etc/jupyter\n        /etc/jupyter\n    data:\n        /home/lydia/.local/share/jupyter\n        /home/lydia/miniconda3/share/jupyter\n        /usr/local/share/jupyter\n        /usr/share/jupyter\n    runtime:\n        /run/user/1000/jupyter\n\n\n* åˆ—å‡ºæ‰€æœ‰ magic functions:\n\n```python\n%lsmagic\n```\n\n* è¿è¡Œè„šæœ¬:\n\n```python\n%run script.py\n%run script.ipynb\n```\n\n* åœ¨å•ä¸ª Cell ä¸­è°ƒç”¨å…¶ä»–è¯­è¨€ (å­è¿›ç¨‹):\n\n```sh\n%%sh\ncd ~/miniconda3/\npwd\n```\n\n    /home/lydia/miniconda3\n\n\nå¯ä»¥çœ‹åˆ°å®žé™…å¹¶æœªæ”¹å˜å½“å‰ç›®å½• (å› ä¸ºæ˜¯å­è¿›ç¨‹):\n\n```python\npwd\n```\n\n\n\n\n    '/home/lydia/codes/zly/python/python-intro'\n\n\n\n```python\n%%script idl\ncd, current=d\nprint, d\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n    IDL Version 8.2.1 (linux x86_64 m64). (c) 2012, Exelis Visual Information Solutions, Inc.\n    \n\n\n* é€è¡Œä½¿ç”¨ bash å‘½ä»¤ (æ³¨æ„ä¸åŠ  '!' çš„åŒºåˆ«):\n\n```python\n!idl -e field3dgui\n```\n\n```python\n!ls ./\n```\n\nå¾—åˆ°çš„ç»“æžœå¯ä»¥å­˜å…¥å˜é‡:\n\n```python\ncurrent, = !pwd  # returns a list\ncurrent\n```\n\n\n\n\n    '/home/lydia/python-intro'\n\n\n\nä¸‹é¢è¿™ä¸¤å¥ä¸èƒ½å†™åœ¨ä¸€ä¸ª Cell ä¸­:\n\n```python\ncd -q ~/miniconda3/\n```\n\n```python\npwd\n```\n\n\n\n\n    '/home/lydia/miniconda3'\n\n\n\nç”¨ `{var}` (æŽ¨è) æˆ– `$var` (ä¸æŽ¨è) è°ƒç”¨å½“å‰ ipython çŽ¯å¢ƒçš„å˜é‡:\n\n```python\ncd {current}\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n```python\ncd \"$current\"\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\n```python\ncd $current\n```\n\n    /home/lydia/codes/zly/python/python-intro\n\n\nè§ <http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/>\n\n* åˆ—å‡ºå½“å‰çš„å˜é‡ä¿¡æ¯\n\n```python\na = 1\nb = 'x'\n\n%whos int str\n```\n\n    Variable   Type    Data/Info\n    ----------------------------\n    a          int     1\n    b          str     x\n\n\n## è¯­æ³•ç»†èŠ‚\n\n### python2 & python3\n\n```python\n%%python2\nprint 1 / 2\nprint 1 // 2\n```\n\n    0\n    0\n\n\n```python\n%%python3\nprint(1 / 2)\nprint(1 // 2)\n```\n\n    0.5\n    0\n\n\nè¯¦è§ [Python 2 -> 3 çš„è½¬æ¢](#Python-2-->-3-çš„è½¬æ¢)\n\n### list, tuple\n\n* å¯¹ list æˆ– tuple, å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶, æ³¨æ„åŠ é€—å·:\n\n```python\nl = [1]\ntype(l)\n```\n\n\n\n\n    list\n\n\n\n```python\nl = [1,]\ntype(l)\n```\n\n\n\n\n    list\n\n\n\n```python\nl = (1)\ntype(l)\n```\n\n\n\n\n    int\n\n\n\n```python\nl = (1,)\ntype(l)\n```\n\n\n\n\n    tuple\n\n\n\n* èµ‹å€¼, æ˜Ÿå· (`*`) è¡¨è¾¾å¼ç”¨æ¥å±•å¼€ list/tuple, åŒæ˜Ÿå· (`**`) ç”¨æ¥å±•å¼€ dict (å¸¸ç”¨äºŽå‡½æ•°å‚æ•°è¡¨):\n\n```python\na, b, *c = [0, 1, 2, 3]\na, b, c\n```\n\n\n\n\n    (0, 1, [2, 3])\n\n\n\n```python\na, *_ = [0, 1, 2, 3] # æˆ– a, = ...\na\n```\n\n\n\n\n    0\n\n\n\n### dict\n\n* dict æ”¹å˜æŸä¸ª key ä½† value ä¸å˜çš„æ–¹æ³•\n\n```python\nd = {'a' : 1, 'b' : 2}\nd['c'] = d.pop('b')  # åˆ©ç”¨ `pop` è¿”å›žå€¼, æ›´æ”¹ key å€¼\nd\n```\n\n\n\n\n    {'a': 1, 'c': 2}\n\n\n\n* dict æ±‚å¹¶é›†\n\n```python\nd1 = {'a' : 1, 'b' : 2}\nd2 = {'a' : -1, 'c' : 3, 'd' : 4}\n```\n\n```python\ndict(d1, **d2)  # é‡å¤çš„ key å–åŽä¸€ä¸ªçš„å€¼\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n```python\ndict(list(d1.items()) + list(d2.items()))  # æ³¨æ„å…¶ä¸­çš„ list\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n```python\nd1.update(d2)\nd1\n```\n\n\n\n\n    {'a': -1, 'b': 2, 'c': 3, 'd': 4}\n\n\n\n### set\n\n* set åŸºæœ¬æ“ä½œ\n\n```python\ns = {1, 2}\n```\n\n```python\ns.add(3) # one element only\ns\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\ns.update([4, 5]) # iterable: list/tuple/set/...\ns\n```\n\n\n\n\n    {1, 2, 3, 4, 5}\n\n\n\n```python\ns.remove(1)\ns\n```\n\n\n\n\n    {2, 3, 4, 5}\n\n\n\n```python\ns.discard(0)  # No error if not exist\ns\n```\n\n\n\n\n    {2, 3, 4, 5}\n\n\n\n* set æ±‚äº¤é›†, å¹¶é›†, å·®é›†, å¯¹ç§°å·®é›†, å­é›†\n\n```python\n{1, 2}.intersection({2, 3})\n```\n\n\n\n\n    {2}\n\n\n\n```python\n{1, 2} & {2, 3}  # æˆ–ç”¨ and\n```\n\n\n\n\n    {2}\n\n\n\n```python\n{1, 2}.union({2, 3})\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\n{1, 2} | {2, 3}  # æˆ–ç”¨ or\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\n```python\n{1, 2}.difference({2, 3})\n```\n\n\n\n\n    {1}\n\n\n\n```python\n{1, 2} - {2, 3}  # åœ¨å‰ä¸åœ¨åŽ\n```\n\n\n\n\n    {1}\n\n\n\n```python\n{1, 2}.symmetric_difference({2, 3})\n```\n\n\n\n\n    {1, 3}\n\n\n\n```python\n{1, 2} ^ {2, 3}  # ä¸åŒæ—¶åœ¨ä¸¤è¾¹\n```\n\n\n\n\n    {1, 3}\n\n\n\n* å±žäºŽ, åŒ…å«äºŽ(å­é›†)\n\n```python\n2 in {1, 2, 3}  # list/tuple/set\n```\n\n\n\n\n    True\n\n\n\n```python\n4 not in {1, 2, 3}  # list/tuple/set\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2}.issubset({1, 2, 3})\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2} <= {1, 2, 3}\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2, 3}.issuperset({1, 2})\n```\n\n\n\n\n    True\n\n\n\n```python\n{1, 2, 3} >= {1, 2}\n```\n\n\n\n\n    True\n\n\n\n### ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º\n\næ’ä»¶ <https://github.com/lgpage/nbtutor><br>\nç½‘é¡µç‰ˆ <http://pythontutor.com/>\n\n```python\n%reload_ext nbtutor\n```\n\n```python\n%%nbtutor -r -f\nl1= (0)\nl2 = (0,)\n```\n\n    \n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9J3bf)\n\n<img src='/advance/nbtutor1.png' width='550'/>\n\n```python\n%%nbtutor -r -f -i\na = 3\nb = 4\nt = (1, 2, [a, b]) # list in tuple\na = 'x' # change element in list\nt[2][0] = 'xx' # change element in tuple\n```\n\n```python\nprint(t)\n```\n\n    (1, 2, ['xx', 4])\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9idUn)\n\n<img src='/advance/nbtutor2.png' width='550'/>\n\n### åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯\n\n```python\nl = [1, 2, 3, 4, 5]\n[i for i in l if i > 2]\n```\n\n\n\n\n    [3, 4, 5]\n\n\n\nä¾‹å¦‚ç”¨ `globals()` æ¥å¾—åˆ°å­—ç¬¦ä¸²å½¢å¼çš„å˜é‡å (python çš„å˜é‡æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½çš„å…³é”®å­—, å› ä¸º\"å˜é‡å\"å­˜å‚¨åœ¨namespacesä¸­)\n\n```python\ndef namestr(obj, namespace):\n    return [name for name in namespace if namespace[name] is obj][0]\na = 1\nb = 2\nfor var in (a, b):\n    print(f'{namestr(var, globals())} = {var}')\n```\n\n    a = 1\n    b = 2\n\n\n### å•è¡Œ if (ä¸‰å…ƒå…³ç³»è¿ç®—)\n\n```python\na = 1\nb = 'y' if a > 0 else 'n'\nb\n```\n\n\n\n\n    'y'\n\n\n\n### å¾ªçŽ¯, è¿­ä»£å™¨, ç”Ÿæˆå™¨\n\nPython çš„ for å¾ªçŽ¯ä¸ä½¿ç”¨ç´¢å¼•å˜é‡, è€Œä½¿ç”¨éåŽ†**è¿­ä»£å™¨** (iterator) çš„æ–¹å¼å¤„ç†**å¯è¿­ä»£å¯¹è±¡** (range, set ç­‰):\n\n```python\nfor i in range(5):\n    ...\n```\n\néåŽ†çš„æ–¹å¼æ˜¯ä½¿ç”¨ `iter` å’Œ `next` å‡½æ•°:\n\n```python\na = iter(range(5))  # ç”Ÿæˆä¸€ä¸ª range_iterator å¯¹è±¡\n```\n\n```python\nnext(a)\n```\n\n\n\n\n    0\n\n\n\n```python\nlist(range(5))  # è½¬æ¢ä¸º list\n```\n\n\n\n\n    [0, 1, 2, 3, 4]\n\n\n\n`enumerate` å‡½æ•°é€‚åˆéœ€è¦åŒæ—¶ä½¿ç”¨ç´¢å¼•å’Œå†…å®¹æ—¶ä½¿ç”¨:\n\n```python\nfor i, item in enumerate(l):  # enumerate()æ˜¯ä¸€ä¸ªè¿­ä»£å™¨\n    i = ...\n    item = ...  # l[i] = ...\n```\n\nç”Ÿæˆå™¨:\n\n```python\na = (i**2 for i in range(5))  # äº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨, å¯è½¬åŒ–æˆ list, tuple\na\n```\n\n\n\n\n    <generator object <genexpr> at 0x14da87e652b0>\n\n\n\n```python\nnext(a)  # ç”Ÿæˆå™¨ä¹Ÿæ˜¯è¿­ä»£å™¨\n```\n\n\n\n\n    4\n\n\n\n```python\na = [i for i in range(3)]  # äº§ç”Ÿä¸€ä¸ª list\na\n```\n\n\n\n\n    [0, 1, 2]\n\n\n\n```python\n# è½¬åŒ–æˆ tuple\ntuple(i for i in range(3))\n```\n\n\n\n\n    (0, 1, 2)\n\n\n\n### å‡½æ•°å®šä¹‰\n\n* ä¸€èˆ¬çš„å‡½æ•°å®šä¹‰:\n\n```python\ndef func(a, b, *args, **kwargs):\n    # func1(x, y, arg1, arg2, ..., key1=val1, key2=val2, ...)\n    ...\n    return ... # æ²¡æœ‰ return æˆ–ä¸ºç©º åˆ™è¿”å›ž None\n```\n\n* å•è¡Œå‡½æ•° lambda\n\n```python\ndef f(x, y):\n    return x + y\nf(1, 2)\n```\n\n\n\n\n    3\n\n\n\nç”¨ `lambda` è¯­æ³•æ¥å®šä¹‰:\n\n```python\nf = lambda x, y: x + y\nf(1, 2)\n```\n\n\n\n\n    3\n\n\n\n```python\n(lambda x, y: x + y)(1, 2)  # ä¸ä¸€å®šéœ€è¦å®šä¹‰å‡½æ•°åç§°\n```\n\n\n\n\n    3\n\n\n\n### å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ\n\n<https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html>\n\n<img src='/advance/scope_resolution_1.png' width='400' />\n\n* Built-in Functions <https://docs.python.org/3/library/functions.html>\n* Built-in Constants <https://docs.python.org/3/library/constants.html>\n\n`globals()` ä»¥ dict å½¢å¼è¿”å›žå½“å‰æ‰€æœ‰å…¨å±€å˜é‡, åŒ…æ‹¬å¯¼å…¥çš„åŒ…å, ipython/jupyter çš„ `In`, `Out` ç­‰.<br>\npython ä»¥ name -> obj çš„å½¢å¼å­˜å‚¨è¿™äº›å˜é‡.\n\n```python\na = 1\nb = 2\n```\n\n```python\nglobals()['a'] is a\n```\n\n\n\n\n    True\n\n\n\n```python\ni = 1\ndef f():\n    i = 2\n    print(i, 'local')\n    return\nf()\nprint(i, 'global')\n```\n\n    2 local\n    1 global\n\n\n```python\ni = 1\nfor i in range(4):\n    pass\ni  # å€¼è¢«æ”¹å˜äº† (â€œleakingâ€)\n```\n\n\n\n\n    3\n\n\n\n```python\ni = 1\n[i for i in range(3)]\ni  # ç”¨è¿™ç§æ–¹å¼å°±ä¸ä¼šå‘ç”Ÿâ€œleakingâ€\n```\n\n\n\n\n    1\n\n\n\næœ‰å…³å‡½æ•°ä¸­çš„å˜é‡ä½œç”¨æ–¹å¼ç»†èŠ‚, å‚è€ƒè¿™é‡Œæåˆ°çš„ä¾‹å­: [stackoverflow](https://stackoverflow.com/a/575887)\n\n\n\n> * Any time you see <font color=blue>**varname =**</font>, you're **creating a new name** binding within the function's scope.<br>Whatever value `varname` was bound to before is lost within this scope.\n>\n> * Any time you see <font color=blue>**varname.foo()**</font>, you're **calling a method** on `varname`. The method may alter `varname` (e.g. `list.append`). <br>\n`varname` (or, rather, the object that `varname` names) may exist in more than one scope, and since it's the same object, <br>**any changes will be visible in all scopes**.\n\n## NumPy\n\n### numpy çš„æ•°æ®ç±»åž‹ dtype\n\n<https://www.tutorialspoint.com/numpy/numpy_data_types.htm>\n```python\n>>> np.dtype(np.int64) is np.dtype('i8') is np.dtype('<i8')\nTrue\n>>> np.dtype(np.int64) is np.dtype('int') is np.dtype('int64')\nTrue\n>>> np.dtype(np.int64) is np.dtype('>i8')\nFalse\n```\n```python\n>>> np.dtype(np.float64) is np.dtype('f8') is np.dtype('<f8')\nTrue\n>>> np.dtype(np.float64) is np.dtype('float') is np.dtype('float64')\nTrue\n```\nè§ [Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™](#Fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™) ä¸­çš„åº”ç”¨.\n\n### np.arange å‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚\n\n```python\nnp.arange(0., 1.8, 0.3)  # é»˜è®¤ä¸åŒ…å« `stop` è¿™ä¸ªç‚¹\n```\n\n\n\n\n    array([0. , 0.3, 0.6, 0.9, 1.2, 1.5])\n\n\n\n```python\nnp.arange(0., 2.1, 0.3)  # è¿™é‡Œå´åŒ…æ‹¬äº†, ä¸ºä»€ä¹ˆ?\n```\n\n\n\n\n    array([0. , 0.3, 0.6, 0.9, 1.2, 1.5, 1.8, 2.1])\n\n\n\n```python\n'%.16f' % 2.1  # å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æ–¹å¼äº§ç”Ÿçš„ç²¾åº¦é—®é¢˜\n```\n\n\n\n\n    '2.1000000000000001'\n\n\n\nçœ‹ä¸€ä¸ªæ±‚å’Œçš„ä¾‹å­ä¸­åŒæ ·çš„é—®é¢˜ (ç”¨ `list` å’Œ `numpy.ndarray` æ•ˆæžœä¸€æ ·):\n\n```python\nprint('%.17f' % 0.1)\n# sum([0.1, ..., 0.1])\n\nprint('%.17f' % sum([0.1] * 10))\n# å› ä¸ºåŒæ ·é—®é¢˜, ç´¯ç§¯äº†è¯¯å·®\n\nimport math\nprint('%.17f' % math.fsum([0.1] * 10))\n```\n\n    0.10000000000000001\n    0.99999999999999989\n    1.00000000000000000\n\n\n```python\nsum([0.1] * 10) == 1\n```\n\n\n\n\n    False\n\n\n\n```python\nmath.fsum([0.1] * 10) == 1\n```\n\n\n\n\n    True\n\n\n\n```python\nmath.fsum([0.1] * 10) == 1.0\n```\n\n\n\n\n    True\n\n\n\nå‚è€ƒ <https://docs.python.org/3/tutorial/floatingpoint.html>\n\nå»ºè®®æ˜¯: ä½¿ç”¨æ•´æ•°; å¯¹æµ®ç‚¹æ•°çš„æƒ…å†µ, stop å€¼è®¾å¾—ç•¥å°ä¸€äº› (æ¯”å¦‚å‡åŽ»æ­¥é•¿çš„ä¸€èˆ¬) ä»¥é˜²æ­¢æ”¹ç‚¹è¢«åŒ…å«, æˆ–ä½¿ç”¨ `np.linspace` ä»£æ›¿.\n\n### çŸ©é˜µ\n\n`np.matrix`(çŸ©é˜µ) æ˜¯ `np.ndarray`(æ•°ç»„) çš„ä¸€ä¸ªå­ç±», ç»§æ‰¿äº†çˆ¶çº§çš„æ–¹æ³•, ä¹Ÿå®šä¹‰äº†æ–°çš„æ–¹æ³• (ä¾‹å¦‚çŸ©é˜µè¿ç®—).\n\n```python\nissubclass(np.matrix, np.ndarray)\n```\n\n\n\n\n    True\n\n\n\n```python\na = np.matrix([[0, 1, 2], [3, 4, 5]]); a\n```\n\n\n\n\n    matrix([[0, 1, 2],\n            [3, 4, 5]])\n\n\n\n```python\na = np.matrix(\"0 1 2; 3 4 5\"); a\n```\n\n\n\n\n    matrix([[0, 1, 2],\n            [3, 4, 5]])\n\n\n\n```python\ntype(a)\n```\n\n\n\n\n    numpy.matrixlib.defmatrix.matrix\n\n\n\n`np.asmatrix` (æˆ–ç®€å†™ä½œ `np.mat`) ç›¸å½“äºŽ `np.matrix(data, copy=False)`\n\n```python\nx = np.array([[1, 2], [3, 4]])\nm = np.matrix(x)\nm[0, 0] = 5\nx\n```\n\n\n\n\n    array([[1, 2],\n           [3, 4]])\n\n\n\n```python\nx = np.array([[1, 2], [3, 4]])\nm = np.mat(x)\nm[0, 0] = 5\nx\n```\n\n\n\n\n    array([[5, 2],\n           [3, 4]])\n\n\n\n```python\nx.__array_interface__['data'][0] == m.__array_interface__['data'][0]\n```\n\n\n\n\n    True\n\n\n\næ³¨æ„: `np.matrix` æ—¢æ˜¯ä¸€ä¸ªç±»åä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å, è€Œ `np.mat`, `np.asmatrix` åªæ˜¯å‡½æ•°å.\n\n### æ•°ç»„å’ŒçŸ©é˜µè¿ç®—\n\n#### æ•°ç»„è¿ç®—\n\n```python\na = np.arange(12).reshape(3, -1); a\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\na.max()\n```\n\n\n\n\n    11\n\n\n\n```python\na * a  # æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—\n```\n\n\n\n\n    array([[  0,   1,   4,   9],\n           [ 16,  25,  36,  49],\n           [ 64,  81, 100, 121]])\n\n\n\n```python\na ** 2  # æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—\n```\n\n\n\n\n    array([[  0,   1,   4,   9],\n           [ 16,  25,  36,  49],\n           [ 64,  81, 100, 121]])\n\n\n\n#### ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—\n\n`scipy.linalg` ä¸Ž `numpy.linalg` çš„æ¯”è¾ƒ: \n<https://scipy.github.io/devdocs/tutorial/linalg.html>\n>* `scipy.linalg` contains **all** the functions in `numpy.linalg` plus some other more **advanced** ones not contained in `numpy.linalg`\n* Despite its convenience, the use of the `numpy.matrix` class is **discouraged**.\n* `scipy.linalg` operations can be applied **equally** to `numpy.matrix` or to 2D `numpy.ndarray` objects.\n\n```python\na = np.diagflat([1., 2., 3.]); a\n```\n\n\n\n\n    array([[1., 0., 0.],\n           [0., 2., 0.],\n           [0., 0., 3.]])\n\n\n\n```python\nb = np.array([[-1., -1., -1.],[0., 0., 0.]]); b\n```\n\n\n\n\n    array([[-1., -1., -1.],\n           [ 0.,  0.,  0.]])\n\n\n\n```python\nfrom scipy.linalg import inv\ninv(a)  # æ±‚é€†\n```\n\n\n\n\n    array([[ 1.        ,  0.        , -0.        ],\n           [ 0.        ,  0.5       , -0.        ],\n           [ 0.        ,  0.        ,  0.33333333]])\n\n\n\n```python\na.dot(b.T)  # çŸ©é˜µå†…ç§¯\n```\n\n\n\n\n    array([[-1.,  0.],\n           [-2.,  0.],\n           [-3.,  0.]])\n\n\n\n#### ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—\n\nä½¿ç”¨ numpy çš„çŸ©é˜µç±»åž‹ `numpy.matrix`\n\n```python\na = np.mat(np.diagflat([1., 2., 3.])); a\n```\n\n\n\n\n    matrix([[1., 0., 0.],\n            [0., 2., 0.],\n            [0., 0., 3.]])\n\n\n\n```python\nb = np.mat(np.array([[-1., -1., -1.],[0., 0., 0.]])); b\n```\n\n\n\n\n    matrix([[-1., -1., -1.],\n            [ 0.,  0.,  0.]])\n\n\n\n```python\na * b.T  # çŸ©é˜µå†…ç§¯, æ³¨æ„ä¸Žæ•°ç»„çš„è¿ç®—ç¬¦å®šä¹‰ä¸åŒ\n```\n\n\n\n\n    matrix([[-1.,  0.],\n            [-2.,  0.],\n            [-3.,  0.]])\n\n\n\n```python\na @ b.T  # çŸ©é˜µå†…ç§¯çš„æ–°å†™æ³•, python 3.5+\n```\n\n\n\n\n    matrix([[-1.,  0.],\n            [-2.,  0.],\n            [-3.,  0.]])\n\n\n\n```python\na.I  # æ±‚é€†\n```\n\n\n\n\n    matrix([[ 1.        ,  0.        , -0.        ],\n            [ 0.        ,  0.5       , -0.        ],\n            [ 0.        ,  0.        ,  0.33333333]])\n\n\n\n### ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼\n\n* **`np.meshgrid`**\n\n```python\n>>> x = np.linspace(0, 2, 3); x\narray([ 0.,  1.,  2.])\n>>> y = np.linspace(3, 6, 4); y\narray([3., 4., 5., 6.])\n# X, Y å½¢çŠ¶ç›¸åŒ: N x M çŸ©é˜µ, shape=(N, M)\n>>> X, Y = np.meshgrid(x, y)\n>>> X                         # X[j, :] è¡¨ç¤ºåŒä¸€å±‚ y[j] å¯¹åº”çš„ä¸åŒ x å€¼\narray([[0., 1., 2.],          #  0_____x\n       [0., 1., 2.],          #  |\n       [0., 1., 2.],          #  |y\n       [0., 1., 2.]])\n>>> Y\narray([[3., 3., 3.],          # Y[:, i] è¡¨ç¤ºåŒä¸€å±‚ x[i] å¯¹åº”çš„ä¸åŒ y å€¼\n       [4., 4., 4.],\n       [5., 5., 5.],\n       [6., 6., 6.]])\n```\nå¯ç”¨æ¥è®¡ç®—åæ ‡çš„å‡½æ•° (ä¾‹å¦‚ç£åœºçš„è¡¨è¾¾å¼ç­‰ç­‰, è§ [examples/streamplot.py](examples/streamplot.py) )\n```python\nU =   (np.cos(k1 * X) * np.exp(-k1 * Y)\n     - np.cos(k2 * X) * np.exp(-k2 * Y))\nV = (- np.sin(k1 * X) * np.exp(-k1 * Y)\n     + np.sin(k2 * X) * np.exp(-k2 * Y))\n```\n\n```python\nx = np.linspace(0, 2, 3)\ny = np.linspace(3, 6, 4)\nX, Y = np.meshgrid(x, y, indexing='ij')\nY.shape\n```\n\n\n\n\n    (3, 4)\n\n\n\n* **`np.mgrid`**\n\n`j` æ ‡è®°é»˜è®¤æ˜¯è™šæ•°å•ä½, ä½†åœ¨è¿™é‡Œè¡¨ç¤ºå‰é¢çš„æ•°å­—æ˜¯æ ¼ç‚¹æ•°.<br>\næ ¼ç‚¹æ•°ä½¿ç”¨å˜é‡ *`n`* æ—¶, å¯å†™æˆ: *`n`*`*1j + 1j`, 1ä¸èƒ½çœ (å¦åˆ™jå®šä¹‰ä¸ºå˜é‡)<br>\nç±»ä¼¼çš„ `np.ogrid` å¯å‚è§ numpy ç›¸å…³æ–‡æ¡£\n\n```python\n>>> x = np.linspace(0, 2, 3)\n>>> y = np.linspace(3, 6, 4)\n\n# ä¸‹é¢ä¸‰è¡Œç­‰ä»·\n>>> X, Y = np.mgrid[0:2:3j, 3:6:4j]\n>>> X, Y = np.array([i.astype(np.float64) for i in np.mgrid[0:3, 3:7]])\n>>> X, Y = np.array(np.meshgrid(x, y, indexing='ij'))\n# np.mgrid[0:2:3j, 3:6:4j] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'float64'\n# np.mgrid[0:3, 3:6] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'int64'\n# np.meshgrid(x, y, indexing='ij') å¾—åˆ°ä¸€ä¸ª list, æ•°æ®æ ¼å¼åŒx, y\n\n# X, Y å½¢çŠ¶ç›¸åŒ: M x N çŸ©é˜µ, shape=(M, N)\n>>> X                      # X[i, :] è¡¨ç¤º x[i]\narray([[0., 0., 0., 0.],   #  0_____y\n       [1., 1., 1., 1.],   #  |\n       [2., 2., 2., 2.]])  #  |x\n>>> Y                      # Y[:, j] è¡¨ç¤º y[j]\narray([[3., 4., 5., 6.],\n       [3., 4., 5., 6.],\n       [3., 4., 5., 6.]])\n```\n\n### mask\n\n```python\na = np.arange(9).reshape(3, -1); a\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5],\n           [6, 7, 8]])\n\n\n\n```python\na > 4  # mask\n```\n\n\n\n\n    array([[False, False, False],\n           [False, False,  True],\n           [ True,  True,  True]])\n\n\n\n```python\nnp.where(a > 4)  # å¾—åˆ° tuple(col_indexs, row_indexs)\n```\n\n\n\n\n    (array([1, 2, 2, 2]), array([2, 0, 1, 2]))\n\n\n\n```python\nlist(zip(*np.where(a > 4)))  # ä¹Ÿå¯ä»¥ç”¨ np.array(np.where(a > 4)).T\n```\n\n\n\n\n    [(1, 2), (2, 0), (2, 1), (2, 2)]\n\n\n\n```python\na[a > 4] = -1; a  # same as a[np.where(a > 4)]\n```\n\n\n\n\n    array([[ 0,  1,  2],\n           [ 3,  4, -1],\n           [-1, -1, -1]])\n\n\n\n### å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†\n\nå¤„ç†å«æœ‰ NaN çš„æ•°æ®:\n\ne.g. æ±‚æœ€å€¼å¯ä½¿ç”¨ `np.nanmin(...)` å’Œ `np.nanmax(...)`\n\n## Matplotlib\n\n* å®˜æ–¹æ•™ç¨‹ <https://matplotlib.org/tutorials/introductory/usage.html>\n\n<img src='/advance/anatomy.png' width='600' />\n\n```python\nfig = plt.gcf() # current figure\nax = plt.gca()  # current `Axes`\nim = plt.gci()  # current artist(å›¾åƒå†…å®¹), å¯ç”±è¯¸å¦‚ plt.imshow(...) å¾—åˆ°\n```\n\n* å¾—åˆ°å½“å‰ backend:\n```python\n>>> import matplotlib.pyplot as plt\n>>> plt.get_backend()\n```\næˆ–\n```python\n>>> import maplotlib as mpl\n>>> mpl.get_backend()\n```\n* é€‰æ‹© backend (åœ¨å¯¼å…¥å…¶ä»– matplotlib æ¨¡å—ä¹‹å‰):\n```python\n>>> import matplotlib\n>>> matplotlib.use('TkAgg')  # 'Qt5Agg', 'TkAgg', 'Agg', ...\n```\n\n* ç”¨æˆ·é…ç½®æ–‡æ¡£ `matplotlibrc`<br>\né€šå¸¸çš„ä½ç½®: `~/.config/matplotlib/matplotlibrc` (Linux)\n\n* ç”¨ `zorder` æ¥æŽ§åˆ¶å›¾å±‚:\n\nè¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå±•ç¤ºäº†åŠ å…¥ä¸€ä¸ªåŠ¨æ€çš„ç«–çº¿çš„æ–¹æ³•, è¿™æ¡çº¿åœ¨ä¿å­˜åŽçš„å›¾åƒä¸­ä¸ä¼šæ˜¾ç¤º.\n\n```python\n%matplotlib\n%run -e 'examples/test_plot.py'\n```\n\n* ä½¿ç”¨ [è¿™ä¸ªå·¥å…·](https://github.com/joferkington/mpldatacursor) åŠ¨æ€æ ‡æ³¨å…‰æ ‡ä½ç½®çš„å€¼:\n\n```python\n%matplotlib\n%run -e 'examples/test_imshow.py'\n```\n\n* ç‚¹å‡»å›¾åƒåŽåœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºå…‰æ ‡å¤„ä¿¡æ¯çš„ä¾‹å­\n\nå‘½ä»¤è¡Œè„šæœ¬: [examples/test_imshow_click.py](examples/test_imshow_click.py) (jupyter ä¸­æ— æ³•ä½¿ç”¨)\n\n* å¸ƒå±€é—®é¢˜ <https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html>\n* ç»˜åˆ¶å¹³è¡ŒæŠ•å½±çš„3Då›¾ <https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html>\n* æ›´å¤æ‚çš„ 3D å¯è½¬å­˜å¯è§†åŒ–æ•°æ®ç”¨å…¶ä»–è½¯ä»¶æˆ–ä½¿ç”¨ Mayavi (http://docs.enthought.com/mayavi/mayavi)\n\n## SunPy ç¤ºä¾‹\n\n### ç¤ºä¾‹æ–‡ä»¶\n\n- è¯»å– fits, submap, ä½œå›¾ [example_plothmi](https://lydiazly.coding.me/python-notes/example_plothmi.html)\n\n- æŠ•å½± [example_projection](https://lydiazly.coding.me/python-notes/example_projection.html)\n\n- ä¸‹è½½æ•°æ® [fido](https://lydiazly.coding.me/python-notes/fido.html), [jsoc](https://lydiazly.coding.me/python-notes/jsoc.html)\n \n æ³¨æ„: è¿™äº›ä¾‹å­åªæ˜¯æä¾›ä¸€ä¸ªä½¿ç”¨å‚è€ƒ, ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„.\n\n### ç¤ºä¾‹ä¸­çš„ fits è¯»å–æ–¹æ³•\n\næ›´å¤š FITS çš„è¯»å–æ–¹æ³•å‚è§ [Python ç®€æ˜“æ•™ç¨‹#FITS-æ–‡ä»¶è¯»å–](main.html#FITS-æ–‡ä»¶è¯»å–)<br>\nå¦è§ [Astropy çš„å‘½ä»¤è¡Œå·¥å…·](http://docs.astropy.org/en/stable/io/fits/usage/scripts.html)\n\nè¯»å–`HMIMap` çš„ä¾‹å­:\n\n```python\n# å¯¼å…¥ `sunpy.map` çš„æ—¶é—´ä¼šç•¥æœ‰ç‚¹é•¿\nimport sunpy.map\nsmap = sunpy.map.Map('data/hmi.B_720s.20150827_052400_TAI.field.fits')\ntype(smap)\n```\n\n\n\n\n    sunpy.map.sources.sdo.HMIMap\n\n\n\nè¿™æ˜¯ `GenericMap` çš„ä¸€ä¸ªå­ç±»:\n\n```python\nissubclass(sunpy.map.sources.sdo.HMIMap, sunpy.map.mapbase.GenericMap)\nTrue\n```\n\n\n\n\n    True\n\n\n\n```python\nsmap.meta  # headers\n```\n\n```python\ntype(smap.data)  # ç´¢å¼•ä»Ž 0 å¼€å§‹\n```\n\n\n\n\n    numpy.ndarray\n\n\n\n```python\nsmap.data.shape  # (dimy, dimx)\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n`smap.data[i, j]` ä¸­çš„ i ä¸º Y è½´, å•ä½ä¸º pixel:\n\n```python\nimport matplotlib.pyplot as plt\nplt.imshow(smap.data[0:2000, :], origin='lower');\nplt.show()\n```\n\n\n    \n![png](/advance/advance_205_0.png)\n    \n\n\n### å…³äºŽ Scaled Image Data\n\nè¿™ä¸€éƒ¨åˆ†å°†æ›´ä»”ç»†åœ°æ£€æŸ¥ Astropy å¯¹ç¤ºä¾‹ä¸­çš„ FITS æ–‡ä»¶çš„å¤„ç†.\n\nå‚è§ <http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data>\n\n> Images are scaled only when either of the BSCALE/BZERO keywords are present in the header and either of their values is not the default value (BSCALE=1, BZERO=0).\n\nç”±äºŽ `astropy.io.fits` çš„ç‰¹æ€§, è¯»å– 'Scaled Image Data' æ—¶, è°ƒç”¨ `.data` å°†è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œç¼©æ”¾:\n```python\nphysical value = BSCALE * (storage value) + BZERO\n```\n`astropy.io.fits.open` ä¸­ä½¿ç”¨ `do_not_scale_image_data=True` å¯ç¦ç”¨è¿™ä¸€æ­¥éª¤.\n\nè§ [astropy.io.fits FAQ](http://docs.astropy.org/en/stable/io/fits/appendix/faq.html#why-is-an-image-containing-integer-data-being-converted-unexpectedly-to-floats)\n\næ•°æ®ç±»åž‹:\n\nBITPIX    |Numpy Data Type\n:---:|:---\n8         |numpy.uint8 (unsigned integer)\n16        |numpy.int16\n32        |numpy.int32\n-32       |numpy.float32\n-64       |numpy.float64\n\nå¯ä»¥ä½¿ç”¨ Astropy çš„å‘½ä»¤è¡Œå·¥å…·åœ¨ shell ä¸­æŸ¥çœ‹ä¿¡æ¯:\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.field.fits'\n!fitsinfo {fname}\n```\n\n    Filename: data/hmi.B_720s.20150827_052400_TAI.field.fits\n    No.    Name      Ver    Type      Cards   Dimensions   Format\n      0  PRIMARY       1 PrimaryHDU       6   ()      \n      1                1 CompImageHDU    155   (4096, 4096)   int32   \n\n\nå¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç±»åž‹æ˜¯æ•´å½¢.\n\nç”¨å‘½ä»¤è¡Œå·¥å…·æŸ¥çœ‹å…³é”®å­— 'BITPIX':\n\n```python\n!fitsheader -e 1 --keyword BITPIX {fname}\n```\n\n    # HDU 1 in data/hmi.B_720s.20150827_052400_TAI.field.fits:\n    BITPIX  =                   32 / data type of original image                    \n\n\nä½¿ç”¨ `astropy.io.fits`:\n\n```python\nfrom astropy.io import fits\nhdulist = fits.open(fname)\nhdu = hdulist[1]\n```\n\n```python\nhdu.header['BITPIX']\n```\n\n\n\n\n    32\n\n\n\n'BSCALE' ä¸ä¸ºé›¶åˆ™ä¸º 'scaled':\n\n```python\nhdu.header['BSCALE']\n```\n\n\n\n\n    0.01\n\n\n\n```python\nhdu.header['BZERO']\n```\n\n\n\n\n    0.0\n\n\n\n```python\nhdulist.verify('silentfix+warn')  # è°ƒç”¨ `.data` æ—¶å¦‚æžœå‡ºé”™, éœ€è¦å…ˆè¿›è¡Œè¿™ä¸€æ­¥ä¿®å¤\n```\n\n```python\nhdu.data.dtype  # å·²è‡ªåŠ¨å˜æ¢ä¸º 'physical value', åŒæ—¶ `.header` å°†è¢«ä¿®æ”¹\n```\n\n\n\n\n    dtype('float64')\n\n\n\n```python\nhdu.data[1000, 1000]\n```\n\n\n\n\n    142.83\n\n\n\n```python\nhdu.data[0,0]  # -2147483648 è¢«è½¬ä¸º nan\n```\n\n\n\n\n    nan\n\n\n\n```python\nhdu.header['BITPIX']  # å€¼è¢«æ”¹å˜äº†. åŒæ—¶ 'BSCALE', 'BZERO' è¢«åˆ é™¤\n```\n\n\n\n\n    -64\n\n\n\næ‰‹åŠ¨ scale:\n\n'BSCALE' è™½ç„¶ä¹‹å‰å·²è¢«åˆ é™¤, ä½†å€¼ä»å­˜å‚¨åœ¨ `._orig_bscale` ä¸­. `.scale` å°†ä½¿ç”¨è¿™ä¸ªå€¼.\n\n```python\nhdu.scale('int32')  # åœ¨æ­¤ä¹‹åŽ `.data` å°†å˜æ¢å›ž 'storage value'\n```\n\n```python\nhdu._orig_bscale\n```\n\n\n\n\n    0.01\n\n\n\n```python\nhdu._orig_bzero\n```\n\n\n\n\n    0\n\n\n\n```python\nhdu.data[1000, 1000]\n```\n\n\n\n\n    14283\n\n\n\n```python\nhdu.data[0, 0]  # nan è¢«è½¬ä¸º -2147483648\n```\n\n\n\n\n    -2147483648\n\n\n\n```python\nhdu.header['BITPIX']  # å€¼å†æ¬¡è¢«æ”¹å˜äº†\n```\n\n\n\n\n    32\n\n\n\nä½¿ç”¨ SunPy å¤„ç†æ—¶, 'BITPIX', 'BSCALE', 'BZERO' çš„å€¼è¢«ä¿ç•™, `.data` ä»è¿›è¡Œäº† scale çš„è¿‡ç¨‹.\n\né’ˆå¯¹ä¸åŒæ–‡ä»¶, å¦‚æžœ SunPy çš„ç¨‹åºå†…éƒ¨ä½¿ç”¨ `astropy.io.fits` å¤„ç†æ–‡ä»¶æ—¶è°ƒç”¨äº† `.data` å†è¿”å›ž header, å³ `astropy.io.fits` å·²ç»å¦‚ä¸Šæ‰€è¿°æ”¹å˜äº† header, é‚£ä¹ˆ SunPy æ‰€è¿”å›žçš„ header ä¸­ 'BITPIX', 'BSCALE', 'BZERO' å¯èƒ½å·²ç»è¢«æ”¹å˜.\n\nä¸‹é¢çš„ä¾‹å­ä¸­å¾—åˆ°çš„ header æ˜¯æœ€åˆçš„å€¼:\n\n```python\nimport sunpy.map\nsmap = sunpy.map.Map('data/hmi.B_720s.20150827_052400_TAI.field.fits')\n```\n\n```python\nsmap.meta['BITPIX']  # å¾—åˆ°çš„æ˜¯æœªè¢«æ”¹å˜çš„ header\n```\n\n\n\n\n    32\n\n\n\n```python\nsmap.meta['BSCALE']\n```\n\n\n\n\n    0.01\n\n\n\n```python\nsmap.meta['BZERO']\n```\n\n\n\n\n    0.0\n\n\n\n```python\nsmap.data[1000, 1000]  # è¿™ä¸€æ­¥å¹¶ä¸æ”¹å˜ `.meta` çš„å€¼\n```\n\n\n\n\n    142.83\n\n\n\n```python\nsmap.meta['BITPIX']  # ä¸å˜\n```\n\n\n\n\n    32\n\n\n\n```python\nsmap.meta['BSCALE']  # ä¸å˜\n```\n\n\n\n\n    0.01\n\n\n\n```python\nsmap.meta['BZERO']  # ä¸å˜\n```\n\n\n\n\n    0.0\n\n\n\n### åæ ‡å’Œå•ä½\n\n**SunPy map** <http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects>\n>A number of the **properties** of this class are returned as **two-value named tuples**\nthat can either be\n- indexed by position:&ensp;**<font color=blue>[0]</font>,&ensp;<font color=blue>[1]</font>**\n- be accessed by the names:\n  - pixel axes:&ensp;**<font color=blue>.x</font>,&ensp;<font color=blue>.y</font>**<br>\n  x and y refer to the FITS axes (x for columns y for rows)\n  - spatial axes:&ensp;**<font color=blue>.axis1</font>,&ensp;<font color=blue>.axis2</font>**<br>\n  axis1 corresponds to the coordinate axis for x and axis2 corresponds to y.\n\n```python\nsmap.dimensions\n```\n\n\n\n\n    PixelPair(x=<Quantity 4096. pix>, y=<Quantity 4096. pix>)\n\n\n\n```python\nsmap.dimensions.x  # å¾—åˆ°ä¸€ä¸ª `astropy.units.quantity.Quantity`, åŒ…å« value å’Œ unit\n```\n\n\n\n\n\\(4096 \\; \\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.unit\n```\n\n\n\n\n\\(\\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.value\n```\n\n\n\n\n    4096.0\n\n\n\n`astropy.units` çš„ä½¿ç”¨æ–¹æ³•:\n\n```python\nimport astropy.units as u\n```\n\n```python\nu.AA\n```\n\n\n\n\n\\(\\mathrm{\\mathring{A}}\\)\n\n\n\n```python\n4096 * u.pix  # same as `u.pixel`\n```\n\n\n\n\n\\(4096 \\; \\mathrm{pix}\\)\n\n\n\n```python\n(4096, 4096) * u.pix  # æ³¨æ„è¿™é‡Œæ˜¯ `astropy.units` çš„è¿ç®—, å’Œ list è¿ç®—è§„åˆ™ä¸åŒ\n```\n\n\n\n\n\\([4096,~4096] \\; \\mathrm{pix}\\)\n\n\n\n```python\nsmap.dimensions.x.unit is u.pix  # è¯´æ˜Ž x æ˜¯å•ä½æ˜¯ u.pix\n```\n\n\n\n\n    True\n\n\n\n```python\ntype(smap.center)\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n      lon=self.heliographic_longitude,\n\n\n\n\n\n    astropy.coordinates.sky_coordinate.SkyCoord\n\n\n\n```python\nlist((0, 0) * u.pix)\n```\n\n\n\n\n    [<Quantity 0. pix>, <Quantity 0. pix>]\n\n\n\n```python\nsmap.pixel_to_world(*(4096, 4096) * u.pix)\n```\n\n\n\n\n    <SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>): (Tx, Ty) in arcsec\n        (-1040.36199634, -1030.86554911)>\n\n\n\næŸ¥çœ‹ `SkyCoord` çš„å¸®åŠ©:\n\n```python\nimport astropy.coordinates\nhelp(astropy.coordinates.sky_coordinate.SkyCoord)\n```\n\n```python\nsmap.center.Tx\n```\n\n\n\n\n\\(\\mathrm{-7.65399^{\\prime\\prime}}\\)\n\n\n\n```python\nsmap.pixel_to_world(*(2000, 2000) * u.pix)\n```\n\n\n\n\n    <SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>): (Tx, Ty) in arcsec\n        (16.55031204, 26.53575639)>\n\n\n\n```python\nsmap.pixel_to_world(*(2000, 2000) * u.pix).transform_to('heliographic_stonyhurst')\n```\n\n\n\n\n    <SkyCoord (HeliographicStonyhurst: obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, km)\n        (1.00568591, 8.68202918, 696000.0000022)>\n\n\n\næŸ¥çœ‹åæ ‡ä¿¡æ¯:\n\n```python\nsmap.coordinate_frame\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n      lon=self.heliographic_longitude,\n\n\n\n\n\n    <Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>)>\n\n\n\nå‡ºçŽ°è¿™ä¸ª Warning æ—¶:\n\n```python\nsmap.meta['hgln_obs'] = 0.; smap.meta['hgln_obs'] = 0.; smap.meta['hgln_obs'] = 0.\nsmap.coordinate_frame\n```\n\n\n\n\n    <Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=<HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n        (0., 7.089004, 1.51196988e+11)>)>\n\n\n\n### è¯­æ³•å¯¹æ¯”\n\næ¯”è¾ƒ `plothmi.py` ä¸Žå¯¹åº” IDL ç¨‹åºçš„è¯­æ³•:\n\nä¸‹é¢çš„è¯­å¥ä¸­, ä¸ºäº†ç®€ä¾¿å’Œæ–¹ä¾¿å¯¹æ¯”, ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ä¸€äº›å‡½æ•°. å¯¼å…¥æ–¹æ³•:\n```python\nfrom usr_sunpy import read_sdo, plot_map, plot_vmap, image_to_helio\n```\n\nè¯»å–æ•°æ®\n```idl\n; IDL\nread_sdo,<fname>,index,data\nindex2map,index,data,mapa\n```\n```python\n# Python\n# ä¸ºç®€åŒ–è¿‡ç¨‹è€Œè‡ªå®šä¹‰çš„å‡½æ•°, è¯»å…¥æ—¶æ‰“å°æ–‡ä»¶åå’Œæ•°ç»„å¤§å°\nmapa = read_sdo(<fname>)\n```\n\næ—‹è½¬\n```idl\n; IDL\n; 2 è¡¨ç¤º180Â°\nmapbx.data = rotate(mapbx,2)\nmapby.data = rotate(mapbx,2)\nmapbz.data = rotate(mapbx,2)\n```\n```python\n# Python\n# åˆ©ç”¨ 'crota2' çš„å€¼ç¡®å®šè§’åº¦\nmapbx = mapbx.rotate(order=1)\nmapby = mapby.rotate(order=1)\nmapbz = mapbz.rotate(order=1)\n```\n\næˆªå–\n```idl\n; IDL\nsub_map,mapbx,smapbx,xrange=[500,800.0],yrange=[-500,-100.0]\nsub_map,mapby,smapby,ref_map=smapbx\nsub_map,mapbz,smapbz,ref_map=smapbx\n```\n```python\n# Python\n# å·¦ä¸‹åˆ°å³ä¸Š\nbl = SkyCoord(500*u.arcsec, -500*u.arcsec, frame=mapbz.coordinate_frame)\ntr = SkyCoord(800*u.arcsec, -100.*u.arcsec, frame=mapbz.coordinate_frame)\nsmapbx = mapbx.submap(bl, tr)\nsmapby = mapby.submap(bl, tr)\nsmapbz = mapbz.submap(bl, tr)\n```\n\nç»˜å›¾\n```idl\n; IDL\nplot_map,smapbz,dmax=2000,dmin=-2000,color=0,charsize=1.8,...\nplot_vmap,/over,smapbx,smapby,mapbz=smapbz,limit=180,scale=0.012,iskip=15,jskip=15,...\n```\n```python\n# Python\n# ä¸»è¦è°ƒç”¨çš„æ˜¯ matplotlib\nfig = plt.figure()\nax = fig.add_subplot(111, projection=smapbz) # ä½¿ç”¨ smapbz ä¸­å®šä¹‰çš„åæ ‡ç³»ç»Ÿ\nplot_map(ax, smapbz)\nplot_vmap(ax, smapbx, smapby, smapbz, iskip=iskip, jskip=jskip, cmin=100., vmax=500., cmap='binary', ...)\n```\n\nåæ ‡å˜æ¢\n```idl\n; IDL\n; magnetic_modeling_codes/.../05projection_modified_version.pro\n```\n```python\n# Python\n# `image_to_helio`(å˜æ¢ä¸º Helioprojective(Cartesian) system)\n# è°ƒç”¨è‡ªå®šä¹‰çš„æ—‹è½¬çŸ©é˜µå‡½æ•° `proj_matrix`, å‚è€ƒæ–‡çŒ®ä¸ŽåŽŸIDLç¨‹åºç›¸åŒ\nhx, hy = image_to_helio(smapbz)  # numpy æ•°ç»„\nsmapbx_h, smapby_h, smapbz_h = image_to_helio(smapbx, smapby, smapbz) # sunpy `Map`\n\nplot_map(ax, smapbz_h, coords=(hx, hy))\nplot_vmap(ax, smapbx_h, smapby_h, smapbz_h, coords=(hx, hy), ...)\n```\n\n## æ’å€¼, æ‹Ÿåˆ\n\né€‰æ‹©ä¸é™äºŽè¿™é‡Œåˆ—ä¸¾çš„åŒ…, ä»¥åŽä¹Ÿå¯èƒ½ä¼šæœ‰æ›´åˆé€‚çš„æ–¹æ³•å‡ºçŽ°.\n\nç›¸å…³å®‰è£…è§ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n\n### æ’å€¼\n\n* numpy\n```\nf = interp1d(x, y, kind='cubic'[, fill_value='extrapolate'])\nx2 = np.linspace(...)\ny2 = f(x2)\n```\nè§ [examples/test_plot.py](examples/test_plot.py)\n\n* scipy <https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html>\n\n### æ±‚æžå€¼\n\n* PeakUtils <http://peakutils.readthedocs.io/en/latest/>\n\nå®˜æ–¹ä¾‹å›¾ (http://peakutils.readthedocs.io/en/latest/tutorial_a.html):\n\n```python\nimport peakutils\nindexes = peakutils.indexes(y, thres=0.5, min_dist=30)\n```\n\n<img src='/advance/tut_a_2.png' width='500' />\n\nEnhancing the resolution by interpolation:\n```python\npeaks_x = peakutils.interpolate(x, y, ind=indexes)\n```\n\n### æ‹Ÿåˆ\n\n* LMFIT (Non-Linear Least-Squares Minimization and Curve-Fitting)\n\nä¸‹è½½ <https://github.com/lmfit/lmfit-py>\n\næ–‡æ¡£ <http://lmfit.github.io/lmfit-py/>\n\næœ‰çŽ°æˆæ¨¡åž‹, ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡åž‹.<br>\nå¯ä»¥æ–¹ä¾¿åœ°å åŠ ä¸åŒæ‹Ÿåˆæ¨¡åž‹(æ¯”å¦‚å¤šä¸ªé«˜æ–¯, çº¿æ€§åŠ é«˜æ–¯, ç­‰ç­‰).<br>\nä¾‹å­è§ [examples/lmfits](examples/lmfits.zip) (æ¥è‡ª [LMFITç½‘ç«™ç¤ºä¾‹](http://lmfit.github.io/lmfit-py/builtin_models.html#example-1-fit-peak-data-to-gaussian-lorentzian-and-voigt-profiles) )\n\nä½¿ç”¨å†…ç½®æ¨¡åž‹:\n\n```python\nfrom lmfit.models import GaussianModel  # å†…ç½®çš„æ¨¡åž‹\n\ndata = np.loadtxt('test_peak.dat')\nx = data[:, 0]\ny = data[:, 1]\n\nmod = GaussianModel()  # å®žä¾‹åŒ–ä¸€ä¸ªæ¨¡åž‹\npars = mod.guess(y, x=x)  # ç»™åˆå€¼\nout = mod.fit(y, pars, x=x)  # æ‹Ÿåˆç»“æžœ\n\nprint(out.fit_report())  # æ‹Ÿåˆç»“æžœçš„è¯¦ç»†ä¿¡æ¯\nplt.plot(x, out.init_fit, 'k--')\nplt.plot(x, out.best_fit, 'r-')\n```\n\n```python\n%matplotlib inline\n%run examples/lmfits/fit_peak.py\n```\n\n    [[Model]]\n        Model(voigt)\n    [[Fit Statistics]]\n        # fitting method   = leastsq\n        # function evals   = 21\n        # data points      = 401\n        # variables        = 4\n        chi-square         = 10.9301767\n        reduced chi-square = 0.02753193\n        Akaike info crit   = -1436.57602\n        Bayesian info crit = -1420.60017\n    [[Variables]]\n        sigma:      0.89518909 +/- 0.01415450 (1.58%) (init = 0.8775)\n        center:     9.24374847 +/- 0.00441903 (0.05%) (init = 9.25)\n        amplitude:  34.1914737 +/- 0.17946860 (0.52%) (init = 65.43358)\n        gamma:      0.52540198 +/- 0.01857955 (3.54%) (init = 0.7)\n        fwhm:       3.22385343 +/- 0.05097475 (1.58%) == '3.6013100*sigma'\n        height:     10.0872204 +/- 0.03482130 (0.35%) == 'amplitude*wofz((1j*gamma)/(sigma*sqrt(2))).real/(sigma*sqrt(2*pi))'\n    [[Correlations]] (unreported correlations are < 0.100)\n        C(sigma, gamma)     = -0.928\n        C(amplitude, gamma) =  0.821\n        C(sigma, amplitude) = -0.651\n    \n\n\n\n    \n![png](/advance/advance_279_1.png)\n    \n\n\nå¤šä¸ªæ¨¡åž‹å åŠ :\n\n```python\nfrom lmfit.models import ExponentialModel, GaussianModel\n\ndata = np.loadtxt('NIST_Gauss2.dat')\nx = data[:, 0]\ny = data[:, 1]\n\nexp_mod = ExponentialModel(prefix='exp_')\ngauss1 = GaussianModel(prefix='g1_')\ngauss2 = GaussianModel(prefix='g2_')\n\npars1 = exp_mod.guess(y, x=x)  # åˆ†æ®µè®¾å‚æ•°çš„æ–¹æ³•è§ä¸‹é¢çš„è„šæœ¬æ–‡ä»¶\npars2 = gauss1.guess(y, x=x)\npars3 = gauss2.guess(y, x=x)\n\npars = pars1 + pars2 + pars3  # å åŠ å‚æ•°\nmod = gauss1 + gauss2 + exp_mod  # å åŠ æ¨¡åž‹\n\nout = mod.fit(y, pars, x=x)\n\nprint(out.fit_report())\nplt.plot(x, y, 'b')\nplt.plot(x, out.init_fit, 'k--')\nplt.plot(x, out.best_fit, 'r-')\n```\n\n```python\n%%capture output\n%matplotlib inline\n%run examples/lmfits/fit_peaks.py\n```\n\n```python\noutput.outputs[0]\n```\n\n\n\n\n    \n![png](/advance/advance_283_0.png)\n    \n\n\n\n```python\n%%capture output\n%matplotlib inline\n%run examples/lmfits/fit_peaks_components.py\n```\n\n```python\noutput.outputs[0]\n```\n\n\n\n\n    \n![png](/advance/advance_285_0.png)\n    \n\n\n\nè‡ªå®šä¹‰æ¨¡åž‹çš„æ–¹æ³•è§ [LMFITç½‘ç«™ç¤ºä¾‹](http://lmfit.github.io/lmfit-py/builtin_models.html#user-defined-models)\n\n### å…¶ä»–\n\n* Sherpa(Modeling and Fitting) <http://cxc.cfa.harvard.edu/contrib/sherpa/><br>\n* 2-D Fitting in Sherpa <https://python4astronomers.github.io/fitting/image.html><br>\n* *etc.*\n\n## copy æ³¨æ„äº‹é¡¹\n\n**\"shallow copy\"** vs **\"deep copy\"**\n\n* å¯¹äºŽ list çš„æƒ…å†µ\n\næ¼”ç¤ºæ’ä»¶ <https://github.com/lgpage/nbtutor>\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = [1, 2, 3]\nb = a\nc = deepcopy(a)\nd = a[:] # åˆ—è¡¨çš„åˆ‡ç‰‡æ˜¯æ·±æ‹·è´\nb[0] = -1\nc[1] = -2\nd[2] = -3\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    23284866388232 23284866388232 23284855519880 23284856061064\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgK1OHf)\n\n<img src='/advance/nbtutor3.png' width='550'/>\n\n* å¯¹äºŽ dict çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = {1:1, 2:2, 3:3}\nb = a\nc = a.copy()  # æ·±æ‹·è´\nd = deepcopy(a)\nb[1] = -1\nc[2] = -2\nd[3] = -3\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    22492371132064 22492371132064 22492397510376 22492397507280\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgKrHOx)\n\n<img src='/advance/nbtutor4.png' width='550'/>\n\n* å¯¹äºŽ set çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nfrom copy import deepcopy\na = {1, 2, 3}\nb = a\nc = a.copy()  # æ·±æ‹·è´\nd = deepcopy(a)\nb.add(4)\nc.add(5)\nd.add(6)\n```\n\n    \n\n```python\nprint(id(a), id(b), id(c), id(d))\n```\n\n    22492476895528 22492476895528 22492476895304 22492374233384\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/RgKd3E7)\n\n<img src='/advance/nbtutor5.png' width='550'/>\n\n* å¯¹äºŽ numpy çš„æƒ…å†µ\n\n```python\n%%nbtutor -r -f -i\nimport numpy as np\na = np.arange(1, 4)\nb = a[:] # æµ…æ‹·è´!\nc = a.copy()  # æ·±æ‹·è´, åŒ deepcopy(a)\nd = a[[0, 2]]  # èŠ±å¼åˆ‡ç‰‡æ˜¯æ·±æ‹·è´\nb[0] = -1\nc[1] = -2\nd[1] = -3\n```\n\n    \n\n```python\n# id è™½å„ä¸åŒ, ä½† .__array_interface__['data'][0] å¯èƒ½ç›¸åŒ\nfor i in (a, b, c, d):\n    print(id(i), i.__array_interface__['data'][0])\n```\n\n    22928831926400 93879086511872\n    22928831928960 93879086511872\n    22928829201984 93879072448320\n    22928829199344 93879078700736\n\n\n[ç½‘é¡µç‰ˆæ¼”ç¤º](http://t.cn/Rg9hST6) (**Site Error**: Ruby and Python+Anaconda backends are permanently unavailable)\n\nå‚è§ä¹‹å‰çš„ [np.matrix, np.asmatrix](#çŸ©é˜µ)\n\n## å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\n\n### ç”¨ pandas è¯» csv\n\n```python\nimport pandas as pd\ndata = pd.read_csv(\"data/data.csv\")\ndata\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>col1</th>\n      <th>col2</th>\n      <th>col3</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>row1</td>\n      <td>1</td>\n      <td>10.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>row2</td>\n      <td>2</td>\n      <td>0.2</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>row3</td>\n      <td>3</td>\n      <td>300.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n```python\ndata.columns\n```\n\n\n\n\n    Index(['col1', 'col2', 'col3'], dtype='object')\n\n\n\n```python\ndata.col1\n```\n\n\n\n\n    0    row1\n    1    row2\n    2    row3\n    Name: col1, dtype: object\n\n\n\n```python\ndata['col1']\n```\n\n\n\n\n    0    row1\n    1    row2\n    2    row3\n    Name: col1, dtype: object\n\n\n\nåªå–ä¸€éƒ¨åˆ†:\n\n```python\ndata = pd.read_csv(\"data/data.csv\", nrows=2, usecols=(0,2))\ndata\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>col1</th>\n      <th>col3</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>row1</td>\n      <td>10.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>row2</td>\n      <td>0.2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\nå¯¹äºŽè¶…å¤§æ–‡ä»¶, å‚è§: <https://www.dataquest.io/blog/pandas-big-data/>\n\n### Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\n\n#### Unformatted (sequential)\n\nä½¿ç”¨ `scipy.io.FortranFile`<br>\nå‚è€ƒ: <https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html>\n\n```python\n# python (write)\nfrom scipy.io import FortranFile\nvar1 = 1.1  # '<f8'\nvar2 = 0  # '<i8'\narr = np.arange(6.).reshape((2, 3))  # '(2, 3)<f8'\nprint(var1, var2)\nprint(arr)\nprint(f'arr[0, 1] = {arr[0, 1]}')\n\n# å¤šè¡Œå­˜å…¥\nwith FortranFile('data/data_fortran1-1.dat', 'w') as f:\n    f.write_record(var1)\n    f.write_record(var2)\n    f.write_record(arr)\n# å•è¡Œå­˜å…¥\nwith FortranFile('data/data_fortran1-2.dat', 'w') as f:\n    f.write_record(var1, var2, arr)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    arr[0, 1] = 1.0\n\n\n```python\n# python (read)\nfrom scipy.io import FortranFile\n# å¤šè¡Œå­˜å…¥çš„æƒ…å†µ\nwith FortranFile('data/data_fortran1-1.dat', 'r') as f:\n    var1 = float(f.read_record('<f8'))\n    var2 = int(f.read_record('<i8'))  # æ³¨æ„ç²¾åº¦(ä¸Šé¢pythonå­˜å…¥çš„æ˜¯é»˜è®¤'int64')\n    arr = f.read_record('(2, 3)<f8')\nprint('data_fortran1-1.dat')\nprint(var1, var2)\nprint(arr)\n# å•è¡Œå­˜å…¥çš„æƒ…å†µ\nwith FortranFile('data/data_fortran1-2.dat', 'r') as f:\n#     data = f.read_record('<f8, <i8, (2, 3)<f8')  # ä¸æŒ‡å®šåç§°\n    data = f.read_record([('var1', '<f8'), ('var2', '<i8'),\n                         ('arr', '(2, 3)<f8')])  # æŒ‡å®šåç§°: (name, dtype)\nprint('\\ndata_fortran1-2.dat')\nprint(f'keys = {data.dtype.names}')  # å¦‚è¯»å–æ—¶æœªæŒ‡å®šåç§°åˆ™ä¸º ['f0', 'f1', ...]\nprint(float(data['var1']), int(data['var2']))\nprint(data['arr'])\n```\n\n    data_fortran1-1.dat\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    \n    data_fortran1-2.dat\n    keys = ('var1', 'var2', 'arr')\n    1.1 0\n    [[[0. 1. 2.]\n      [3. 4. 5.]]]\n\n\n```bash\n%%bash\ncd examples/\nifort -o test_read_seq test_read_seq.f90\n./test_read_seq\n```\n\n     data_fortran1-1.dat\n       1.1  0.0\n       0.0  1.0  2.0\n       3.0  4.0  5.0\n     arr(2, 1) =   1.0\n    \n     data_fortran1-2.dat\n       1.1  0.0\n       0.0  1.0  2.0\n       3.0  4.0  5.0\n     arr(2, 1) =   1.0\n\n\nè§ Structured arrays: <https://docs.scipy.org/doc/numpy/user/basics.rec.html>\n\n#### Unformatted (stream)\n\n`struct` å‚è€ƒ <https://docs.python.org/3/library/struct.html>\n\n```python\n# python (write)\nimport struct\nvar1 = 1.1  # '<f8'\nvar2 = 0  # '<i8'\narr = np.arange(6.).reshape((2, 3))  # '(2, 3)<f8'\nprint(var1, var2)\nprint(arr)\nprint(f'arr[0, 1] = {arr[0, 1]}')\nwith open('data/data_fortran2.dat', 'wb') as f:\n    f.write(struct.pack('d', var1))\n    f.write(struct.pack('i', var2))  # æ³¨æ„ `struct` çš„ 'i' æ˜¯ '<i4'\n    arr.tofile(f)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n    arr[0, 1] = 1.0\n\n\n```python\n# python (read)\n# ä½¿ç”¨ `np.fromfile`, è¯»å…¥çš„æ˜¯ `ndarray`\nwith open('data/data_fortran2.dat', 'rb') as f:\n    var1 = float(np.fromfile(f, dtype='<f8', count=1))\n    var2 = int(np.fromfile(f, dtype='<i4', count=1))\n    arr = np.fromfile(f, dtype='<f8').reshape(2, 3)\nprint(var1, var2)\nprint(arr)\n```\n\n    1.1 0\n    [[0. 1. 2.]\n     [3. 4. 5.]]\n\n\n```bash\n%%bash\ncd examples/\nifort -o test_read_stream test_read_stream.f90\n./test_read_stream\n```\n\n      1.1 0.0\n      0.0 1.0 2.0\n      3.0 4.0 5.0\n     arr(2, 1) =  1.0\n\n\n### HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–\n\n#### è¯»å†™ HDF5 æ–‡ä»¶, è¯» NCDF æ–‡ä»¶\n\nHDF5 æ ¼å¼ä»‹ç» <https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5>\n\nç›¸å…³åŒ…: `h5py` æˆ– `pandas` + `pytables` (http://www.pytables.org/usersguide/datatypes.html)\n\nå®‰è£…è§ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n\n* æŸ¥çœ‹\n\n```sh\n$ h5dump -H <filename>.hdf5\n$ ncdump -h <filename>.ncdf\n```\n\n* ç”¨ `h5py` è¯»å†™:\n\n```python\nimport h5py\narr = np.arange(10000).reshape(50,-1)\nwith h5py.File('test.hdf5', 'w') as f:\n    f['data'] = arr\n    # æˆ–\n    # f.create_dataset('data', data=arr)\n    # å…¶ä¸­ compression='gzip', compression_opts=[0-9], å¯åˆ†æ¡ç›®ç”¨ä¸åŒåŽ‹ç¼©\n    f['lb'] = list(range(100))\n```\n&emsp;è¯»çº¯ HDF5/NCDF æ–‡ä»¶:\n```python\nf = h5py.File('test.hdf5', 'r')\nkeys = list(f.keys())  # ['data', 'lb']\nitems = list(f.items())\na = f['data'].value\n```\n&emsp;è¯» pandas å­˜çš„æ–‡ä»¶:\n```python\na = f['data']['block0_values'].value\nf.close()\n# f['<key>'] å¾—åˆ°çš„æ˜¯ Dataset æˆ– Group çš„å¼•ç”¨\n# ç”¨ f['<key>'].value æˆ–åˆ‡ç‰‡ f['<key>'][:] å¾—åˆ°åŽŸæ¥çš„æ ¼å¼\n# f['<key>'] å¯æ›¿ä»£ä¸ºf.get('<key>')\n# å…³é—­ä¹‹åŽ f['data'] çš„å¼•ç”¨å¤±æ•ˆ, å› æ­¤å­˜å‡ºæ•°æ®è¦åŠ ä¸Š.valueæˆ–[:]ä¿å­˜æ•°æ®, æˆ–ä½¿ç”¨ deepcopy\n```\n&emsp;æ‰“å°è¯»å–çš„ä¿¡æ¯:\n```python\nfrom pprint import pprint\npprint([(f'{k:>20}', f'{str(f[k].shape):>20}', f'{str(f[k].dtype):>20}') for k in f.keys()])\npprint([(f'{k:>20}', f\"{str(f[k]['block0_values'].shape):>20}\", f\"{str(f[k]['block0_values'].dtype):>20}\") for k in f.keys()])\n```\n\n* ç”¨pandasè¯»å†™:\n    \n```python\nimport pandas as pd\n```\n&emsp;å†™:\n```python\narr2 = pd.DataFrame(arr)\n# complevel=[0-9], complib={'zlib', 'lzo', 'bzip2', 'blosc'}\nwith pd.HDFStore('test2.hdf5', 'w') as f:\n    f['data'] = arr2\n    f['lb'] = pd.DataFrame(list(range(100)))\n```\n&emsp;è¯» pandas å†™çš„æ–‡ä»¶:\n```python\nf = pd.HDFStore('test2.hdf5', 'r')\nkeys = f.keys()  # ['/data', '/lb'], å­˜åœ¨å­ç›®å½•\nitems = list(f.items())\na = f.data.values  # a = f.<key> å¾—åˆ°çš„æ˜¯ DataFrame çš„å¼•ç”¨, f.<key>.values å¾—åˆ°åŽŸæ¥çš„æ ¼å¼\nf.close()\n```\n\n* è¯»çº¯ HDF5/NCDF æ–‡ä»¶:<br>\næ¯”å¦‚ h5py å†™çš„æ–‡ä»¶, ç›®å½•ç»“æž„å’Œ pandas å†™çš„ä¸åŒ, è¦ç”¨`.root`<br>\nå…¶ä»–è½¯ä»¶ç”Ÿæˆçš„æ–‡ä»¶å¯èƒ½ä¸èƒ½è¯»\n\n```python\nf = pd.HDFStore('test.hdf5', 'r')\nkeys = list(f.root._v_children.keys())  # ['data', 'lb']\nitems = list(f.root._v_children.items())  # ['data', 'lb'], æœ‰äº›æ–‡ä»¶æ²¡æœ‰.items\na = f.root.data.read()\n# f.root å¾—åˆ° tables.group.RootGroup, f.root.<key> å¾—åˆ°tables.group.CArray\n# f.get_node('<key>') å¾—åˆ° tables.group.CArray\n# f.root.<key> å¯æ›¿ä»£ä¸º f['<key>'] (æœ‰äº›æ–‡ä»¶ä¸è¡Œ)\nf.close()\n```\n&emsp;æ‰“å° (ä»¥å…æ•°æ®æœ‰ None, ç”¨ `np.shape`):\n```python\npprint([(f'{k}'                      .rjust(20),\n         f'{np.shape(f.get_node(k))}'.rjust(20),\n         f'{np.dtype(f.get_node(k))}'.rjust(20))\n         for k in list(f.root._v_children.keys())])\n```\n&emsp;Bug: æ— æ³•è¯»å‡º `H5T_STRING`\n\n#### å¤§å°æ¯”è¾ƒ\n\nç”¨äºŽæ¯”è¾ƒçš„æ–‡ä»¶åè¯´æ˜Ž:\n\nFilename | Method\n:---|:---\n*xxx*_np.npy|**`np.save`**\n*xxx*_np.npz|**`np.savez_compressed`**\n*xxx*_compimg.fits|**FITS** CompImageHDU (compressed)\n*xxx*_prim.fits|**FITS** PrimaryHDU\n*xxx*_h5py_0.hdf5|**`h5py`** no compression\n*xxx*_h5py_gzip.hdf5|**`h5py`** compression='gzip', compression_opts=9\n*xxx*_h5py_lzf.hdf5|**`h5py`** compression='lzf'\n*xxx*_pd_0.hdf5|**`pandas`** no compression\n*xxx*_pd_blosc.hdf5|**`pandas`** complib='blosc', complevel=9\n*xxx*_pd_bzip2.hdf5|**`pandas`**  complib='bzip2', complevel=9\n*xxx*_pd_lzo.hdf5|**`pandas`**  complib='lzo', complevel=9\n*xxx*_pd_zlib.hdf5|**`pandas`**  complib='zlib', complevel=9\n\n* å¯¹äºŽç›¸å…³æ€§å¼ºçš„æ•°ç»„\n\n```python\n%run examples/test_hdf5.py\nprint()\n!du -h data/test_*.np*\nprint()\n!du -h data/test_h5py_*.hdf5\nprint()\n!du -h data/test_pd_*.hdf5\n```\n\n    array: 15.3 M\n    \n    7.7M\tdata/test_np.npy\n    1.3M\tdata/test_np.npz\n    \n    16M\tdata/test_h5py_0.hdf5\n    2.9M\tdata/test_h5py_gzip.hdf5\n    7.7M\tdata/test_h5py_lzf.hdf5\n    \n    16M\tdata/test_pd_0.hdf5\n    272K\tdata/test_pd_blosc.hdf5\n    248K\tdata/test_pd_bzip2.hdf5\n    256K\tdata/test_pd_lzo.hdf5\n    172K\tdata/test_pd_zlib.hdf5\n\n\n* éšæœºæ•°æ•°ç»„\n\n```python\n%run examples/test_hdf5_2.py\nprint()\n!du -h data/test_*.np*\nprint()\n!du -h data/test_h5py_*.hdf5\nprint()\n!du -h data/test_pd_*.hdf5\n```\n\n    array: 15.3 M\n    \n    7.7M\tdata/test_np.npy\n    7.2M\tdata/test_np.npz\n    \n    16M\tdata/test_h5py_0.hdf5\n    8.0M\tdata/test_h5py_gzip.hdf5\n    9.5M\tdata/test_h5py_lzf.hdf5\n    \n    16M\tdata/test_pd_0.hdf5\n    7.7M\tdata/test_pd_blosc.hdf5\n    7.2M\tdata/test_pd_bzip2.hdf5\n    7.7M\tdata/test_pd_lzo.hdf5\n    7.1M\tdata/test_pd_zlib.hdf5\n\n\n* ä»Ž FITS æ–‡ä»¶è¯»å–å†è½¬å­˜\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.field.fits'\n%run examples/test_fits_hdf5.py {fname}\nprint()\n!du -h {fname}\nprint()\n!du -h data/fits_*.np*\nprint()\n!du -h data/fits_*.fits\nprint()\n!du -h data/fits_h5py_*.hdf5\nprint()\n!du -h data/fits_pd_*.hdf5\n```\n\n    array: 64.0 M\n    \n    21M\tdata/hmi.B_720s.20150827_052400_TAI.field.fits\n    \n    65M\tdata/fits_np.npy\n    27M\tdata/fits_np.npz\n    \n    21M\tdata/fits_compimg.fits\n    65M\tdata/fits_prim.fits\n    \n    65M\tdata/fits_h5py_0.hdf5\n    27M\tdata/fits_h5py_gzip.hdf5\n    40M\tdata/fits_h5py_lzf.hdf5\n    \n    65M\tdata/fits_pd_0.hdf5\n    23M\tdata/fits_pd_blosc.hdf5\n    21M\tdata/fits_pd_bzip2.hdf5\n    23M\tdata/fits_pd_lzo.hdf5\n    20M\tdata/fits_pd_zlib.hdf5\n\n\n```python\nfname = 'data/hmi.B_720s.20150827_052400_TAI.disambig.fits'\n%run examples/test_fits_hdf5.py {fname}\nprint()\n!du -h {fname}\nprint()\n!du -h data/fits_*.np*\nprint()\n!du -h data/fits_*.fits\nprint()\n!du -h data/fits_h5py_*.hdf5\nprint()\n!du -h data/fits_pd_*.hdf5\n```\n\n    array: 32.0 M\n    \n    5.4M\tdata/hmi.B_720s.20150827_052400_TAI.disambig.fits\n    \n    33M\tdata/fits_np.npy\n    5.2M\tdata/fits_np.npz\n    \n    5.4M\tdata/fits_compimg.fits\n    33M\tdata/fits_prim.fits\n    \n    33M\tdata/fits_h5py_0.hdf5\n    5.3M\tdata/fits_h5py_gzip.hdf5\n    9.7M\tdata/fits_h5py_lzf.hdf5\n    \n    33M\tdata/fits_pd_0.hdf5\n    9.5M\tdata/fits_pd_blosc.hdf5\n    4.1M\tdata/fits_pd_bzip2.hdf5\n    7.6M\tdata/fits_pd_lzo.hdf5\n    4.8M\tdata/fits_pd_zlib.hdf5\n\n\n#### è¯»å– CDF æ–‡ä»¶\n\nç›¸å…³åŒ… `cdflib`, å®‰è£…è§ [Python å®‰è£…å’Œé…ç½®#å…¶ä»–](installpy.html#å…¶ä»–)\n```python\nimport cdflib\nf = cdflib.CDF(\"<filename>.cdf\")\nf.cdf_info()  # æ€»ä½“ä¿¡æ¯\nf.varinq('<key>')  # å˜é‡ä¿¡æ¯\nf.varget('<key>')  # å€¼\nf.close()\n```\n\n### NumPy to VTK\n\nå‚è€ƒ <https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/><br>\nä»¥åŠ [Python å®‰è£…å’Œé…ç½®](installpy.html#å…¶ä»–)\n<br><br>\ne.g.<br>\nè¿è¡Œ [examples/field2dvtk.py](examples/field2dvtk.py) ,<br>\næ‰“å¼€Paraview, é€‰æ‹© state æ–‡ä»¶ 'field2d.pvsm', å†é€‰æ‹©æ•°æ®æ–‡ä»¶ 'field2d.vtr'\n\n### Matlab mat æ–‡ä»¶è¯»å†™\n\n(æœªæµ‹è¯•)\n```python\nimport scipy.io\nscipy.io.loadmat(\"<filename>\", mdict=None, appendmat=True, **kwargs)\n# å¦‚æžœ appendmat=Trueï¼Œåˆ™æ–‡ä»¶åä¸éœ€è¦'.mat'åŽç¼€)\nscipy.io.savemat(\"<filename>\", mdict, appendmat=True, format='5',\n                 long_field_names=False, do_compression=False, oned_as='row')\n```\n\n## è„šæœ¬ç›¸å…³\n\n### è„šæœ¬ç»“æž„\n\næ–‡ä»¶å¤´:\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n```\n\nè„šæœ¬ç»“æž„:\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\"\"\"\nå‡è®¾è¿™ä¸ªæ–‡ä»¶çš„åç§°ä¸º mymodule.py\nä½¿ç”¨ `imort mymodule` å¯¼å…¥\nè¿™äº›æ–‡å­—ä¼šå‡ºçŽ°åœ¨ `help(mymodule)` æˆ– `pydoc mymodule` ä¸­\n\"\"\"\nc = 1\ndef func1(x, y, *args, **kwargs):\n    \"\"\"\n    è¿™ä¸ªæ³¨é‡Šå¿…é¡»ç¼©è¿›\n    args: a tuple - (arg1, arg2, ...)\n    kwargs: a dict - {key1 : val1, key2 : val2}\n    \"\"\"\n    global c\n    return x + y + c\ndef func2(x):\n    a = func1(x, x)\n    return a\ndef _func3(x):  # `from xxx import *` å°†ä¸ä¼šå¯¼å…¥è¿™ä¸ªå‡½æ•°\n    pass\n    return  # return ä¸å†™æ—¶è¿”å›ž None\ndef main():\n    # your code here\nif __name__ == \"__main__\":\n    main()\n```\n`import` è¿™ä¸ªæ–‡æ¡£æ—¶, `__name__` ä¸ºæ¨¡å—å, å› æ­¤ `main()` ä¸æ‰§è¡Œ\n\n`help()` ä¹Ÿå¯ä»¥æŸ¥çœ‹æ¨¡å—å†…çš„å‡½æ•°æ–‡æ¡£:\n\n```python\nimport usr_sunpy\nhelp(usr_sunpy.plot_map)\n```\n\n### try ... except ... è¯­æ³•\n\n```python\ntry:\n    ...\nexcept ValueError as e:\n    print('ValueError:', e)\nexcept ZeroDivisionError as e:\n    print('ZeroDivisionError:', e)\nelse:\n    print('no error!')\nfinally:\n    print('finally...')\n```\nè§ [Paraview çš„ä¾‹å­](#Paraview-è„šæœ¬)\n\n### Paraview è„šæœ¬\n\nå®˜æ–¹æ–‡æ¡£ <https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html>\n<br><br>\n* è®°å½•è¯­å¥:\n 1. Tools -> Start Trace\n 2. è¿›è¡Œå„ç§æ“ä½œ\n 3. Tools -> Stop Trace ä¹‹åŽå¾—åˆ°ä¸€ä¸ªåŒ…å«åˆšæ‰æ“ä½œå‘½ä»¤çš„è„šæœ¬, å‚è€ƒå…¶ä¸­çš„è¯­å¥å°±å¯ä»¥å†™è‡ªå·±çš„è„šæœ¬äº†.\n<br><br>\n* éœ€è¦å¯¼å…¥çš„æ¨¡å—:\n\n```sh\nfrom paraview.simple import *\n```\n<br>\n* ä½¿ç”¨ pvpython (é»˜è®¤æ¸²æŸ“) pvbatch (é»˜è®¤ä¸æ¸²æŸ“) æ¥æ‰§è¡Œè„šæœ¬:\n\n```sh\npvbatch myscript.py\n```\n\nä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤´ `#!/usr/bin/env pvbatch`, åŠ æ‰§è¡Œæƒé™åŽç›´æŽ¥æ‰§è¡Œ:\n```sh\n./myscript.py\n```\næ³¨æ„: æ‰“åŒ…çš„ paraview æ‰€ä½¿ç”¨çš„ python æ˜¯ paraview è‡ªå¸¦çš„ python2.7\n\n<img src='/advance/Screenshot_20180618-151438.png' width='700' />\n\n* å¸¸ç”¨è¯­å¥:\n\n```python\nview = GetActiveView()\nscene = GetAnimationScene()\n```\n`view.ViewTime` ä¿®æ”¹æ—¶ `scene.AnimationTime` ä¸å˜\n`scene.AnimationTime` ä¿®æ”¹æ—¶ `view.ViewTime` ä¹ŸåŒæ—¶è¢«æ”¹å˜\n\næ³¨æ„: filter å¿…é¡»æ˜¯æ˜¾ç¤ºçŠ¶æ€ (`Show(<filter>)`) æ‰èƒ½ä¿®æ”¹æ—¶é—´\n\n```python\n# e.g.\n!code -n examples/stat1.py\n```\n\n* å­—ä½“é€‰æ‹©å‚è€ƒè·¯å¾„:<br>\n  - /usr/share/fonts/truetype/dejavu/DejaVuSans.ttf\n  - /home/<user>/miniconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf\n\n\n* python è°ƒç”¨é—®é¢˜ (paraview 5.5.0+ æ²¡æœ‰è¿™ä¸ªé—®é¢˜):\n\nparaview æŸä¸ªç‰ˆæœ¬ä¹‹åŽå°±é»˜è®¤ä½¿ç”¨ python 2.7.11+.<br>\nè¿è¡Œä¹‹å‰å…ˆä¿®æ”¹çŽ¯å¢ƒå˜é‡ ( `PYTHONPATH` å’Œ `PYTHONSTARTUP`), <br>\nè¿è¡Œç»“æŸç»“æŸåŽæ¢å¤è¿™ä¸¤ä¸ªå˜é‡å³å¯.<br><br>\nè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ä½¿ç”¨è„šæœ¬ (è€Œä¸ç”¨alias):\n```sh\n#!/bin/bash\nunset PYTHONSTARTUP  # å¦‚æžœæœ‰çš„è¯\nexport PYTHONPATH=/<your_path>/ParaView/lib/python2.7/site-packages\n/<your_path>/ParaView/bin/paraview $@\n```\nç”¨è¿™ä¸ªè„šæœ¬æ›¿ä»£åŽŸæœ‰ `paraview`, `pvpython` å’Œ `pvbatch` å‘½ä»¤.\n\n### Python 2 -> 3 çš„è½¬æ¢\n\næ¯”è¾ƒæŽ¨èçš„å®‰å…¨çš„æ£€æŸ¥æ–¹å¼:\n\n* å¤‡ä»½çš„åŽŸæ–‡ä»¶ä¸”è‡ªåŠ¨ç”Ÿæˆè½¬æ¢è¿‡çš„æ–‡ä»¶\n```\n$ 2to3 -w filename\n```\n\n* æ‰‹åŠ¨æ¯”è¾ƒ, åœ¨éœ€è¦çš„åœ°æ–¹å¯¹ç…§ä¿®æ”¹ filename.bak<br>\nä¸»è¦æŸ¥çœ‹ print, range, map ç­‰å‡½æ•°.<br>\næ·»åŠ <br>\n&emsp;`from __future__ import division, print_function`<br>\nåœ¨å…¶ä»– import å‰.\n```\n$ sudo apt-get install meld\n$ meld filename filename.bak\n```\n* ç¡®è®¤æ— è¯¯åŽ, å°†æ‰‹åŠ¨ä¿®æ”¹çš„æ–‡ä»¶å¤åˆ¶å›žåŽ»\n```\n$ mv -v filename.bak filename\n```\n\npython å†…æŸ¥çœ‹ç‰ˆæœ¬çš„æ–¹æ³•, å¯ç”¨äºŽ `if` è¯­å¥ç­‰ (æ›´æŽ¨èç”¨ `try...except...` è¯­æ³•):\n\n```python\nimport sys\nprint(sys.version_info >= (3, 0))\nprint(sys.version_info.major >= 3)\n```\n\n### æ‰§è¡Œ shell å‘½ä»¤\n\n<https://docs.python.org/3/library/subprocess.html>\n\n```python\nimport subprocess\n\nfname = 'installpy.ipynb'\n\n# é»˜è®¤æ˜¯ä»¥åˆ—è¡¨å½¢å¼ä¼ é€’å‚æ•°\nsubprocess.run([\"ls\", \"-l\", fname]) # doesn't capture output\n\n# è¾“å‡ºç»“æžœéœ€è¦ `decode('ascii')` è½¬ç \nprint(subprocess.run([\"ls\", \"-l\", fname], stdout=subprocess.PIPE)\n                    .stdout.decode('ascii'))\nprint(subprocess.check_output([\"ls\", \"-l\", fname]).decode('ascii'))\n```\n\n    -rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n    \n    -rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n    \n\n\nåˆ©ç”¨ bash çš„ç‰¹é•¿æ¥åšä¸€äº›å­—ç¬¦ä¸²æ“ä½œ:\n\n```python\n# ä½¿ç”¨æ•´è¡Œå‘½ä»¤éœ€è¦ `shell=True`, è™½ç„¶å¹¶ä¸æ˜¯æŽ¨èçš„åšæ³•, ä½†å¶å°”ä½¿ç”¨æ— å¦¨ (è§å®˜æ–¹æ–‡æ¡£)\n# `r`ç”¨æ¥å–æ¶ˆè½¬ä¹‰\n# `echo`ä½¿ç”¨`-n`æ¥åŽ»æŽ‰è¾“å‡ºçš„ '\\n'\nfname_head = subprocess.check_output(r\"echo -n %s | sed 's/\\.ipynb//'\"\n                                     % fname, shell=True).decode('ascii')\n# æˆ–ä½¿ç”¨ strip åŽ»æŽ‰ '\\n'\nfname_head = subprocess.check_output(r\"echo %s | sed 's/\\.ipynb//'\"\n             % fname, shell=True).strip().decode('ascii')  \nprint(fname_head)\n```\n\n    installpy\n\n\nå­—ç¬¦ä¸²ç¼–ç è§ [å»–é›ªå³°çš„ç½‘ç«™](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000)\n\n* å¾—åˆ°å‘½ä»¤æ‰§è¡Œçš„è·¯å¾„\n\n```python\nimport os\nos.getcwd()\n```\n\n\n\n\n    '/home/lydia/codes/zly/python/python-intro'\n\n\n\n* å¾—åˆ°è„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„(ä»…è„šæœ¬ä¸­ä½¿ç”¨)\n\n```python\nos.path.split(os.path.abspath(__file__))[0]\n```\næˆ–\n```python\nos.path.dirname(os.path.abspath(__file__))\n```\n\nå…¶ä¸­ `os.path.split` å’Œ `os.path.dirname` çš„ç”¨æ³•:\n\n```python\nos.path.split('your/path/filename')\n```\n\n\n\n\n    ('your/path', 'filename')\n\n\n\n```python\nos.path.dirname('your/path/filename')\n```\n\n\n\n\n    'your/path'\n\n\n\n`os.path.dirname` ç±»ä¼¼äºŽ bash çš„ `dirname`\n\n```python\n!dirname 'your/path/filename'\n```\n\n    your/path\n\n\n### è„šæœ¬é€‰é¡¹\n\næŽ¨è `argparse`, åœ¨è¿‡åŽ»çš„å…¶ä»–æ–¹æ³•çš„åŸºç¡€ä¸Šæœ‰æ‰€å¢žå¼º <https://docs.python.org/3/library/argparse.html>\n\nè„šæœ¬å†…:\n```python\nimport argparse\nparser = argparse.ArgumentParser(description='Process some integers.')\nparser.add_argument('integers', metavar='N', type=int, nargs='+',\n                    help='an integer for the accumulator')\nparser.add_argument('--sum', dest='accumulate', action='store_const',\n                    const=sum, default=max,\n                    help='sum the integers (default: find the max)')\nargs = parser.parse_args()\nprint(args.accumulate(args.integers))\n```\nShell:\n```\n$ python prog.py -h\nusage: prog.py [-h] [--sum] N [N ...]\nProcess some integers.\npositional arguments:\n N           an integer for the accumulator\noptional arguments:\n -h, --help  show this help message and exit\n --sum       sum the integers (default: find the max)\n```\n\n### å¤„ç† warnings\n\n```python\n# Suppress warnings of NaNs:\nwith np.errstate(invalid='ignore'):\n    ...\n    ...\n# Suppress other warnings, e.g.\nimport warnings\nwith warnings.catch_warnings():\n    warnings.simplefilter(\"ignore\")\n    ...\n    ...\n# Or\nwarnings.simplefilter(\"ignore\", category=xxx)  # UserWarning, FutureWarning, etc.\n...\n...\n```\n\n## urllib, requests\n\nç¤ºä¾‹å’Œæ–‡ä»¶æ¥è‡ª <http://python4astronomers.github.com>\n\næ³¨æ„ python3 ä¸å†ä½¿ç”¨ `urllib2`\n\n```python\n# æ–¹æ³•1\nimport urllib\nurl = 'http://python4astronomers.github.com/_downloads/myidlfile.sav'\nurllib.request.urlretrieve(url, 'myidlfile.sav')\n# æ–¹æ³•2\nwith open('myidlfile.sav', 'wb') as f:\n    f.write(urllib.request.urlopen(url).read())\n# æ–¹æ³•3\nimport requests\nwith open('myidlfile.sav', 'wb') as f:\n    f.write(requests.get(url).content)\n# åˆ†å—ä¸‹è½½\nimport requests\nr = requests.get(<url>)\nwith open(filename, 'wb') as f:\n    for chunk in r.iter_content(chunk_size=128):\n        f.write(chunk)\n```\n","slug":"advance","published":1,"updated":"2018-07-02T13:46:13.000Z","__permalink":"advance.html","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegavj0001vxgv4b6o07o3","content":"<p><a\nhref=\"/downloads/notebooks/python-intro.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<h2 id=\"anaconda\">Anaconda</h2>\n<blockquote>\n<p>A <strong>conda package</strong> is a compressed tarball file that\ncontains system-level libraries, Python or other modules, executable\nprograms and other components. <strong>Conda</strong> keeps track of the\ndependencies between packages and platforms.<br>\n(https://conda.io/docs/user-guide/concepts.html)</p>\n</blockquote>\n<ul>\n<li>å‡¡ä½¿ç”¨ <span style=\"color:blue\">pip install</span>\nå®‰è£…çš„åŒ…å‡ä¸ºç¼–è¯‘å®‰è£…, <span style=\"color:blue\">conda install</span>\nå®‰è£…çš„åˆ™ä¸ºç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ….</li>\n<li>conda åŒ…å¯ä»¥æ‰“åŒ…å…¶ä»–è¯­è¨€, pip åŒ…å®¹æ˜“å‡ºçŽ°ç³»ç»Ÿä¾èµ–é—®é¢˜</li>\n<li>conda åŒ…çš„ä¾èµ–ç®¡ç†æ›´å®Œå–„</li>\n<li>conda çŽ¯å¢ƒä¸‹ä»å¯ä½¿ç”¨ pip è¿›è¡Œå®‰è£…, ä½†æ‰€ä½¿ç”¨çš„ pip å‘½ä»¤å’Œç³»ç»Ÿä¸­çš„ pip\näº’ä¸å½±å“, å®‰è£…çš„åŒ…çš„ä½ç½®ä¹Ÿåœ¨ conda æœ¬èº«çš„ç›®å½•ä¸‹.</li>\n<li>æ¯ä¸ªçŽ¯å¢ƒäº’ä¸å½±å“, å„çŽ¯å¢ƒä¸‹çš„åŒ…è™½ç„¶å¿…é¡»åˆ†åˆ«å®‰è£… (ä¹Ÿå¯ä»¥ clone\nä¸€ä¸ªçŽ°æœ‰çŽ¯å¢ƒ),<br> ä½†å¦‚æžœæœ‰ä¸åŒçŽ¯å¢ƒä¸­æœ‰é‡å¤çš„åŒ… conda å°†é»˜è®¤ä½¿ç”¨\n<em>hard link</em>.</li>\n</ul>\n<p>(æ›´å¤šè®¨è®ºå‚è€ƒ <a\nhref=\"http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)\"\nclass=\"uri\">http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)</a>\n<span id=\"more\"></span></p>\n<p><img src='/advance/Screenshot_20180617-181206.png' width='650'/></p>\n<ul>\n<li>python ä½ç½® (æœªä½¿ç”¨ conda æ—¶)</li>\n</ul>\n<p>ä½¿ç”¨ <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ python -m site<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> å¯ä»¥çœ‹åˆ°æœ‰å“ªäº›ç›®å½•.</p>\n<p>ä¸‰ä¸ªéƒ¨åˆ†:</p>\n<ul>\n<li><strong>root</strong>\n<pre>\n/<span style=\"color:#800080\"><b>usr</b></span>/lib/...\n/<span style=\"color:#800080\"><b>usr</b></span>/bin/...\n</pre></li>\n<li><strong>user</strong>\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/lib/...\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/bin/...\n</pre></li>\n<li><strong>anaconda/miniconda</strong>\n<pre>\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/lib/...\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/bin/...\n</pre></li>\n<li>conda ç›®å½•ç»“æž„ (å®‰è£…ä¹‹åŽè‡ªåŠ¨ä¿®æ”¹äº†è½¯è¿žæŽ¥,\nä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽç³»ç»Ÿä¼˜å…ˆä½¿ç”¨è¿™ä¸ªä½ç½®)</li>\n</ul>\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>miniconda3/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>pkgs/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python3</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">jupyter</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">h5dump</span>\n    â”‚        â””â”€â”€ ...\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>envs</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env1/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”‚        â”‚        â””â”€â”€ ...\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env2/</b></span>\n    â”‚        â””â”€â”€ ...\n    â””â”€â”€ ...\n</pre>\n<h2 id=\"ipython-jupyter\">IPython &amp; Jupyter</h2>\n<p>å‚è€ƒæ–‡æ¡£ <a href=\"http://jupyter-notebook.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyter-notebook.readthedocs.io/en/stable/</a></p>\n<ul>\n<li>é…ç½®æ–‡ä»¶è·¯å¾„</li>\n</ul>\n<p>ä¸€èˆ¬ç”¨æˆ·é…ç½®æ–‡ä»¶åœ¨ <code>~/.jupyter</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!jupyter <span class=\"token operator\">-</span><span class=\"token operator\">-</span>paths<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>config:\n    /home/lydia/.jupyter\n    /home/lydia/miniconda3/etc/jupyter\n    /usr/local/etc/jupyter\n    /etc/jupyter\ndata:\n    /home/lydia/.local/share/jupyter\n    /home/lydia/miniconda3/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n    /run/user/1000/jupyter</code></pre>\n<ul>\n<li>åˆ—å‡ºæ‰€æœ‰ magic functions:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>lsmagic<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>è¿è¡Œè„šæœ¬:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run script<span class=\"token punctuation\">.</span>py\n<span class=\"token operator\">%</span>run script<span class=\"token punctuation\">.</span>ipynb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>åœ¨å•ä¸ª Cell ä¸­è°ƒç”¨å…¶ä»–è¯­è¨€ (å­è¿›ç¨‹):</li>\n</ul>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">%%sh\ncd ~&#x2F;miniconda3&#x2F;\npwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3</code></pre>\n<p>å¯ä»¥çœ‹åˆ°å®žé™…å¹¶æœªæ”¹å˜å½“å‰ç›®å½• (å› ä¸ºæ˜¯å­è¿›ç¨‹):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/codes/zly/python/python-intro&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>script idl\ncd<span class=\"token punctuation\">,</span> current<span class=\"token operator\">=</span>d\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">,</span> d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro\n\n\nIDL Version 8.2.1 (linux x86_64 m64). (c) 2012, Exelis Visual Information Solutions, Inc.</code></pre>\n<ul>\n<li>é€è¡Œä½¿ç”¨ bash å‘½ä»¤ (æ³¨æ„ä¸åŠ  '!' çš„åŒºåˆ«):</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!idl <span class=\"token operator\">-</span>e field3dgui<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!ls <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¾—åˆ°çš„ç»“æžœå¯ä»¥å­˜å…¥å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">current<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span> !pwd  <span class=\"token comment\"># returns a list</span>\ncurrent<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/python-intro&#39;</code></pre>\n<p>ä¸‹é¢è¿™ä¸¤å¥ä¸èƒ½å†™åœ¨ä¸€ä¸ª Cell ä¸­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token operator\">-</span>q <span class=\"token operator\">~</span><span class=\"token operator\">/</span>miniconda3<span class=\"token operator\">/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/miniconda3&#39;</code></pre>\n<p>ç”¨ <code>&#123;var&#125;</code> (æŽ¨è) æˆ– <code>$var</code> (ä¸æŽ¨è) è°ƒç”¨å½“å‰\nipython çŽ¯å¢ƒçš„å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token punctuation\">&#123;</span>current<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token string\">\"$current\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd $current<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<p>è§ <a\nhref=\"http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/\"\nclass=\"uri\">http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/</a></p>\n<ul>\n<li>åˆ—å‡ºå½“å‰çš„å˜é‡ä¿¡æ¯</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span>\n\n<span class=\"token operator\">%</span>whos <span class=\"token builtin\">int</span> <span class=\"token builtin\">str</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>Variable   Type    Data/Info\n----------------------------\na          int     1\nb          str     x</code></pre>\n<h2 id=\"è¯­æ³•ç»†èŠ‚\">è¯­æ³•ç»†èŠ‚</h2>\n<h3 id=\"python2-python3\">python2 &amp; python3</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python2\n<span class=\"token keyword\">print</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">print</span> <span class=\"token number\">1</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>0\n0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python3\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>0.5\n0</code></pre>\n<p>è¯¦è§ <a href=\"#Python-2--%3E-3-çš„è½¬æ¢\">Python 2 -&gt; 3\nçš„è½¬æ¢</a></p>\n<h3 id=\"list-tuple\">list, tuple</h3>\n<ul>\n<li>å¯¹ list æˆ– tuple, å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶, æ³¨æ„åŠ é€—å·:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>list</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>list</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>int</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>tuple</code></pre>\n<ul>\n<li>èµ‹å€¼, æ˜Ÿå· (<code>*</code>) è¡¨è¾¾å¼ç”¨æ¥å±•å¼€ list/tuple, åŒæ˜Ÿå·\n(<code>**</code>) ç”¨æ¥å±•å¼€ dict (å¸¸ç”¨äºŽå‡½æ•°å‚æ•°è¡¨):</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>c <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\na<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>(0, 1, [2, 3])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>_ <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># æˆ– a, = ...</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<h3 id=\"dict\">dict</h3>\n<ul>\n<li>dict æ”¹å˜æŸä¸ª key ä½† value ä¸å˜çš„æ–¹æ³•</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\nd<span class=\"token punctuation\">[</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ©ç”¨ `pop` è¿”å›žå€¼, æ›´æ”¹ key å€¼</span>\nd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: 1, &#39;c&#39;: 2&#125;</code></pre>\n<ul>\n<li>dict æ±‚å¹¶é›†</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\nd2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>d2<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é‡å¤çš„ key å–åŽä¸€ä¸ªçš„å€¼</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„å…¶ä¸­çš„ list</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d1<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\nd1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<h3 id=\"set\">set</h3>\n<ul>\n<li>set åŸºæœ¬æ“ä½œ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># one element only</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># iterable: list/tuple/set/...</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3, 4, 5&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;2, 3, 4, 5&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>discard<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># No error if not exist</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;2, 3, 4, 5&#125;</code></pre>\n<ul>\n<li>set æ±‚äº¤é›†, å¹¶é›†, å·®é›†, å¯¹ç§°å·®é›†, å­é›†</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>intersection<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;2&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># æˆ–ç”¨ and</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;2&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>union<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># æˆ–ç”¨ or</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>difference<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># åœ¨å‰ä¸åœ¨åŽ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>symmetric_difference<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># ä¸åŒæ—¶åœ¨ä¸¤è¾¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 3&#125;</code></pre>\n<ul>\n<li>å±žäºŽ, åŒ…å«äºŽ(å­é›†)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">2</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># list/tuple/set</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">4</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># list/tuple/set</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>issubset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">&lt;=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>issuperset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">>=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<h3 id=\"ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º\">ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º</h3>\n<p>æ’ä»¶ <a href=\"https://github.com/lgpage/nbtutor\"\nclass=\"uri\">https://github.com/lgpage/nbtutor</a><br> ç½‘é¡µç‰ˆ <a\nhref=\"http://pythontutor.com/\"\nclass=\"uri\">http://pythontutor.com/</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>reload_ext nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f\nl1<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nl2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><a href=\"http://t.cn/Rg9J3bf\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor1.png' width='550'/></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\na <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\nt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># list in tuple</span>\na <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span> <span class=\"token comment\"># change element in list</span>\nt<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'xx'</span> <span class=\"token comment\"># change element in tuple</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(1, 2, [&#39;xx&#39;, 4])</code></pre>\n<p><a href=\"http://t.cn/Rg9idUn\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor2.png' width='550'/></p>\n<h3 id=\"åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯\">åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> l <span class=\"token keyword\">if</span> i <span class=\"token operator\">></span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[3, 4, 5]</code></pre>\n<p>ä¾‹å¦‚ç”¨ <code>globals()</code> æ¥å¾—åˆ°å­—ç¬¦ä¸²å½¢å¼çš„å˜é‡å (python\nçš„å˜é‡æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½çš„å…³é”®å­—, å› ä¸º\"å˜é‡å\"å­˜å‚¨åœ¨namespacesä¸­)</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">namestr</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> namespace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>name <span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> namespace <span class=\"token keyword\">if</span> namespace<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> obj<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">for</span> var <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>namestr<span class=\"token punctuation\">(</span>var<span class=\"token punctuation\">,</span> <span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>var<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>a = 1\nb = 2</code></pre>\n<h3 id=\"å•è¡Œ-if-ä¸‰å…ƒå…³ç³»è¿ç®—\">å•è¡Œ if (ä¸‰å…ƒå…³ç³»è¿ç®—)</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token string\">'y'</span> <span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token keyword\">else</span> <span class=\"token string\">'n'</span>\nb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>&#39;y&#39;</code></pre>\n<h3 id=\"å¾ªçŽ¯-è¿­ä»£å™¨-ç”Ÿæˆå™¨\">å¾ªçŽ¯, è¿­ä»£å™¨, ç”Ÿæˆå™¨</h3>\n<p>Python çš„ for å¾ªçŽ¯ä¸ä½¿ç”¨ç´¢å¼•å˜é‡, è€Œä½¿ç”¨éåŽ†<strong>è¿­ä»£å™¨</strong>\n(iterator) çš„æ–¹å¼å¤„ç†<strong>å¯è¿­ä»£å¯¹è±¡</strong> (range, set ç­‰):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>éåŽ†çš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>iter</code> å’Œ <code>next</code> å‡½æ•°:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç”Ÿæˆä¸€ä¸ª range_iterator å¯¹è±¡</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è½¬æ¢ä¸º list</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[0, 1, 2, 3, 4]</code></pre>\n<p><code>enumerate</code> å‡½æ•°é€‚åˆéœ€è¦åŒæ—¶ä½¿ç”¨ç´¢å¼•å’Œå†…å®¹æ—¶ä½¿ç”¨:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> item <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># enumerate()æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</span>\n    i <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    item <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token comment\"># l[i] = ...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ç”Ÿæˆå™¨:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>i<span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># äº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨, å¯è½¬åŒ–æˆ list, tuple</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&lt;generator object &lt;genexpr&gt; at 0x14da87e652b0&gt;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç”Ÿæˆå™¨ä¹Ÿæ˜¯è¿­ä»£å™¨</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>4</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># äº§ç”Ÿä¸€ä¸ª list</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[0, 1, 2]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># è½¬åŒ–æˆ tuple</span>\n<span class=\"token builtin\">tuple</span><span class=\"token punctuation\">(</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>(0, 1, 2)</code></pre>\n<h3 id=\"å‡½æ•°å®šä¹‰\">å‡½æ•°å®šä¹‰</h3>\n<ul>\n<li>ä¸€èˆ¬çš„å‡½æ•°å®šä¹‰:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># func1(x, y, arg1, arg2, ..., key1=val1, key2=val2, ...)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\"># æ²¡æœ‰ return æˆ–ä¸ºç©º åˆ™è¿”å›ž None</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>å•è¡Œå‡½æ•° lambda</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<p>ç”¨ <code>lambda</code> è¯­æ³•æ¥å®šä¹‰:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¸ä¸€å®šéœ€è¦å®šä¹‰å‡½æ•°åç§°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<h3 id=\"å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ\">å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ</h3>\n<p><a\nhref=\"https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html\"\nclass=\"uri\">https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html</a></p>\n<p><img src='/advance/scope_resolution_1.png' width='400' /></p>\n<ul>\n<li>Built-in Functions <a\nhref=\"https://docs.python.org/3/library/functions.html\"\nclass=\"uri\">https://docs.python.org/3/library/functions.html</a></li>\n<li>Built-in Constants <a\nhref=\"https://docs.python.org/3/library/constants.html\"\nclass=\"uri\">https://docs.python.org/3/library/constants.html</a></li>\n</ul>\n<p><code>globals()</code> ä»¥ dict å½¢å¼è¿”å›žå½“å‰æ‰€æœ‰å…¨å±€å˜é‡,\nåŒ…æ‹¬å¯¼å…¥çš„åŒ…å, ipython/jupyter çš„ <code>In</code>, <code>Out</code>\nç­‰.<br> python ä»¥ name -&gt; obj çš„å½¢å¼å­˜å‚¨è¿™äº›å˜é‡.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    i <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">'local'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\nf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">'global'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>2 local\n1 global</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span>\ni  <span class=\"token comment\"># å€¼è¢«æ”¹å˜äº† (â€œleakingâ€)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\ni  <span class=\"token comment\"># ç”¨è¿™ç§æ–¹å¼å°±ä¸ä¼šå‘ç”Ÿâ€œleakingâ€</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<p>æœ‰å…³å‡½æ•°ä¸­çš„å˜é‡ä½œç”¨æ–¹å¼ç»†èŠ‚, å‚è€ƒè¿™é‡Œæåˆ°çš„ä¾‹å­: <a\nhref=\"https://stackoverflow.com/a/575887\">stackoverflow</a></p>\n<blockquote>\n<ul>\n<li><p>Any time you see <font color=blue><strong>varname\n=</strong></font>, you're <strong>creating a new name</strong> binding\nwithin the function's scope.<br>Whatever value <code>varname</code> was\nbound to before is lost within this scope.</p></li>\n<li><p>Any time you see\n<font color=blue><strong>varname.foo()</strong></font>, you're\n<strong>calling a method</strong> on <code>varname</code>. The method\nmay alter <code>varname</code> (e.g. <code>list.append</code>). <br>\n<code>varname</code> (or, rather, the object that <code>varname</code>\nnames) may exist in more than one scope, and since it's the same object,\n<br><strong>any changes will be visible in all scopes</strong>.</p></li>\n</ul>\n</blockquote>\n<h2 id=\"numpy\">NumPy</h2>\n<h3 id=\"numpy-çš„æ•°æ®ç±»åž‹-dtype\">numpy çš„æ•°æ®ç±»åž‹ dtype</h3>\n<p><a href=\"https://www.tutorialspoint.com/numpy/numpy_data_types.htm\"\nclass=\"uri\">https://www.tutorialspoint.com/numpy/numpy_data_types.htm</a>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'i8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'int'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'int64'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'>i8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">False</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'f8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'float64'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> è§ <a\nhref=\"#Fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</a> ä¸­çš„åº”ç”¨.</p>\n<h3 id=\"np.arange-å‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚\">np.arange\nå‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ä¸åŒ…å« `stop` è¿™ä¸ªç‚¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.3, 0.6, 0.9, 1.2, 1.5])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è¿™é‡Œå´åŒ…æ‹¬äº†, ä¸ºä»€ä¹ˆ?</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.3, 0.6, 0.9, 1.2, 1.5, 1.8, 2.1])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'%.16f'</span> <span class=\"token operator\">%</span> <span class=\"token number\">2.1</span>  <span class=\"token comment\"># å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æ–¹å¼äº§ç”Ÿçš„ç²¾åº¦é—®é¢˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;2.1000000000000001&#39;</code></pre>\n<p>çœ‹ä¸€ä¸ªæ±‚å’Œçš„ä¾‹å­ä¸­åŒæ ·çš„é—®é¢˜ (ç”¨ <code>list</code> å’Œ\n<code>numpy.ndarray</code> æ•ˆæžœä¸€æ ·):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># sum([0.1, ..., 0.1])</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å› ä¸ºåŒæ ·é—®é¢˜, ç´¯ç§¯äº†è¯¯å·®</span>\n\n<span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>0.10000000000000001\n0.99999999999999989\n1.00000000000000000</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>False</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1.0</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<p>å‚è€ƒ <a href=\"https://docs.python.org/3/tutorial/floatingpoint.html\"\nclass=\"uri\">https://docs.python.org/3/tutorial/floatingpoint.html</a></p>\n<p>å»ºè®®æ˜¯: ä½¿ç”¨æ•´æ•°; å¯¹æµ®ç‚¹æ•°çš„æƒ…å†µ, stop å€¼è®¾å¾—ç•¥å°ä¸€äº›\n(æ¯”å¦‚å‡åŽ»æ­¥é•¿çš„ä¸€èˆ¬) ä»¥é˜²æ­¢æ”¹ç‚¹è¢«åŒ…å«, æˆ–ä½¿ç”¨ <code>np.linspace</code>\nä»£æ›¿.</p>\n<h3 id=\"çŸ©é˜µ\">çŸ©é˜µ</h3>\n<p><code>np.matrix</code>(çŸ©é˜µ) æ˜¯ <code>np.ndarray</code>(æ•°ç»„)\nçš„ä¸€ä¸ªå­ç±», ç»§æ‰¿äº†çˆ¶çº§çš„æ–¹æ³•, ä¹Ÿå®šä¹‰äº†æ–°çš„æ–¹æ³• (ä¾‹å¦‚çŸ©é˜µè¿ç®—).</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">issubclass</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>ndarray<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[0, 1, 2],\n        [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span><span class=\"token string\">\"0 1 2; 3 4 5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[0, 1, 2],\n        [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>numpy.matrixlib.defmatrix.matrix</code></pre>\n<p><code>np.asmatrix</code> (æˆ–ç®€å†™ä½œ <code>np.mat</code>) ç›¸å½“äºŽ\n<code>np.matrix(data, copy=False)</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nm <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\nx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[1, 2],\n       [3, 4]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nm <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\nx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[5, 2],\n       [3, 4]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> m<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<p>æ³¨æ„: <code>np.matrix</code> æ—¢æ˜¯ä¸€ä¸ªç±»åä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å, è€Œ\n<code>np.mat</code>, <code>np.asmatrix</code> åªæ˜¯å‡½æ•°å.</p>\n<h3 id=\"æ•°ç»„å’ŒçŸ©é˜µè¿ç®—\">æ•°ç»„å’ŒçŸ©é˜µè¿ç®—</h3>\n<h4 id=\"æ•°ç»„è¿ç®—\">æ•°ç»„è¿ç®—</h4>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>11</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">*</span> a  <span class=\"token comment\"># æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[  0,   1,   4,   9],\n       [ 16,  25,  36,  49],\n       [ 64,  81, 100, 121]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">**</span> <span class=\"token number\">2</span>  <span class=\"token comment\"># æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[  0,   1,   4,   9],\n       [ 16,  25,  36,  49],\n       [ 64,  81, 100, 121]])</code></pre>\n<h4 id=\"ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—\">ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—</h4>\n<p><code>scipy.linalg</code> ä¸Ž <code>numpy.linalg</code> çš„æ¯”è¾ƒ: <a\nhref=\"https://scipy.github.io/devdocs/tutorial/linalg.html\"\nclass=\"uri\">https://scipy.github.io/devdocs/tutorial/linalg.html</a>\n&gt;* <code>scipy.linalg</code> contains <strong>all</strong> the\nfunctions in <code>numpy.linalg</code> plus some other more\n<strong>advanced</strong> ones not contained in\n<code>numpy.linalg</code> * Despite its convenience, the use of the\n<code>numpy.matrix</code> class is <strong>discouraged</strong>. *\n<code>scipy.linalg</code> operations can be applied\n<strong>equally</strong> to <code>numpy.matrix</code> or to 2D\n<code>numpy.ndarray</code> objects.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>diagflat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[1., 0., 0.],\n       [0., 2., 0.],\n       [0., 0., 3.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[-1., -1., -1.],\n       [ 0.,  0.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>linalg <span class=\"token keyword\">import</span> inv\ninv<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ±‚é€†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>array([[ 1.        ,  0.        , -0.        ],\n       [ 0.        ,  0.5       , -0.        ],\n       [ 0.        ,  0.        ,  0.33333333]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>dot<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[-1.,  0.],\n       [-2.,  0.],\n       [-3.,  0.]])</code></pre>\n<h4 id=\"ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—\">ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—</h4>\n<p>ä½¿ç”¨ numpy çš„çŸ©é˜µç±»åž‹ <code>numpy.matrix</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>diagflat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[1., 0., 0.],\n        [0., 2., 0.],\n        [0., 0., 3.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1., -1., -1.],\n        [ 0.,  0.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">*</span> b<span class=\"token punctuation\">.</span>T  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯, æ³¨æ„ä¸Žæ•°ç»„çš„è¿ç®—ç¬¦å®šä¹‰ä¸åŒ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1.,  0.],\n        [-2.,  0.],\n        [-3.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a @ b<span class=\"token punctuation\">.</span>T  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯çš„æ–°å†™æ³•, python 3.5+</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1.,  0.],\n        [-2.,  0.],\n        [-3.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>I  <span class=\"token comment\"># æ±‚é€†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[ 1.        ,  0.        , -0.        ],\n        [ 0.        ,  0.5       , -0.        ],\n        [ 0.        ,  0.        ,  0.33333333]])</code></pre>\n<h3 id=\"ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼\">ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼</h3>\n<ul>\n<li><strong><code>np.meshgrid</code></strong></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> x\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> y\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># X, Y å½¢çŠ¶ç›¸åŒ: N x M çŸ©é˜µ, shape=(N, M)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X                         <span class=\"token comment\"># X[j, :] è¡¨ç¤ºåŒä¸€å±‚ y[j] å¯¹åº”çš„ä¸åŒ x å€¼</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  0_____x</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  |</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  |y</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> Y\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\"># Y[:, i] è¡¨ç¤ºåŒä¸€å±‚ x[i] å¯¹åº”çš„ä¸åŒ y å€¼</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">6.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å¯ç”¨æ¥è®¡ç®—åæ ‡çš„å‡½æ•° (ä¾‹å¦‚ç£åœºçš„è¡¨è¾¾å¼ç­‰ç­‰, è§ <a\nhref=\"examples/streamplot.py\">examples/streamplot.py</a> )\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">U <span class=\"token operator\">=</span>   <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>k1 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k1 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span>\n     <span class=\"token operator\">-</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>k2 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k2 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nV <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>k1 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k1 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span>\n     <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>k2 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k2 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\ny <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nX<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> indexing<span class=\"token operator\">=</span><span class=\"token string\">'ij'</span><span class=\"token punctuation\">)</span>\nY<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>(3, 4)</code></pre>\n<ul>\n<li><strong><code>np.mgrid</code></strong></li>\n</ul>\n<p><code>j</code> æ ‡è®°é»˜è®¤æ˜¯è™šæ•°å•ä½,\nä½†åœ¨è¿™é‡Œè¡¨ç¤ºå‰é¢çš„æ•°å­—æ˜¯æ ¼ç‚¹æ•°.<br> æ ¼ç‚¹æ•°ä½¿ç”¨å˜é‡\n<em><code>n</code></em> æ—¶, å¯å†™æˆ:\n<em><code>n</code></em><code>*1j + 1j</code>, 1ä¸èƒ½çœ\n(å¦åˆ™jå®šä¹‰ä¸ºå˜é‡)<br> ç±»ä¼¼çš„ <code>np.ogrid</code> å¯å‚è§ numpy\nç›¸å…³æ–‡æ¡£</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ä¸‹é¢ä¸‰è¡Œç­‰ä»·</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mgrid<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">3j</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">:</span><span class=\"token number\">4j</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> np<span class=\"token punctuation\">.</span>mgrid<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> indexing<span class=\"token operator\">=</span><span class=\"token string\">'ij'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># np.mgrid[0:2:3j, 3:6:4j] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'float64'</span>\n<span class=\"token comment\"># np.mgrid[0:3, 3:6] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'int64'</span>\n<span class=\"token comment\"># np.meshgrid(x, y, indexing='ij') å¾—åˆ°ä¸€ä¸ª list, æ•°æ®æ ¼å¼åŒx, y</span>\n\n<span class=\"token comment\"># X, Y å½¢çŠ¶ç›¸åŒ: M x N çŸ©é˜µ, shape=(M, N)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X                      <span class=\"token comment\"># X[i, :] è¡¨ç¤º x[i]</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">#  0_____y</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">#  |</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">#  |x</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> Y                      <span class=\"token comment\"># Y[:, j] è¡¨ç¤º y[j]</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"mask\">mask</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">></span> <span class=\"token number\">4</span>  <span class=\"token comment\"># mask</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[False, False, False],\n       [False, False,  True],\n       [ True,  True,  True]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¾—åˆ° tuple(col_indexs, row_indexs)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(array([1, 2, 2, 2]), array([2, 0, 1, 2]))</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>np<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¹Ÿå¯ä»¥ç”¨ np.array(np.where(a > 4)).T</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[(1, 2), (2, 0), (2, 1), (2, 2)]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> a  <span class=\"token comment\"># same as a[np.where(a > 4)]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2],\n       [ 3,  4, -1],\n       [-1, -1, -1]])</code></pre>\n<h3 id=\"å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†\">å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†</h3>\n<p>å¤„ç†å«æœ‰ NaN çš„æ•°æ®:</p>\n<p>e.g. æ±‚æœ€å€¼å¯ä½¿ç”¨ <code>np.nanmin(...)</code> å’Œ\n<code>np.nanmax(...)</code></p>\n<h2 id=\"matplotlib\">Matplotlib</h2>\n<ul>\n<li>å®˜æ–¹æ•™ç¨‹ <a\nhref=\"https://matplotlib.org/tutorials/introductory/usage.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/introductory/usage.html</a></li>\n</ul>\n<p><img src='/advance/anatomy.png' width='600' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gcf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># current figure</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># current `Axes`</span>\nim <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gci<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># current artist(å›¾åƒå†…å®¹), å¯ç”±è¯¸å¦‚ plt.imshow(...) å¾—åˆ°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><p>å¾—åˆ°å½“å‰ backend: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>get_backend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> æˆ– <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> maplotlib <span class=\"token keyword\">as</span> mpl\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> mpl<span class=\"token punctuation\">.</span>get_backend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>é€‰æ‹© backend (åœ¨å¯¼å…¥å…¶ä»– matplotlib æ¨¡å—ä¹‹å‰):\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> matplotlib\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> matplotlib<span class=\"token punctuation\">.</span>use<span class=\"token punctuation\">(</span><span class=\"token string\">'TkAgg'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'Qt5Agg', 'TkAgg', 'Agg', ...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>ç”¨æˆ·é…ç½®æ–‡æ¡£ <code>matplotlibrc</code><br> é€šå¸¸çš„ä½ç½®:\n<code>~/.config/matplotlib/matplotlibrc</code> (Linux)</p></li>\n<li><p>ç”¨ <code>zorder</code> æ¥æŽ§åˆ¶å›¾å±‚:</p></li>\n</ul>\n<p>è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå±•ç¤ºäº†åŠ å…¥ä¸€ä¸ªåŠ¨æ€çš„ç«–çº¿çš„æ–¹æ³•,\nè¿™æ¡çº¿åœ¨ä¿å­˜åŽçš„å›¾åƒä¸­ä¸ä¼šæ˜¾ç¤º.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_plot.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ä½¿ç”¨ <a\nhref=\"https://github.com/joferkington/mpldatacursor\">è¿™ä¸ªå·¥å…·</a>\nåŠ¨æ€æ ‡æ³¨å…‰æ ‡ä½ç½®çš„å€¼:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_imshow.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ç‚¹å‡»å›¾åƒåŽåœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºå…‰æ ‡å¤„ä¿¡æ¯çš„ä¾‹å­</li>\n</ul>\n<p>å‘½ä»¤è¡Œè„šæœ¬: <a\nhref=\"examples/test_imshow_click.py\">examples/test_imshow_click.py</a>\n(jupyter ä¸­æ— æ³•ä½¿ç”¨)</p>\n<ul>\n<li>å¸ƒå±€é—®é¢˜ <a\nhref=\"https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html</a></li>\n<li>ç»˜åˆ¶å¹³è¡ŒæŠ•å½±çš„3Då›¾ <a\nhref=\"https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html\"\nclass=\"uri\">https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html</a></li>\n<li>æ›´å¤æ‚çš„ 3D å¯è½¬å­˜å¯è§†åŒ–æ•°æ®ç”¨å…¶ä»–è½¯ä»¶æˆ–ä½¿ç”¨ Mayavi\n(http://docs.enthought.com/mayavi/mayavi)</li>\n</ul>\n<h2 id=\"sunpy-ç¤ºä¾‹\">SunPy ç¤ºä¾‹</h2>\n<h3 id=\"ç¤ºä¾‹æ–‡ä»¶\">ç¤ºä¾‹æ–‡ä»¶</h3>\n<ul>\n<li><p>è¯»å– fits, submap, ä½œå›¾ <a\nhref=\"https://lydiazly.coding.me/python-notes/example_plothmi.html\">example_plothmi</a></p></li>\n<li><p>æŠ•å½± <a\nhref=\"https://lydiazly.coding.me/python-notes/example_projection.html\">example_projection</a></p></li>\n<li><p>ä¸‹è½½æ•°æ® <a\nhref=\"https://lydiazly.coding.me/python-notes/fido.html\">fido</a>, <a\nhref=\"https://lydiazly.coding.me/python-notes/jsoc.html\">jsoc</a></p></li>\n</ul>\n<p>æ³¨æ„: è¿™äº›ä¾‹å­åªæ˜¯æä¾›ä¸€ä¸ªä½¿ç”¨å‚è€ƒ, ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„.</p>\n<h3 id=\"ç¤ºä¾‹ä¸­çš„-fits-è¯»å–æ–¹æ³•\">ç¤ºä¾‹ä¸­çš„ fits è¯»å–æ–¹æ³•</h3>\n<p>æ›´å¤š FITS çš„è¯»å–æ–¹æ³•å‚è§ <a href=\"main.html#FITS-æ–‡ä»¶è¯»å–\">Python\nç®€æ˜“æ•™ç¨‹#FITS-æ–‡ä»¶è¯»å–</a><br> å¦è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/usage/scripts.html\">Astropy\nçš„å‘½ä»¤è¡Œå·¥å…·</a></p>\n<p>è¯»å–<code>HMIMap</code> çš„ä¾‹å­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># å¯¼å…¥ `sunpy.map` çš„æ—¶é—´ä¼šç•¥æœ‰ç‚¹é•¿</span>\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\nsmap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>sunpy.map.sources.sdo.HMIMap</code></pre>\n<p>è¿™æ˜¯ <code>GenericMap</code> çš„ä¸€ä¸ªå­ç±»:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">issubclass</span><span class=\"token punctuation\">(</span>sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>sources<span class=\"token punctuation\">.</span>sdo<span class=\"token punctuation\">.</span>HMIMap<span class=\"token punctuation\">,</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>mapbase<span class=\"token punctuation\">.</span>GenericMap<span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta  <span class=\"token comment\"># headers</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç´¢å¼•ä»Ž 0 å¼€å§‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>numpy.ndarray</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape  <span class=\"token comment\"># (dimy, dimx)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<p><code>smap.data[i, j]</code> ä¸­çš„ i ä¸º Y è½´, å•ä½ä¸º pixel:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> origin<span class=\"token operator\">=</span><span class=\"token string\">'lower'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_205_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<h3 id=\"å…³äºŽ-scaled-image-data\">å…³äºŽ Scaled Image Data</h3>\n<p>è¿™ä¸€éƒ¨åˆ†å°†æ›´ä»”ç»†åœ°æ£€æŸ¥ Astropy å¯¹ç¤ºä¾‹ä¸­çš„ FITS æ–‡ä»¶çš„å¤„ç†.</p>\n<p>å‚è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data\"\nclass=\"uri\">http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data</a></p>\n<blockquote>\n<p>Images are scaled only when either of the BSCALE/BZERO keywords are\npresent in the header and either of their values is not the default\nvalue (BSCALE=1, BZERO=0).</p>\n</blockquote>\n<p>ç”±äºŽ <code>astropy.io.fits</code> çš„ç‰¹æ€§, è¯»å– 'Scaled Image Data'\næ—¶, è°ƒç”¨ <code>.data</code> å°†è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œç¼©æ”¾: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">physical value <span class=\"token operator\">=</span> BSCALE <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>storage value<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> BZERO<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<code>astropy.io.fits.open</code> ä¸­ä½¿ç”¨\n<code>do_not_scale_image_data=True</code> å¯ç¦ç”¨è¿™ä¸€æ­¥éª¤.</p>\n<p>è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/appendix/faq.html#why-is-an-image-containing-integer-data-being-converted-unexpectedly-to-floats\">astropy.io.fits\nFAQ</a></p>\n<p>æ•°æ®ç±»åž‹:</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\">BITPIX</th>\n<th style=\"text-align: left;\">Numpy Data Type</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: left;\">numpy.uint8 (unsigned integer)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\">16</td>\n<td style=\"text-align: left;\">numpy.int16</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">32</td>\n<td style=\"text-align: left;\">numpy.int32</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\">-32</td>\n<td style=\"text-align: left;\">numpy.float32</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">-64</td>\n<td style=\"text-align: left;\">numpy.float64</td>\n</tr>\n</tbody>\n</table>\n<p>å¯ä»¥ä½¿ç”¨ Astropy çš„å‘½ä»¤è¡Œå·¥å…·åœ¨ shell ä¸­æŸ¥çœ‹ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\n!fitsinfo <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Filename: data/hmi.B_720s.20150827_052400_TAI.field.fits\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU       6   ()      \n  1                1 CompImageHDU    155   (4096, 4096)   int32   </code></pre>\n<p>å¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç±»åž‹æ˜¯æ•´å½¢.</p>\n<p>ç”¨å‘½ä»¤è¡Œå·¥å…·æŸ¥çœ‹å…³é”®å­— 'BITPIX':</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!fitsheader <span class=\"token operator\">-</span>e <span class=\"token number\">1</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>keyword BITPIX <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code># HDU 1 in data/hmi.B_720s.20150827_052400_TAI.field.fits:\nBITPIX  =                   32 / data type of original image                    </code></pre>\n<p>ä½¿ç”¨ <code>astropy.io.fits</code>:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\nhdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<p>'BSCALE' ä¸ä¸ºé›¶åˆ™ä¸º 'scaled':</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>verify<span class=\"token punctuation\">(</span><span class=\"token string\">'silentfix+warn'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è°ƒç”¨ `.data` æ—¶å¦‚æžœå‡ºé”™, éœ€è¦å…ˆè¿›è¡Œè¿™ä¸€æ­¥ä¿®å¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dtype  <span class=\"token comment\"># å·²è‡ªåŠ¨å˜æ¢ä¸º 'physical value', åŒæ—¶ `.header` å°†è¢«ä¿®æ”¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>dtype(&#39;float64&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>142.83</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># -2147483648 è¢«è½¬ä¸º nan</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>nan</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å€¼è¢«æ”¹å˜äº†. åŒæ—¶ 'BSCALE', 'BZERO' è¢«åˆ é™¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>-64</code></pre>\n<p>æ‰‹åŠ¨ scale:</p>\n<p>'BSCALE' è™½ç„¶ä¹‹å‰å·²è¢«åˆ é™¤, ä½†å€¼ä»å­˜å‚¨åœ¨ <code>._orig_bscale</code>\nä¸­. <code>.scale</code> å°†ä½¿ç”¨è¿™ä¸ªå€¼.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">(</span><span class=\"token string\">'int32'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åœ¨æ­¤ä¹‹åŽ `.data` å°†å˜æ¢å›ž 'storage value'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>_orig_bscale<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>_orig_bzero<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>14283</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># nan è¢«è½¬ä¸º -2147483648</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>-2147483648</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å€¼å†æ¬¡è¢«æ”¹å˜äº†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<p>ä½¿ç”¨ SunPy å¤„ç†æ—¶, 'BITPIX', 'BSCALE', 'BZERO' çš„å€¼è¢«ä¿ç•™,\n<code>.data</code> ä»è¿›è¡Œäº† scale çš„è¿‡ç¨‹.</p>\n<p>é’ˆå¯¹ä¸åŒæ–‡ä»¶, å¦‚æžœ SunPy çš„ç¨‹åºå†…éƒ¨ä½¿ç”¨ <code>astropy.io.fits</code>\nå¤„ç†æ–‡ä»¶æ—¶è°ƒç”¨äº† <code>.data</code> å†è¿”å›ž header, å³\n<code>astropy.io.fits</code> å·²ç»å¦‚ä¸Šæ‰€è¿°æ”¹å˜äº† header, é‚£ä¹ˆ SunPy\næ‰€è¿”å›žçš„ header ä¸­ 'BITPIX', 'BSCALE', 'BZERO' å¯èƒ½å·²ç»è¢«æ”¹å˜.</p>\n<p>ä¸‹é¢çš„ä¾‹å­ä¸­å¾—åˆ°çš„ header æ˜¯æœ€åˆçš„å€¼:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\nsmap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å¾—åˆ°çš„æ˜¯æœªè¢«æ”¹å˜çš„ header</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># è¿™ä¸€æ­¥å¹¶ä¸æ”¹å˜ `.meta` çš„å€¼</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>142.83</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<h3 id=\"åæ ‡å’Œå•ä½\">åæ ‡å’Œå•ä½</h3>\n<p><strong>SunPy map</strong> <a\nhref=\"http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects</a>\n&gt;A number of the <strong>properties</strong> of this class are\nreturned as <strong>two-value named tuples</strong> that can either be -\nindexed by\nposition:â€‚<strong><font color=blue>[0]</font>,â€‚<font color=blue>[1]</font></strong>\n- be accessed by the names: - pixel\naxes:â€‚<strong><font color=blue>.x</font>,â€‚<font color=blue>.y</font></strong><br>\nx and y refer to the FITS axes (x for columns y for rows) - spatial\naxes:â€‚<strong><font color=blue>.axis1</font>,â€‚<font color=blue>.axis2</font></strong><br>\naxis1 corresponds to the coordinate axis for x and axis2 corresponds to\ny.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>PixelPair(x=&lt;Quantity 4096. pix&gt;, y=&lt;Quantity 4096. pix&gt;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x  <span class=\"token comment\"># å¾—åˆ°ä¸€ä¸ª `astropy.units.quantity.Quantity`, åŒ…å« value å’Œ unit</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>(4096 ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>unit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>value<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>4096.0</code></pre>\n<p><code>astropy.units</code> çš„ä½¿ç”¨æ–¹æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> astropy<span class=\"token punctuation\">.</span>units <span class=\"token keyword\">as</span> u<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">u<span class=\"token punctuation\">.</span>AA<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">4096</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># same as `u.pixel`</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>(4096 ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">(</span><span class=\"token number\">4096</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># æ³¨æ„è¿™é‡Œæ˜¯ `astropy.units` çš„è¿ç®—, å’Œ list è¿ç®—è§„åˆ™ä¸åŒ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>([4096,~4096] ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>unit <span class=\"token keyword\">is</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># è¯´æ˜Ž x æ˜¯å•ä½æ˜¯ u.pix</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n  lon=self.heliographic_longitude,\n\n\n\n\n\nastropy.coordinates.sky_coordinate.SkyCoord</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[&lt;Quantity 0. pix&gt;, &lt;Quantity 0. pix&gt;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">4096</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;): (Tx, Ty) in arcsec\n    (-1040.36199634, -1030.86554911)&gt;</code></pre>\n<p>æŸ¥çœ‹ <code>SkyCoord</code> çš„å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> astropy<span class=\"token punctuation\">.</span>coordinates\n<span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>astropy<span class=\"token punctuation\">.</span>coordinates<span class=\"token punctuation\">.</span>sky_coordinate<span class=\"token punctuation\">.</span>SkyCoord<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">.</span>Tx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;): (Tx, Ty) in arcsec\n    (16.55031204, 26.53575639)&gt;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>transform_to<span class=\"token punctuation\">(</span><span class=\"token string\">'heliographic_stonyhurst'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (HeliographicStonyhurst: obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, km)\n    (1.00568591, 8.68202918, 696000.0000022)&gt;</code></pre>\n<p>æŸ¥çœ‹åæ ‡ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>coordinate_frame<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n  lon=self.heliographic_longitude,\n\n\n\n\n\n&lt;Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;)&gt;</code></pre>\n<p>å‡ºçŽ°è¿™ä¸ª Warning æ—¶:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">;</span> smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">;</span> smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span>\nsmap<span class=\"token punctuation\">.</span>coordinate_frame<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&lt;Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;)&gt;</code></pre>\n<h3 id=\"è¯­æ³•å¯¹æ¯”\">è¯­æ³•å¯¹æ¯”</h3>\n<p>æ¯”è¾ƒ <code>plothmi.py</code> ä¸Žå¯¹åº” IDL ç¨‹åºçš„è¯­æ³•:</p>\n<p>ä¸‹é¢çš„è¯­å¥ä¸­, ä¸ºäº†ç®€ä¾¿å’Œæ–¹ä¾¿å¯¹æ¯”, ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ä¸€äº›å‡½æ•°. å¯¼å…¥æ–¹æ³•:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> usr_sunpy <span class=\"token keyword\">import</span> read_sdo<span class=\"token punctuation\">,</span> plot_map<span class=\"token punctuation\">,</span> plot_vmap<span class=\"token punctuation\">,</span> image_to_helio<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<p>è¯»å–æ•°æ® <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nread_sdo,&lt;fname&gt;,index,data\nindex2map,index,data,mapa<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># ä¸ºç®€åŒ–è¿‡ç¨‹è€Œè‡ªå®šä¹‰çš„å‡½æ•°, è¯»å…¥æ—¶æ‰“å°æ–‡ä»¶åå’Œæ•°ç»„å¤§å°</span>\nmapa <span class=\"token operator\">=</span> read_sdo<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>fname<span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>æ—‹è½¬ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\n; 2 è¡¨ç¤º180Â°\nmapbx.data &#x3D; rotate(mapbx,2)\nmapby.data &#x3D; rotate(mapbx,2)\nmapbz.data &#x3D; rotate(mapbx,2)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># åˆ©ç”¨ 'crota2' çš„å€¼ç¡®å®šè§’åº¦</span>\nmapbx <span class=\"token operator\">=</span> mapbx<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nmapby <span class=\"token operator\">=</span> mapby<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nmapbz <span class=\"token operator\">=</span> mapbz<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>æˆªå– <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nsub_map,mapbx,smapbx,xrange&#x3D;[500,800.0],yrange&#x3D;[-500,-100.0]\nsub_map,mapby,smapby,ref_map&#x3D;smapbx\nsub_map,mapbz,smapbz,ref_map&#x3D;smapbx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># å·¦ä¸‹åˆ°å³ä¸Š</span>\nbl <span class=\"token operator\">=</span> SkyCoord<span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">500</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> frame<span class=\"token operator\">=</span>mapbz<span class=\"token punctuation\">.</span>coordinate_frame<span class=\"token punctuation\">)</span>\ntr <span class=\"token operator\">=</span> SkyCoord<span class=\"token punctuation\">(</span><span class=\"token number\">800</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">100.</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> frame<span class=\"token operator\">=</span>mapbz<span class=\"token punctuation\">.</span>coordinate_frame<span class=\"token punctuation\">)</span>\nsmapbx <span class=\"token operator\">=</span> mapbx<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span>\nsmapby <span class=\"token operator\">=</span> mapby<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span>\nsmapbz <span class=\"token operator\">=</span> mapbz<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>ç»˜å›¾ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nplot_map,smapbz,dmax&#x3D;2000,dmin&#x3D;-2000,color&#x3D;0,charsize&#x3D;1.8,...\nplot_vmap,&#x2F;over,smapbx,smapby,mapbz&#x3D;smapbz,limit&#x3D;180,scale&#x3D;0.012,iskip&#x3D;15,jskip&#x3D;15,...<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># ä¸»è¦è°ƒç”¨çš„æ˜¯ matplotlib</span>\nfig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> fig<span class=\"token punctuation\">.</span>add_subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">,</span> projection<span class=\"token operator\">=</span>smapbz<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ä½¿ç”¨ smapbz ä¸­å®šä¹‰çš„åæ ‡ç³»ç»Ÿ</span>\nplot_map<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">)</span>\nplot_vmap<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbx<span class=\"token punctuation\">,</span> smapby<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">,</span> iskip<span class=\"token operator\">=</span>iskip<span class=\"token punctuation\">,</span> jskip<span class=\"token operator\">=</span>jskip<span class=\"token punctuation\">,</span> cmin<span class=\"token operator\">=</span><span class=\"token number\">100.</span><span class=\"token punctuation\">,</span> vmax<span class=\"token operator\">=</span><span class=\"token number\">500.</span><span class=\"token punctuation\">,</span> cmap<span class=\"token operator\">=</span><span class=\"token string\">'binary'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>åæ ‡å˜æ¢ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\n; magnetic_modeling_codes&#x2F;...&#x2F;05projection_modified_version.pro<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># `image_to_helio`(å˜æ¢ä¸º Helioprojective(Cartesian) system)</span>\n<span class=\"token comment\"># è°ƒç”¨è‡ªå®šä¹‰çš„æ—‹è½¬çŸ©é˜µå‡½æ•° `proj_matrix`, å‚è€ƒæ–‡çŒ®ä¸ŽåŽŸIDLç¨‹åºç›¸åŒ</span>\nhx<span class=\"token punctuation\">,</span> hy <span class=\"token operator\">=</span> image_to_helio<span class=\"token punctuation\">(</span>smapbz<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># numpy æ•°ç»„</span>\nsmapbx_h<span class=\"token punctuation\">,</span> smapby_h<span class=\"token punctuation\">,</span> smapbz_h <span class=\"token operator\">=</span> image_to_helio<span class=\"token punctuation\">(</span>smapbx<span class=\"token punctuation\">,</span> smapby<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">)</span> <span class=\"token comment\"># sunpy `Map`</span>\n\nplot_map<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbz_h<span class=\"token punctuation\">,</span> coords<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>hx<span class=\"token punctuation\">,</span> hy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nplot_vmap<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbx_h<span class=\"token punctuation\">,</span> smapby_h<span class=\"token punctuation\">,</span> smapbz_h<span class=\"token punctuation\">,</span> coords<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>hx<span class=\"token punctuation\">,</span> hy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h2 id=\"æ’å€¼-æ‹Ÿåˆ\">æ’å€¼, æ‹Ÿåˆ</h2>\n<p>é€‰æ‹©ä¸é™äºŽè¿™é‡Œåˆ—ä¸¾çš„åŒ…, ä»¥åŽä¹Ÿå¯èƒ½ä¼šæœ‰æ›´åˆé€‚çš„æ–¹æ³•å‡ºçŽ°.</p>\n<p>ç›¸å…³å®‰è£…è§ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a></p>\n<h3 id=\"æ’å€¼\">æ’å€¼</h3>\n<ul>\n<li><p>numpy <pre class=\"line-numbers language-none\"><code class=\"language-none\">f &#x3D; interp1d(x, y, kind&#x3D;&#39;cubic&#39;[, fill_value&#x3D;&#39;extrapolate&#39;])\nx2 &#x3D; np.linspace(...)\ny2 &#x3D; f(x2)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> è§ <a\nhref=\"examples/test_plot.py\">examples/test_plot.py</a></p></li>\n<li><p>scipy <a\nhref=\"https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html\"\nclass=\"uri\">https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html</a></p></li>\n</ul>\n<h3 id=\"æ±‚æžå€¼\">æ±‚æžå€¼</h3>\n<ul>\n<li>PeakUtils <a href=\"http://peakutils.readthedocs.io/en/latest/\"\nclass=\"uri\">http://peakutils.readthedocs.io/en/latest/</a></li>\n</ul>\n<p>å®˜æ–¹ä¾‹å›¾\n(http://peakutils.readthedocs.io/en/latest/tutorial_a.html):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> peakutils\nindexes <span class=\"token operator\">=</span> peakutils<span class=\"token punctuation\">.</span>indexes<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> thres<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> min_dist<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src='/advance/tut_a_2.png' width='500' /></p>\n<p>Enhancing the resolution by interpolation: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">peaks_x <span class=\"token operator\">=</span> peakutils<span class=\"token punctuation\">.</span>interpolate<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ind<span class=\"token operator\">=</span>indexes<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<h3 id=\"æ‹Ÿåˆ\">æ‹Ÿåˆ</h3>\n<ul>\n<li>LMFIT (Non-Linear Least-Squares Minimization and Curve-Fitting)</li>\n</ul>\n<p>ä¸‹è½½ <a href=\"https://github.com/lmfit/lmfit-py\"\nclass=\"uri\">https://github.com/lmfit/lmfit-py</a></p>\n<p>æ–‡æ¡£ <a href=\"http://lmfit.github.io/lmfit-py/\"\nclass=\"uri\">http://lmfit.github.io/lmfit-py/</a></p>\n<p>æœ‰çŽ°æˆæ¨¡åž‹, ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡åž‹.<br>\nå¯ä»¥æ–¹ä¾¿åœ°å åŠ ä¸åŒæ‹Ÿåˆæ¨¡åž‹(æ¯”å¦‚å¤šä¸ªé«˜æ–¯, çº¿æ€§åŠ é«˜æ–¯, ç­‰ç­‰).<br> ä¾‹å­è§\n<a href=\"examples/lmfits.zip\">examples/lmfits</a> (æ¥è‡ª <a\nhref=\"http://lmfit.github.io/lmfit-py/builtin_models.html#example-1-fit-peak-data-to-gaussian-lorentzian-and-voigt-profiles\">LMFITç½‘ç«™ç¤ºä¾‹</a>\n)</p>\n<p>ä½¿ç”¨å†…ç½®æ¨¡åž‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> lmfit<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> GaussianModel  <span class=\"token comment\"># å†…ç½®çš„æ¨¡åž‹</span>\n\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'test_peak.dat'</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\ny <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\nmod <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å®žä¾‹åŒ–ä¸€ä¸ªæ¨¡åž‹</span>\npars <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç»™åˆå€¼</span>\nout <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> pars<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ‹Ÿåˆç»“æžœ</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">.</span>fit_report<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ‹Ÿåˆç»“æžœçš„è¯¦ç»†ä¿¡æ¯</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>init_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'k--'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>best_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'r-'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peak<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[[Model]]\n    Model(voigt)\n[[Fit Statistics]]\n    # fitting method   = leastsq\n    # function evals   = 21\n    # data points      = 401\n    # variables        = 4\n    chi-square         = 10.9301767\n    reduced chi-square = 0.02753193\n    Akaike info crit   = -1436.57602\n    Bayesian info crit = -1420.60017\n[[Variables]]\n    sigma:      0.89518909 +/- 0.01415450 (1.58%) (init = 0.8775)\n    center:     9.24374847 +/- 0.00441903 (0.05%) (init = 9.25)\n    amplitude:  34.1914737 +/- 0.17946860 (0.52%) (init = 65.43358)\n    gamma:      0.52540198 +/- 0.01857955 (3.54%) (init = 0.7)\n    fwhm:       3.22385343 +/- 0.05097475 (1.58%) == &#39;3.6013100*sigma&#39;\n    height:     10.0872204 +/- 0.03482130 (0.35%) == &#39;amplitude*wofz((1j*gamma)/(sigma*sqrt(2))).real/(sigma*sqrt(2*pi))&#39;\n[[Correlations]] (unreported correlations are &lt; 0.100)\n    C(sigma, gamma)     = -0.928\n    C(amplitude, gamma) =  0.821\n    C(sigma, amplitude) = -0.651</code></pre>\n<figure>\n<img src=\"/advance/advance_279_1.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>å¤šä¸ªæ¨¡åž‹å åŠ :</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> lmfit<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> ExponentialModel<span class=\"token punctuation\">,</span> GaussianModel\n\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'NIST_Gauss2.dat'</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\ny <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\nexp_mod <span class=\"token operator\">=</span> ExponentialModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'exp_'</span><span class=\"token punctuation\">)</span>\ngauss1 <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'g1_'</span><span class=\"token punctuation\">)</span>\ngauss2 <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'g2_'</span><span class=\"token punctuation\">)</span>\n\npars1 <span class=\"token operator\">=</span> exp_mod<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ†æ®µè®¾å‚æ•°çš„æ–¹æ³•è§ä¸‹é¢çš„è„šæœ¬æ–‡ä»¶</span>\npars2 <span class=\"token operator\">=</span> gauss1<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\npars3 <span class=\"token operator\">=</span> gauss2<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\n\npars <span class=\"token operator\">=</span> pars1 <span class=\"token operator\">+</span> pars2 <span class=\"token operator\">+</span> pars3  <span class=\"token comment\"># å åŠ å‚æ•°</span>\nmod <span class=\"token operator\">=</span> gauss1 <span class=\"token operator\">+</span> gauss2 <span class=\"token operator\">+</span> exp_mod  <span class=\"token comment\"># å åŠ æ¨¡åž‹</span>\n\nout <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> pars<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">.</span>fit_report<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>init_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'k--'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>best_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'r-'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>capture output\n<span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peaks<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">output<span class=\"token punctuation\">.</span>outputs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_283_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>capture output\n<span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peaks_components<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">output<span class=\"token punctuation\">.</span>outputs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_285_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>è‡ªå®šä¹‰æ¨¡åž‹çš„æ–¹æ³•è§ <a\nhref=\"http://lmfit.github.io/lmfit-py/builtin_models.html#user-defined-models\">LMFITç½‘ç«™ç¤ºä¾‹</a></p>\n<h3 id=\"å…¶ä»–\">å…¶ä»–</h3>\n<ul>\n<li>Sherpa(Modeling and Fitting) <a\nhref=\"http://cxc.cfa.harvard.edu/contrib/sherpa/\"\nclass=\"uri\">http://cxc.cfa.harvard.edu/contrib/sherpa/</a><br></li>\n<li>2-D Fitting in Sherpa <a\nhref=\"https://python4astronomers.github.io/fitting/image.html\"\nclass=\"uri\">https://python4astronomers.github.io/fitting/image.html</a><br></li>\n<li><em>etc.</em></li>\n</ul>\n<h2 id=\"copy-æ³¨æ„äº‹é¡¹\">copy æ³¨æ„äº‹é¡¹</h2>\n<p><strong>\"shallow copy\"</strong> vs <strong>\"deep copy\"</strong></p>\n<ul>\n<li>å¯¹äºŽ list çš„æƒ…å†µ</li>\n</ul>\n<p>æ¼”ç¤ºæ’ä»¶ <a href=\"https://github.com/lgpage/nbtutor\"\nclass=\"uri\">https://github.com/lgpage/nbtutor</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nd <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># åˆ—è¡¨çš„åˆ‡ç‰‡æ˜¯æ·±æ‹·è´</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>23284866388232 23284866388232 23284855519880 23284856061064</code></pre>\n<p><a href=\"http://t.cn/RgK1OHf\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor3.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ dict çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´</span>\nd <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>22492371132064 22492371132064 22492397510376 22492397507280</code></pre>\n<p><a href=\"http://t.cn/RgKrHOx\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor4.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ set çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´</span>\nd <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nb<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nc<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\nd<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>22492476895528 22492476895528 22492476895304 22492374233384</code></pre>\n<p><a href=\"http://t.cn/RgKd3E7\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor5.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ numpy çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\na <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nb <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># æµ…æ‹·è´!</span>\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´, åŒ deepcopy(a)</span>\nd <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># èŠ±å¼åˆ‡ç‰‡æ˜¯æ·±æ‹·è´</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># id è™½å„ä¸åŒ, ä½† .__array_interface__['data'][0] å¯èƒ½ç›¸åŒ</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>22928831926400 93879086511872\n22928831928960 93879086511872\n22928829201984 93879072448320\n22928829199344 93879078700736</code></pre>\n<p><a href=\"http://t.cn/Rg9hST6\">ç½‘é¡µç‰ˆæ¼”ç¤º</a> (<strong>Site\nError</strong>: Ruby and Python+Anaconda backends are permanently\nunavailable)</p>\n<p>å‚è§ä¹‹å‰çš„ <a href=\"#çŸ©é˜µ\">np.matrix, np.asmatrix</a></p>\n<h2 id=\"å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\">å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™</h2>\n<h3 id=\"ç”¨-pandas-è¯»-csv\">ç”¨ pandas è¯» csv</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\ndata <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"data/data.csv\"</span><span class=\"token punctuation\">)</span>\ndata<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ncol1\n</th>\n<th>\ncol2\n</th>\n<th>\ncol3\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\nrow1\n</td>\n<td>\n1\n</td>\n<td>\n10.0\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\nrow2\n</td>\n<td>\n2\n</td>\n<td>\n0.2\n</td>\n</tr>\n<tr>\n<th>\n2\n</th>\n<td>\nrow3\n</td>\n<td>\n3\n</td>\n<td>\n300.0\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>columns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>Index([&#39;col1&#39;, &#39;col2&#39;, &#39;col3&#39;], dtype=&#39;object&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>col1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0    row1\n1    row2\n2    row3\nName: col1, dtype: object</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">[</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0    row1\n1    row2\n2    row3\nName: col1, dtype: object</code></pre>\n<p>åªå–ä¸€éƒ¨åˆ†:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"data/data.csv\"</span><span class=\"token punctuation\">,</span> nrows<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> usecols<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndata<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ncol1\n</th>\n<th>\ncol3\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\nrow1\n</td>\n<td>\n10.0\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\nrow2\n</td>\n<td>\n0.2\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>å¯¹äºŽè¶…å¤§æ–‡ä»¶, å‚è§: <a\nhref=\"https://www.dataquest.io/blog/pandas-big-data/\"\nclass=\"uri\">https://www.dataquest.io/blog/pandas-big-data/</a></p>\n<h3 id=\"fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</h3>\n<h4 id=\"unformatted-sequential\">Unformatted (sequential)</h4>\n<p>ä½¿ç”¨ <code>scipy.io.FortranFile</code><br> å‚è€ƒ: <a\nhref=\"https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html\"\nclass=\"uri\">https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (write)</span>\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> FortranFile\nvar1 <span class=\"token operator\">=</span> <span class=\"token number\">1.1</span>  <span class=\"token comment\"># '&lt;f8'</span>\nvar2 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  <span class=\"token comment\"># '&lt;i8'</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># '(2, 3)&lt;f8'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'arr[0, 1] = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># å¤šè¡Œå­˜å…¥</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-1.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var2<span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å•è¡Œå­˜å…¥</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\narr[0, 1] = 1.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (read)</span>\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> FortranFile\n<span class=\"token comment\"># å¤šè¡Œå­˜å…¥çš„æƒ…å†µ</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-1.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    var1 <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    var2 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„ç²¾åº¦(ä¸Šé¢pythonå­˜å…¥çš„æ˜¯é»˜è®¤'int64')</span>\n    arr <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'(2, 3)&lt;f8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data_fortran1-1.dat'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å•è¡Œå­˜å…¥çš„æƒ…å†µ</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n<span class=\"token comment\">#     data = f.read_record('&lt;f8, &lt;i8, (2, 3)&lt;f8')  # ä¸æŒ‡å®šåç§°</span>\n    data <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'var1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'var2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                         <span class=\"token punctuation\">(</span><span class=\"token string\">'arr'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'(2, 3)&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æŒ‡å®šåç§°: (name, dtype)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\ndata_fortran1-2.dat'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'keys = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>data<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">.</span>names<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¦‚è¯»å–æ—¶æœªæŒ‡å®šåç§°åˆ™ä¸º ['f0', 'f1', ...]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'var1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'var2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'arr'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>data_fortran1-1.dat\n1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\n\ndata_fortran1-2.dat\nkeys = (&#39;var1&#39;, &#39;var2&#39;, &#39;arr&#39;)\n1.1 0\n[[[0. 1. 2.]\n  [3. 4. 5.]]]</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token builtin class-name\">cd</span> examples/\nifort -o test_read_seq test_read_seq.f90\n./test_read_seq<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code> data_fortran1-1.dat\n   1.1  0.0\n   0.0  1.0  2.0\n   3.0  4.0  5.0\n arr(2, 1) =   1.0\n\n data_fortran1-2.dat\n   1.1  0.0\n   0.0  1.0  2.0\n   3.0  4.0  5.0\n arr(2, 1) =   1.0</code></pre>\n<p>è§ Structured arrays: <a\nhref=\"https://docs.scipy.org/doc/numpy/user/basics.rec.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/basics.rec.html</a></p>\n<h4 id=\"unformatted-stream\">Unformatted (stream)</h4>\n<p><code>struct</code> å‚è€ƒ <a\nhref=\"https://docs.python.org/3/library/struct.html\"\nclass=\"uri\">https://docs.python.org/3/library/struct.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (write)</span>\n<span class=\"token keyword\">import</span> struct\nvar1 <span class=\"token operator\">=</span> <span class=\"token number\">1.1</span>  <span class=\"token comment\"># '&lt;f8'</span>\nvar2 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  <span class=\"token comment\"># '&lt;i8'</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># '(2, 3)&lt;f8'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'arr[0, 1] = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>struct<span class=\"token punctuation\">.</span>pack<span class=\"token punctuation\">(</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> var1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>struct<span class=\"token punctuation\">.</span>pack<span class=\"token punctuation\">(</span><span class=\"token string\">'i'</span><span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„ `struct` çš„ 'i' æ˜¯ '&lt;i4'</span>\n    arr<span class=\"token punctuation\">.</span>tofile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\narr[0, 1] = 1.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (read)</span>\n<span class=\"token comment\"># ä½¿ç”¨ `np.fromfile`, è¯»å…¥çš„æ˜¯ `ndarray`</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    var1 <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    var2 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;i4'</span><span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token builtin class-name\">cd</span> examples/\nifort -o test_read_stream test_read_stream.f90\n./test_read_stream<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>  1.1 0.0\n  0.0 1.0 2.0\n  3.0 4.0 5.0\n arr(2, 1) =  1.0</code></pre>\n<h3 id=\"hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–\">HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF\næ–‡ä»¶è¯»å–</h3>\n<h4 id=\"è¯»å†™-hdf5-æ–‡ä»¶-è¯»-ncdf-æ–‡ä»¶\">è¯»å†™ HDF5 æ–‡ä»¶, è¯» NCDF æ–‡ä»¶</h4>\n<p>HDF5 æ ¼å¼ä»‹ç» <a\nhref=\"https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5\"\nclass=\"uri\">https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5</a></p>\n<p>ç›¸å…³åŒ…: <code>h5py</code> æˆ– <code>pandas</code> +\n<code>pytables</code>\n(http://www.pytables.org/usersguide/datatypes.html)</p>\n<p>å®‰è£…è§ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a></p>\n<ul>\n<li>æŸ¥çœ‹</li>\n</ul>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">$ h5dump -H &lt;filename&gt;.hdf5\n$ ncdump -h &lt;filename&gt;.ncdf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ç”¨ <code>h5py</code> è¯»å†™:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> h5py\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> h5py<span class=\"token punctuation\">.</span>File<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr\n    <span class=\"token comment\"># æˆ–</span>\n    <span class=\"token comment\"># f.create_dataset('data', data=arr)</span>\n    <span class=\"token comment\"># å…¶ä¸­ compression='gzip', compression_opts=[0-9], å¯åˆ†æ¡ç›®ç”¨ä¸åŒåŽ‹ç¼©</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'lb'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>â€ƒè¯»çº¯ HDF5/NCDF æ–‡ä»¶: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> h5py<span class=\"token punctuation\">.</span>File<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb']</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> â€ƒè¯» pandas å­˜çš„æ–‡ä»¶:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># f['&lt;key>'] å¾—åˆ°çš„æ˜¯ Dataset æˆ– Group çš„å¼•ç”¨</span>\n<span class=\"token comment\"># ç”¨ f['&lt;key>'].value æˆ–åˆ‡ç‰‡ f['&lt;key>'][:] å¾—åˆ°åŽŸæ¥çš„æ ¼å¼</span>\n<span class=\"token comment\"># f['&lt;key>'] å¯æ›¿ä»£ä¸ºf.get('&lt;key>')</span>\n<span class=\"token comment\"># å…³é—­ä¹‹åŽ f['data'] çš„å¼•ç”¨å¤±æ•ˆ, å› æ­¤å­˜å‡ºæ•°æ®è¦åŠ ä¸Š.valueæˆ–[:]ä¿å­˜æ•°æ®, æˆ–ä½¿ç”¨ deepcopy</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> â€ƒæ‰“å°è¯»å–çš„ä¿¡æ¯: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint\npprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\npprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<ul>\n<li>ç”¨pandasè¯»å†™:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€ƒå†™: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr2 <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># complevel=[0-9], complib=&#123;'zlib', 'lzo', 'bzip2', 'blosc'&#125;</span>\n<span class=\"token keyword\">with</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test2.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr2\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'lb'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre> â€ƒè¯» pandas å†™çš„æ–‡ä»¶: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test2.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['/data', '/lb'], å­˜åœ¨å­ç›®å½•</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>values  <span class=\"token comment\"># a = f.&lt;key> å¾—åˆ°çš„æ˜¯ DataFrame çš„å¼•ç”¨, f.&lt;key>.values å¾—åˆ°åŽŸæ¥çš„æ ¼å¼</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<ul>\n<li>è¯»çº¯ HDF5/NCDF æ–‡ä»¶:<br> æ¯”å¦‚ h5py å†™çš„æ–‡ä»¶, ç›®å½•ç»“æž„å’Œ pandas\nå†™çš„ä¸åŒ, è¦ç”¨<code>.root</code><br> å…¶ä»–è½¯ä»¶ç”Ÿæˆçš„æ–‡ä»¶å¯èƒ½ä¸èƒ½è¯»</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb']</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb'], æœ‰äº›æ–‡ä»¶æ²¡æœ‰.items</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># f.root å¾—åˆ° tables.group.RootGroup, f.root.&lt;key> å¾—åˆ°tables.group.CArray</span>\n<span class=\"token comment\"># f.get_node('&lt;key>') å¾—åˆ° tables.group.CArray</span>\n<span class=\"token comment\"># f.root.&lt;key> å¯æ›¿ä»£ä¸º f['&lt;key>'] (æœ‰äº›æ–‡ä»¶ä¸è¡Œ)</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>â€ƒæ‰“å° (ä»¥å…æ•°æ®æœ‰ None, ç”¨ <code>np.shape</code>): <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span>                      <span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>np<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>get_node<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>get_node<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n         <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\nâ€ƒBug: æ— æ³•è¯»å‡º <code>H5T_STRING</code></p>\n<h4 id=\"å¤§å°æ¯”è¾ƒ\">å¤§å°æ¯”è¾ƒ</h4>\n<p>ç”¨äºŽæ¯”è¾ƒçš„æ–‡ä»¶åè¯´æ˜Ž:</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: left;\">Filename</th>\n<th style=\"text-align: left;\">Method</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_np.npy</td>\n<td style=\"text-align: left;\"><strong><code>np.save</code></strong></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_np.npz</td>\n<td\nstyle=\"text-align: left;\"><strong><code>np.savez_compressed</code></strong></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_compimg.fits</td>\n<td style=\"text-align: left;\"><strong>FITS</strong> CompImageHDU\n(compressed)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_prim.fits</td>\n<td style=\"text-align: left;\"><strong>FITS</strong> PrimaryHDU</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_0.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong> no\ncompression</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_gzip.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong>\ncompression='gzip', compression_opts=9</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_lzf.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong>\ncompression='lzf'</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_0.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong> no\ncompression</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_blosc.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='blosc', complevel=9</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_bzip2.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='bzip2', complevel=9</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_lzo.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='lzo', complevel=9</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_zlib.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='zlib', complevel=9</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>å¯¹äºŽç›¸å…³æ€§å¼ºçš„æ•°ç»„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_hdf5<span class=\"token punctuation\">.</span>py\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 15.3 M\n\n7.7M    data/test_np.npy\n1.3M    data/test_np.npz\n\n16M data/test_h5py_0.hdf5\n2.9M    data/test_h5py_gzip.hdf5\n7.7M    data/test_h5py_lzf.hdf5\n\n16M data/test_pd_0.hdf5\n272K    data/test_pd_blosc.hdf5\n248K    data/test_pd_bzip2.hdf5\n256K    data/test_pd_lzo.hdf5\n172K    data/test_pd_zlib.hdf5</code></pre>\n<ul>\n<li>éšæœºæ•°æ•°ç»„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_hdf5_2<span class=\"token punctuation\">.</span>py\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 15.3 M\n\n7.7M    data/test_np.npy\n7.2M    data/test_np.npz\n\n16M data/test_h5py_0.hdf5\n8.0M    data/test_h5py_gzip.hdf5\n9.5M    data/test_h5py_lzf.hdf5\n\n16M data/test_pd_0.hdf5\n7.7M    data/test_pd_blosc.hdf5\n7.2M    data/test_pd_bzip2.hdf5\n7.7M    data/test_pd_lzo.hdf5\n7.1M    data/test_pd_zlib.hdf5</code></pre>\n<ul>\n<li>ä»Ž FITS æ–‡ä»¶è¯»å–å†è½¬å­˜</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_fits_hdf5<span class=\"token punctuation\">.</span>py <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>fits\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 64.0 M\n\n21M data/hmi.B_720s.20150827_052400_TAI.field.fits\n\n65M data/fits_np.npy\n27M data/fits_np.npz\n\n21M data/fits_compimg.fits\n65M data/fits_prim.fits\n\n65M data/fits_h5py_0.hdf5\n27M data/fits_h5py_gzip.hdf5\n40M data/fits_h5py_lzf.hdf5\n\n65M data/fits_pd_0.hdf5\n23M data/fits_pd_blosc.hdf5\n21M data/fits_pd_bzip2.hdf5\n23M data/fits_pd_lzo.hdf5\n20M data/fits_pd_zlib.hdf5</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.disambig.fits'</span>\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_fits_hdf5<span class=\"token punctuation\">.</span>py <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>fits\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 32.0 M\n\n5.4M    data/hmi.B_720s.20150827_052400_TAI.disambig.fits\n\n33M data/fits_np.npy\n5.2M    data/fits_np.npz\n\n5.4M    data/fits_compimg.fits\n33M data/fits_prim.fits\n\n33M data/fits_h5py_0.hdf5\n5.3M    data/fits_h5py_gzip.hdf5\n9.7M    data/fits_h5py_lzf.hdf5\n\n33M data/fits_pd_0.hdf5\n9.5M    data/fits_pd_blosc.hdf5\n4.1M    data/fits_pd_bzip2.hdf5\n7.6M    data/fits_pd_lzo.hdf5\n4.8M    data/fits_pd_zlib.hdf5</code></pre>\n<h4 id=\"è¯»å–-cdf-æ–‡ä»¶\">è¯»å– CDF æ–‡ä»¶</h4>\n<p>ç›¸å…³åŒ… <code>cdflib</code>, å®‰è£…è§ <a\nhref=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®#å…¶ä»–</a>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> cdflib\nf <span class=\"token operator\">=</span> cdflib<span class=\"token punctuation\">.</span>CDF<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>.cdf\"</span><span class=\"token punctuation\">)</span>\nf<span class=\"token punctuation\">.</span>cdf_info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ€»ä½“ä¿¡æ¯</span>\nf<span class=\"token punctuation\">.</span>varinq<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å˜é‡ä¿¡æ¯</span>\nf<span class=\"token punctuation\">.</span>varget<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å€¼</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"numpy-to-vtk\">NumPy to VTK</h3>\n<p>å‚è€ƒ <a\nhref=\"https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/\"\nclass=\"uri\">https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/</a><br>\nä»¥åŠ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a> <br><br>\ne.g.<br> è¿è¡Œ <a\nhref=\"examples/field2dvtk.py\">examples/field2dvtk.py</a> ,<br>\næ‰“å¼€Paraview, é€‰æ‹© state æ–‡ä»¶ 'field2d.pvsm', å†é€‰æ‹©æ•°æ®æ–‡ä»¶\n'field2d.vtr'</p>\n<h3 id=\"matlab-mat-æ–‡ä»¶è¯»å†™\">Matlab mat æ–‡ä»¶è¯»å†™</h3>\n<p>(æœªæµ‹è¯•) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> scipy<span class=\"token punctuation\">.</span>io\nscipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>loadmat<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>\"</span><span class=\"token punctuation\">,</span> mdict<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> appendmat<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å¦‚æžœ appendmat=Trueï¼Œåˆ™æ–‡ä»¶åä¸éœ€è¦'.mat'åŽç¼€)</span>\nscipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>savemat<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>\"</span><span class=\"token punctuation\">,</span> mdict<span class=\"token punctuation\">,</span> appendmat<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">format</span><span class=\"token operator\">=</span><span class=\"token string\">'5'</span><span class=\"token punctuation\">,</span>\n                 long_field_names<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> do_compression<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> oned_as<span class=\"token operator\">=</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h2 id=\"è„šæœ¬ç›¸å…³\">è„šæœ¬ç›¸å…³</h2>\n<h3 id=\"è„šæœ¬ç»“æž„\">è„šæœ¬ç»“æž„</h3>\n<p>æ–‡ä»¶å¤´: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p>\n<p>è„šæœ¬ç»“æž„: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token triple-quoted-string string\">\"\"\"\nå‡è®¾è¿™ä¸ªæ–‡ä»¶çš„åç§°ä¸º mymodule.py\nä½¿ç”¨ `imort mymodule` å¯¼å…¥\nè¿™äº›æ–‡å­—ä¼šå‡ºçŽ°åœ¨ `help(mymodule)` æˆ– `pydoc mymodule` ä¸­\n\"\"\"</span>\nc <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    è¿™ä¸ªæ³¨é‡Šå¿…é¡»ç¼©è¿›\n    args: a tuple - (arg1, arg2, ...)\n    kwargs: a dict - &#123;key1 : val1, key2 : val2&#125;\n    \"\"\"</span>\n    <span class=\"token keyword\">global</span> c\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">+</span> c\n<span class=\"token keyword\">def</span> <span class=\"token function\">func2</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    a <span class=\"token operator\">=</span> func1<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> a\n<span class=\"token keyword\">def</span> <span class=\"token function\">_func3</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># `from xxx import *` å°†ä¸ä¼šå¯¼å…¥è¿™ä¸ªå‡½æ•°</span>\n    <span class=\"token keyword\">pass</span>\n    <span class=\"token keyword\">return</span>  <span class=\"token comment\"># return ä¸å†™æ—¶è¿”å›ž None</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># your code here</span>\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <code>import</code> è¿™ä¸ªæ–‡æ¡£æ—¶,\n<code>__name__</code> ä¸ºæ¨¡å—å, å› æ­¤ <code>main()</code> ä¸æ‰§è¡Œ</p>\n<p><code>help()</code> ä¹Ÿå¯ä»¥æŸ¥çœ‹æ¨¡å—å†…çš„å‡½æ•°æ–‡æ¡£:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> usr_sunpy\n<span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>usr_sunpy<span class=\"token punctuation\">.</span>plot_map<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"try-...-except-...-è¯­æ³•\">try ... except ... è¯­æ³•</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">except</span> ValueError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ValueError:'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> ZeroDivisionError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ZeroDivisionError:'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'no error!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finally...'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>è§ <a href=\"#Paraview-è„šæœ¬\">Paraview çš„ä¾‹å­</a></p>\n<h3 id=\"paraview-è„šæœ¬\">Paraview è„šæœ¬</h3>\n<p>å®˜æ–¹æ–‡æ¡£ <a\nhref=\"https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html\"\nclass=\"uri\">https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html</a>\n<br><br> * è®°å½•è¯­å¥: 1. Tools -&gt; Start Trace 2. è¿›è¡Œå„ç§æ“ä½œ 3. Tools\n-&gt; Stop Trace ä¹‹åŽå¾—åˆ°ä¸€ä¸ªåŒ…å«åˆšæ‰æ“ä½œå‘½ä»¤çš„è„šæœ¬,\nå‚è€ƒå…¶ä¸­çš„è¯­å¥å°±å¯ä»¥å†™è‡ªå·±çš„è„šæœ¬äº†. <br><br> * éœ€è¦å¯¼å…¥çš„æ¨¡å—:</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">from paraview.simple import *<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><br> * ä½¿ç”¨ pvpython (é»˜è®¤æ¸²æŸ“) pvbatch (é»˜è®¤ä¸æ¸²æŸ“) æ¥æ‰§è¡Œè„šæœ¬:</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">pvbatch myscript.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤´ <code>#!/usr/bin/env pvbatch</code>,\nåŠ æ‰§è¡Œæƒé™åŽç›´æŽ¥æ‰§è¡Œ: <pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">.&#x2F;myscript.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> æ³¨æ„: æ‰“åŒ…çš„ paraview æ‰€ä½¿ç”¨çš„\npython æ˜¯ paraview è‡ªå¸¦çš„ python2.7</p>\n<p><img src='/advance/Screenshot_20180618-151438.png' width='700' /></p>\n<ul>\n<li>å¸¸ç”¨è¯­å¥:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">view <span class=\"token operator\">=</span> GetActiveView<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nscene <span class=\"token operator\">=</span> GetAnimationScene<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><code>view.ViewTime</code> ä¿®æ”¹æ—¶ <code>scene.AnimationTime</code>\nä¸å˜ <code>scene.AnimationTime</code> ä¿®æ”¹æ—¶ <code>view.ViewTime</code>\nä¹ŸåŒæ—¶è¢«æ”¹å˜</p>\n<p>æ³¨æ„: filter å¿…é¡»æ˜¯æ˜¾ç¤ºçŠ¶æ€ (<code>Show(&lt;filter&gt;)</code>)\næ‰èƒ½ä¿®æ”¹æ—¶é—´</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># e.g.</span>\n!code <span class=\"token operator\">-</span>n examples<span class=\"token operator\">/</span>stat1<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>å­—ä½“é€‰æ‹©å‚è€ƒè·¯å¾„:<br>\n<ul>\n<li>/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf</li>\n<li>/home/<user>/miniconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf</li>\n</ul></li>\n<li>python è°ƒç”¨é—®é¢˜ (paraview 5.5.0+ æ²¡æœ‰è¿™ä¸ªé—®é¢˜):</li>\n</ul>\n<p>paraview æŸä¸ªç‰ˆæœ¬ä¹‹åŽå°±é»˜è®¤ä½¿ç”¨ python 2.7.11+.<br>\nè¿è¡Œä¹‹å‰å…ˆä¿®æ”¹çŽ¯å¢ƒå˜é‡ ( <code>PYTHONPATH</code> å’Œ\n<code>PYTHONSTARTUP</code>), <br>\nè¿è¡Œç»“æŸç»“æŸåŽæ¢å¤è¿™ä¸¤ä¸ªå˜é‡å³å¯.<br><br> è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ä½¿ç”¨è„šæœ¬\n(è€Œä¸ç”¨alias): <pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">#!&#x2F;bin&#x2F;bash\nunset PYTHONSTARTUP  # å¦‚æžœæœ‰çš„è¯\nexport PYTHONPATH&#x3D;&#x2F;&lt;your_path&gt;&#x2F;ParaView&#x2F;lib&#x2F;python2.7&#x2F;site-packages\n&#x2F;&lt;your_path&gt;&#x2F;ParaView&#x2F;bin&#x2F;paraview $@<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> ç”¨è¿™ä¸ªè„šæœ¬æ›¿ä»£åŽŸæœ‰ <code>paraview</code>,\n<code>pvpython</code> å’Œ <code>pvbatch</code> å‘½ä»¤.</p>\n<h3 id=\"python-2---3-çš„è½¬æ¢\">Python 2 -&gt; 3 çš„è½¬æ¢</h3>\n<p>æ¯”è¾ƒæŽ¨èçš„å®‰å…¨çš„æ£€æŸ¥æ–¹å¼:</p>\n<ul>\n<li><p>å¤‡ä»½çš„åŽŸæ–‡ä»¶ä¸”è‡ªåŠ¨ç”Ÿæˆè½¬æ¢è¿‡çš„æ–‡ä»¶ <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ 2to3 -w filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p></li>\n<li><p>æ‰‹åŠ¨æ¯”è¾ƒ, åœ¨éœ€è¦çš„åœ°æ–¹å¯¹ç…§ä¿®æ”¹ filename.bak<br> ä¸»è¦æŸ¥çœ‹ print,\nrange, map ç­‰å‡½æ•°.<br> æ·»åŠ <br>\nâ€ƒ<code>from __future__ import division, print_function</code><br> åœ¨å…¶ä»–\nimport å‰. <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ sudo apt-get install meld\n$ meld filename filename.bak<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>ç¡®è®¤æ— è¯¯åŽ, å°†æ‰‹åŠ¨ä¿®æ”¹çš„æ–‡ä»¶å¤åˆ¶å›žåŽ» <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ mv -v filename.bak filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p></li>\n</ul>\n<p>python å†…æŸ¥çœ‹ç‰ˆæœ¬çš„æ–¹æ³•, å¯ç”¨äºŽ <code>if</code> è¯­å¥ç­‰ (æ›´æŽ¨èç”¨\n<code>try...except...</code> è¯­æ³•):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version_info <span class=\"token operator\">>=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version_info<span class=\"token punctuation\">.</span>major <span class=\"token operator\">>=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ‰§è¡Œ-shell-å‘½ä»¤\">æ‰§è¡Œ shell å‘½ä»¤</h3>\n<p><a href=\"https://docs.python.org/3/library/subprocess.html\"\nclass=\"uri\">https://docs.python.org/3/library/subprocess.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> subprocess\n\nfname <span class=\"token operator\">=</span> <span class=\"token string\">'installpy.ipynb'</span>\n\n<span class=\"token comment\"># é»˜è®¤æ˜¯ä»¥åˆ—è¡¨å½¢å¼ä¼ é€’å‚æ•°</span>\nsubprocess<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># doesn't capture output</span>\n\n<span class=\"token comment\"># è¾“å‡ºç»“æžœéœ€è¦ `decode('ascii')` è½¬ç </span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>subprocess<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> stdout<span class=\"token operator\">=</span>subprocess<span class=\"token punctuation\">.</span>PIPE<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>-rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n\n-rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb</code></pre>\n<p>åˆ©ç”¨ bash çš„ç‰¹é•¿æ¥åšä¸€äº›å­—ç¬¦ä¸²æ“ä½œ:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ä½¿ç”¨æ•´è¡Œå‘½ä»¤éœ€è¦ `shell=True`, è™½ç„¶å¹¶ä¸æ˜¯æŽ¨èçš„åšæ³•, ä½†å¶å°”ä½¿ç”¨æ— å¦¨ (è§å®˜æ–¹æ–‡æ¡£)</span>\n<span class=\"token comment\"># `r`ç”¨æ¥å–æ¶ˆè½¬ä¹‰</span>\n<span class=\"token comment\"># `echo`ä½¿ç”¨`-n`æ¥åŽ»æŽ‰è¾“å‡ºçš„ '\\n'</span>\nfname_head <span class=\"token operator\">=</span> subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token string\">r\"echo -n %s | sed 's/\\.ipynb//'\"</span>\n                                     <span class=\"token operator\">%</span> fname<span class=\"token punctuation\">,</span> shell<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æˆ–ä½¿ç”¨ strip åŽ»æŽ‰ '\\n'</span>\nfname_head <span class=\"token operator\">=</span> subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token string\">r\"echo %s | sed 's/\\.ipynb//'\"</span>\n             <span class=\"token operator\">%</span> fname<span class=\"token punctuation\">,</span> shell<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span>  \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fname_head<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>installpy</code></pre>\n<p>å­—ç¬¦ä¸²ç¼–ç è§ <a\nhref=\"https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000\">å»–é›ªå³°çš„ç½‘ç«™</a></p>\n<ul>\n<li>å¾—åˆ°å‘½ä»¤æ‰§è¡Œçš„è·¯å¾„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os\nos<span class=\"token punctuation\">.</span>getcwd<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/codes/zly/python/python-intro&#39;</code></pre>\n<ul>\n<li>å¾—åˆ°è„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„(ä»…è„šæœ¬ä¸­ä½¿ç”¨)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>abspath<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æˆ– <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>abspath<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<p>å…¶ä¸­ <code>os.path.split</code> å’Œ <code>os.path.dirname</code>\nçš„ç”¨æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'your/path/filename'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(&#39;your/path&#39;, &#39;filename&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span><span class=\"token string\">'your/path/filename'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;your/path&#39;</code></pre>\n<p><code>os.path.dirname</code> ç±»ä¼¼äºŽ bash çš„ <code>dirname</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!dirname <span class=\"token string\">'your/path/filename'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>your/path</code></pre>\n<h3 id=\"è„šæœ¬é€‰é¡¹\">è„šæœ¬é€‰é¡¹</h3>\n<p>æŽ¨è <code>argparse</code>, åœ¨è¿‡åŽ»çš„å…¶ä»–æ–¹æ³•çš„åŸºç¡€ä¸Šæœ‰æ‰€å¢žå¼º <a\nhref=\"https://docs.python.org/3/library/argparse.html\"\nclass=\"uri\">https://docs.python.org/3/library/argparse.html</a></p>\n<p>è„šæœ¬å†…: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> argparse\nparser <span class=\"token operator\">=</span> argparse<span class=\"token punctuation\">.</span>ArgumentParser<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">'Process some integers.'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'integers'</span><span class=\"token punctuation\">,</span> metavar<span class=\"token operator\">=</span><span class=\"token string\">'N'</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">type</span><span class=\"token operator\">=</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> nargs<span class=\"token operator\">=</span><span class=\"token string\">'+'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'an integer for the accumulator'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'--sum'</span><span class=\"token punctuation\">,</span> dest<span class=\"token operator\">=</span><span class=\"token string\">'accumulate'</span><span class=\"token punctuation\">,</span> action<span class=\"token operator\">=</span><span class=\"token string\">'store_const'</span><span class=\"token punctuation\">,</span>\n                    const<span class=\"token operator\">=</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">,</span> default<span class=\"token operator\">=</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'sum the integers (default: find the max)'</span><span class=\"token punctuation\">)</span>\nargs <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span>parse_args<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>accumulate<span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>integers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> Shell: <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ python prog.py -h\nusage: prog.py [-h] [--sum] N [N ...]\nProcess some integers.\npositional arguments:\n N           an integer for the accumulator\noptional arguments:\n -h, --help  show this help message and exit\n --sum       sum the integers (default: find the max)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"å¤„ç†-warnings\">å¤„ç† warnings</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Suppress warnings of NaNs:</span>\n<span class=\"token keyword\">with</span> np<span class=\"token punctuation\">.</span>errstate<span class=\"token punctuation\">(</span>invalid<span class=\"token operator\">=</span><span class=\"token string\">'ignore'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\"># Suppress other warnings, e.g.</span>\n<span class=\"token keyword\">import</span> warnings\n<span class=\"token keyword\">with</span> warnings<span class=\"token punctuation\">.</span>catch_warnings<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    warnings<span class=\"token punctuation\">.</span>simplefilter<span class=\"token punctuation\">(</span><span class=\"token string\">\"ignore\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\"># Or</span>\nwarnings<span class=\"token punctuation\">.</span>simplefilter<span class=\"token punctuation\">(</span><span class=\"token string\">\"ignore\"</span><span class=\"token punctuation\">,</span> category<span class=\"token operator\">=</span>xxx<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># UserWarning, FutureWarning, etc.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"urllib-requests\">urllib, requests</h2>\n<p>ç¤ºä¾‹å’Œæ–‡ä»¶æ¥è‡ª <a href=\"http://python4astronomers.github.com\"\nclass=\"uri\">http://python4astronomers.github.com</a></p>\n<p>æ³¨æ„ python3 ä¸å†ä½¿ç”¨ <code>urllib2</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># æ–¹æ³•1</span>\n<span class=\"token keyword\">import</span> urllib\nurl <span class=\"token operator\">=</span> <span class=\"token string\">'http://python4astronomers.github.com/_downloads/myidlfile.sav'</span>\nurllib<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>urlretrieve<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æ–¹æ³•2</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>urllib<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>urlopen<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æ–¹æ³•3</span>\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ†å—ä¸‹è½½</span>\n<span class=\"token keyword\">import</span> requests\nr <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> chunk <span class=\"token keyword\">in</span> r<span class=\"token punctuation\">.</span>iter_content<span class=\"token punctuation\">(</span>chunk_size<span class=\"token operator\">=</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{}},"excerpt":"<p><a\nhref=\"/downloads/notebooks/python-intro.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<h2 id=\"anaconda\">Anaconda</h2>\n<blockquote>\n<p>A <strong>conda package</strong> is a compressed tarball file that\ncontains system-level libraries, Python or other modules, executable\nprograms and other components. <strong>Conda</strong> keeps track of the\ndependencies between packages and platforms.<br>\n(https://conda.io/docs/user-guide/concepts.html)</p>\n</blockquote>\n<ul>\n<li>å‡¡ä½¿ç”¨ <span style=\"color:blue\">pip install</span>\nå®‰è£…çš„åŒ…å‡ä¸ºç¼–è¯‘å®‰è£…, <span style=\"color:blue\">conda install</span>\nå®‰è£…çš„åˆ™ä¸ºç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ….</li>\n<li>conda åŒ…å¯ä»¥æ‰“åŒ…å…¶ä»–è¯­è¨€, pip åŒ…å®¹æ˜“å‡ºçŽ°ç³»ç»Ÿä¾èµ–é—®é¢˜</li>\n<li>conda åŒ…çš„ä¾èµ–ç®¡ç†æ›´å®Œå–„</li>\n<li>conda çŽ¯å¢ƒä¸‹ä»å¯ä½¿ç”¨ pip è¿›è¡Œå®‰è£…, ä½†æ‰€ä½¿ç”¨çš„ pip å‘½ä»¤å’Œç³»ç»Ÿä¸­çš„ pip\näº’ä¸å½±å“, å®‰è£…çš„åŒ…çš„ä½ç½®ä¹Ÿåœ¨ conda æœ¬èº«çš„ç›®å½•ä¸‹.</li>\n<li>æ¯ä¸ªçŽ¯å¢ƒäº’ä¸å½±å“, å„çŽ¯å¢ƒä¸‹çš„åŒ…è™½ç„¶å¿…é¡»åˆ†åˆ«å®‰è£… (ä¹Ÿå¯ä»¥ clone\nä¸€ä¸ªçŽ°æœ‰çŽ¯å¢ƒ),<br> ä½†å¦‚æžœæœ‰ä¸åŒçŽ¯å¢ƒä¸­æœ‰é‡å¤çš„åŒ… conda å°†é»˜è®¤ä½¿ç”¨\n<em>hard link</em>.</li>\n</ul>\n<p>(æ›´å¤šè®¨è®ºå‚è€ƒ <a\nhref=\"http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)\"\nclass=\"uri\">http://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/)</a>","more":"</p>\n<p><img src='/advance/Screenshot_20180617-181206.png' width='650'/></p>\n<ul>\n<li>python ä½ç½® (æœªä½¿ç”¨ conda æ—¶)</li>\n</ul>\n<p>ä½¿ç”¨ <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ python -m site<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> å¯ä»¥çœ‹åˆ°æœ‰å“ªäº›ç›®å½•.</p>\n<p>ä¸‰ä¸ªéƒ¨åˆ†:</p>\n<ul>\n<li><strong>root</strong>\n<pre>\n/<span style=\"color:#800080\"><b>usr</b></span>/lib/...\n/<span style=\"color:#800080\"><b>usr</b></span>/bin/...\n</pre></li>\n<li><strong>user</strong>\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/lib/...\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>.local</b></span>/bin/...\n</pre></li>\n<li><strong>anaconda/miniconda</strong>\n<pre>\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/lib/...\n/home/&lt;user&gt;/<b><span style=\"color:#800080\">miniconda3</span></b>/</span>/bin/...\n</pre></li>\n<li>conda ç›®å½•ç»“æž„ (å®‰è£…ä¹‹åŽè‡ªåŠ¨ä¿®æ”¹äº†è½¯è¿žæŽ¥,\nä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽç³»ç»Ÿä¼˜å…ˆä½¿ç”¨è¿™ä¸ªä½ç½®)</li>\n</ul>\n<pre>\n/home/&lt;user&gt;/<span style=\"color:#800080\"><b>miniconda3/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>pkgs/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:magenta\">python3</span> -&gt; <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">python3.6</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">jupyter</span>\n    â”‚        â”œâ”€â”€ <span style=\"color:green\">h5dump</span>\n    â”‚        â””â”€â”€ ...\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”œâ”€â”€ <span style=\"color:navy\"><b>envs</b></span>\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env1/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>bin/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>include/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>lib/</b></span>\n    â”‚        â”‚        â”œâ”€â”€ <span style=\"color:dimgray\"><b>share/</b></span>\n    â”‚        â”‚        â””â”€â”€ ...\n    â”‚        â”œâ”€â”€ <span style=\"color:blue\"><b>env2/</b></span>\n    â”‚        â””â”€â”€ ...\n    â””â”€â”€ ...\n</pre>\n<h2 id=\"ipython-jupyter\">IPython &amp; Jupyter</h2>\n<p>å‚è€ƒæ–‡æ¡£ <a href=\"http://jupyter-notebook.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyter-notebook.readthedocs.io/en/stable/</a></p>\n<ul>\n<li>é…ç½®æ–‡ä»¶è·¯å¾„</li>\n</ul>\n<p>ä¸€èˆ¬ç”¨æˆ·é…ç½®æ–‡ä»¶åœ¨ <code>~/.jupyter</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!jupyter <span class=\"token operator\">-</span><span class=\"token operator\">-</span>paths<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>config:\n    /home/lydia/.jupyter\n    /home/lydia/miniconda3/etc/jupyter\n    /usr/local/etc/jupyter\n    /etc/jupyter\ndata:\n    /home/lydia/.local/share/jupyter\n    /home/lydia/miniconda3/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n    /run/user/1000/jupyter</code></pre>\n<ul>\n<li>åˆ—å‡ºæ‰€æœ‰ magic functions:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>lsmagic<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>è¿è¡Œè„šæœ¬:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run script<span class=\"token punctuation\">.</span>py\n<span class=\"token operator\">%</span>run script<span class=\"token punctuation\">.</span>ipynb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>åœ¨å•ä¸ª Cell ä¸­è°ƒç”¨å…¶ä»–è¯­è¨€ (å­è¿›ç¨‹):</li>\n</ul>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">%%sh\ncd ~&#x2F;miniconda3&#x2F;\npwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3</code></pre>\n<p>å¯ä»¥çœ‹åˆ°å®žé™…å¹¶æœªæ”¹å˜å½“å‰ç›®å½• (å› ä¸ºæ˜¯å­è¿›ç¨‹):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/codes/zly/python/python-intro&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>script idl\ncd<span class=\"token punctuation\">,</span> current<span class=\"token operator\">=</span>d\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">,</span> d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro\n\n\nIDL Version 8.2.1 (linux x86_64 m64). (c) 2012, Exelis Visual Information Solutions, Inc.</code></pre>\n<ul>\n<li>é€è¡Œä½¿ç”¨ bash å‘½ä»¤ (æ³¨æ„ä¸åŠ  '!' çš„åŒºåˆ«):</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!idl <span class=\"token operator\">-</span>e field3dgui<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!ls <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¾—åˆ°çš„ç»“æžœå¯ä»¥å­˜å…¥å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">current<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span> !pwd  <span class=\"token comment\"># returns a list</span>\ncurrent<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/python-intro&#39;</code></pre>\n<p>ä¸‹é¢è¿™ä¸¤å¥ä¸èƒ½å†™åœ¨ä¸€ä¸ª Cell ä¸­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token operator\">-</span>q <span class=\"token operator\">~</span><span class=\"token operator\">/</span>miniconda3<span class=\"token operator\">/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/miniconda3&#39;</code></pre>\n<p>ç”¨ <code>&#123;var&#125;</code> (æŽ¨è) æˆ– <code>$var</code> (ä¸æŽ¨è) è°ƒç”¨å½“å‰\nipython çŽ¯å¢ƒçš„å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token punctuation\">&#123;</span>current<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd <span class=\"token string\">\"$current\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cd $current<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/codes/zly/python/python-intro</code></pre>\n<p>è§ <a\nhref=\"http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/\"\nclass=\"uri\">http://mmcdan.github.io/posts/interacting-with-the-shell-via-jupyter-notebook/</a></p>\n<ul>\n<li>åˆ—å‡ºå½“å‰çš„å˜é‡ä¿¡æ¯</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span>\n\n<span class=\"token operator\">%</span>whos <span class=\"token builtin\">int</span> <span class=\"token builtin\">str</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>Variable   Type    Data/Info\n----------------------------\na          int     1\nb          str     x</code></pre>\n<h2 id=\"è¯­æ³•ç»†èŠ‚\">è¯­æ³•ç»†èŠ‚</h2>\n<h3 id=\"python2-python3\">python2 &amp; python3</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python2\n<span class=\"token keyword\">print</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">print</span> <span class=\"token number\">1</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>0\n0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python3\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>0.5\n0</code></pre>\n<p>è¯¦è§ <a href=\"#Python-2--%3E-3-çš„è½¬æ¢\">Python 2 -&gt; 3\nçš„è½¬æ¢</a></p>\n<h3 id=\"list-tuple\">list, tuple</h3>\n<ul>\n<li>å¯¹ list æˆ– tuple, å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶, æ³¨æ„åŠ é€—å·:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>list</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>list</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>int</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>tuple</code></pre>\n<ul>\n<li>èµ‹å€¼, æ˜Ÿå· (<code>*</code>) è¡¨è¾¾å¼ç”¨æ¥å±•å¼€ list/tuple, åŒæ˜Ÿå·\n(<code>**</code>) ç”¨æ¥å±•å¼€ dict (å¸¸ç”¨äºŽå‡½æ•°å‚æ•°è¡¨):</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>c <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\na<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>(0, 1, [2, 3])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>_ <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># æˆ– a, = ...</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<h3 id=\"dict\">dict</h3>\n<ul>\n<li>dict æ”¹å˜æŸä¸ª key ä½† value ä¸å˜çš„æ–¹æ³•</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\nd<span class=\"token punctuation\">[</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ©ç”¨ `pop` è¿”å›žå€¼, æ›´æ”¹ key å€¼</span>\nd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: 1, &#39;c&#39;: 2&#125;</code></pre>\n<ul>\n<li>dict æ±‚å¹¶é›†</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\nd2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>d2<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é‡å¤çš„ key å–åŽä¸€ä¸ªçš„å€¼</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„å…¶ä¸­çš„ list</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d1<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\nd1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;&#39;a&#39;: -1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</code></pre>\n<h3 id=\"set\">set</h3>\n<ul>\n<li>set åŸºæœ¬æ“ä½œ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># one element only</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># iterable: list/tuple/set/...</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3, 4, 5&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;2, 3, 4, 5&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s<span class=\"token punctuation\">.</span>discard<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># No error if not exist</span>\ns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;2, 3, 4, 5&#125;</code></pre>\n<ul>\n<li>set æ±‚äº¤é›†, å¹¶é›†, å·®é›†, å¯¹ç§°å·®é›†, å­é›†</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>intersection<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;2&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># æˆ–ç”¨ and</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;2&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>union<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># æˆ–ç”¨ or</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>difference<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># åœ¨å‰ä¸åœ¨åŽ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>symmetric_difference<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 3&#125;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># ä¸åŒæ—¶åœ¨ä¸¤è¾¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#123;1, 3&#125;</code></pre>\n<ul>\n<li>å±žäºŽ, åŒ…å«äºŽ(å­é›†)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">2</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># list/tuple/set</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">4</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># list/tuple/set</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>issubset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">&lt;=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>issuperset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">>=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<h3 id=\"ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º\">ä¸€äº›ç‰¹æ€§çš„æ¼”ç¤º</h3>\n<p>æ’ä»¶ <a href=\"https://github.com/lgpage/nbtutor\"\nclass=\"uri\">https://github.com/lgpage/nbtutor</a><br> ç½‘é¡µç‰ˆ <a\nhref=\"http://pythontutor.com/\"\nclass=\"uri\">http://pythontutor.com/</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>reload_ext nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f\nl1<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nl2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><a href=\"http://t.cn/Rg9J3bf\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor1.png' width='550'/></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\na <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\nt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># list in tuple</span>\na <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span> <span class=\"token comment\"># change element in list</span>\nt<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'xx'</span> <span class=\"token comment\"># change element in tuple</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(1, 2, [&#39;xx&#39;, 4])</code></pre>\n<p><a href=\"http://t.cn/Rg9idUn\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor2.png' width='550'/></p>\n<h3 id=\"åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯\">åŒ…å«åˆ¤æ–­çš„å•è¡Œå¾ªçŽ¯</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> l <span class=\"token keyword\">if</span> i <span class=\"token operator\">></span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[3, 4, 5]</code></pre>\n<p>ä¾‹å¦‚ç”¨ <code>globals()</code> æ¥å¾—åˆ°å­—ç¬¦ä¸²å½¢å¼çš„å˜é‡å (python\nçš„å˜é‡æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½çš„å…³é”®å­—, å› ä¸º\"å˜é‡å\"å­˜å‚¨åœ¨namespacesä¸­)</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">namestr</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> namespace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>name <span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> namespace <span class=\"token keyword\">if</span> namespace<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> obj<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">for</span> var <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>namestr<span class=\"token punctuation\">(</span>var<span class=\"token punctuation\">,</span> <span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>var<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>a = 1\nb = 2</code></pre>\n<h3 id=\"å•è¡Œ-if-ä¸‰å…ƒå…³ç³»è¿ç®—\">å•è¡Œ if (ä¸‰å…ƒå…³ç³»è¿ç®—)</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token string\">'y'</span> <span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token keyword\">else</span> <span class=\"token string\">'n'</span>\nb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>&#39;y&#39;</code></pre>\n<h3 id=\"å¾ªçŽ¯-è¿­ä»£å™¨-ç”Ÿæˆå™¨\">å¾ªçŽ¯, è¿­ä»£å™¨, ç”Ÿæˆå™¨</h3>\n<p>Python çš„ for å¾ªçŽ¯ä¸ä½¿ç”¨ç´¢å¼•å˜é‡, è€Œä½¿ç”¨éåŽ†<strong>è¿­ä»£å™¨</strong>\n(iterator) çš„æ–¹å¼å¤„ç†<strong>å¯è¿­ä»£å¯¹è±¡</strong> (range, set ç­‰):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>éåŽ†çš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>iter</code> å’Œ <code>next</code> å‡½æ•°:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç”Ÿæˆä¸€ä¸ª range_iterator å¯¹è±¡</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è½¬æ¢ä¸º list</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[0, 1, 2, 3, 4]</code></pre>\n<p><code>enumerate</code> å‡½æ•°é€‚åˆéœ€è¦åŒæ—¶ä½¿ç”¨ç´¢å¼•å’Œå†…å®¹æ—¶ä½¿ç”¨:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> item <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># enumerate()æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</span>\n    i <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    item <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token comment\"># l[i] = ...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ç”Ÿæˆå™¨:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>i<span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># äº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨, å¯è½¬åŒ–æˆ list, tuple</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&lt;generator object &lt;genexpr&gt; at 0x14da87e652b0&gt;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç”Ÿæˆå™¨ä¹Ÿæ˜¯è¿­ä»£å™¨</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>4</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># äº§ç”Ÿä¸€ä¸ª list</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[0, 1, 2]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># è½¬åŒ–æˆ tuple</span>\n<span class=\"token builtin\">tuple</span><span class=\"token punctuation\">(</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>(0, 1, 2)</code></pre>\n<h3 id=\"å‡½æ•°å®šä¹‰\">å‡½æ•°å®šä¹‰</h3>\n<ul>\n<li>ä¸€èˆ¬çš„å‡½æ•°å®šä¹‰:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># func1(x, y, arg1, arg2, ..., key1=val1, key2=val2, ...)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\"># æ²¡æœ‰ return æˆ–ä¸ºç©º åˆ™è¿”å›ž None</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>å•è¡Œå‡½æ•° lambda</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<p>ç”¨ <code>lambda</code> è¯­æ³•æ¥å®šä¹‰:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¸ä¸€å®šéœ€è¦å®šä¹‰å‡½æ•°åç§°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<h3 id=\"å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ\">å‘½åç©ºé—´å’Œå˜é‡ä½œç”¨åŸŸ</h3>\n<p><a\nhref=\"https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html\"\nclass=\"uri\">https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html</a></p>\n<p><img src='/advance/scope_resolution_1.png' width='400' /></p>\n<ul>\n<li>Built-in Functions <a\nhref=\"https://docs.python.org/3/library/functions.html\"\nclass=\"uri\">https://docs.python.org/3/library/functions.html</a></li>\n<li>Built-in Constants <a\nhref=\"https://docs.python.org/3/library/constants.html\"\nclass=\"uri\">https://docs.python.org/3/library/constants.html</a></li>\n</ul>\n<p><code>globals()</code> ä»¥ dict å½¢å¼è¿”å›žå½“å‰æ‰€æœ‰å…¨å±€å˜é‡,\nåŒ…æ‹¬å¯¼å…¥çš„åŒ…å, ipython/jupyter çš„ <code>In</code>, <code>Out</code>\nç­‰.<br> python ä»¥ name -&gt; obj çš„å½¢å¼å­˜å‚¨è¿™äº›å˜é‡.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    i <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">'local'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\nf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">'global'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>2 local\n1 global</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span>\ni  <span class=\"token comment\"># å€¼è¢«æ”¹å˜äº† (â€œleakingâ€)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\ni  <span class=\"token comment\"># ç”¨è¿™ç§æ–¹å¼å°±ä¸ä¼šå‘ç”Ÿâ€œleakingâ€</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<p>æœ‰å…³å‡½æ•°ä¸­çš„å˜é‡ä½œç”¨æ–¹å¼ç»†èŠ‚, å‚è€ƒè¿™é‡Œæåˆ°çš„ä¾‹å­: <a\nhref=\"https://stackoverflow.com/a/575887\">stackoverflow</a></p>\n<blockquote>\n<ul>\n<li><p>Any time you see <font color=blue><strong>varname\n=</strong></font>, you're <strong>creating a new name</strong> binding\nwithin the function's scope.<br>Whatever value <code>varname</code> was\nbound to before is lost within this scope.</p></li>\n<li><p>Any time you see\n<font color=blue><strong>varname.foo()</strong></font>, you're\n<strong>calling a method</strong> on <code>varname</code>. The method\nmay alter <code>varname</code> (e.g. <code>list.append</code>). <br>\n<code>varname</code> (or, rather, the object that <code>varname</code>\nnames) may exist in more than one scope, and since it's the same object,\n<br><strong>any changes will be visible in all scopes</strong>.</p></li>\n</ul>\n</blockquote>\n<h2 id=\"numpy\">NumPy</h2>\n<h3 id=\"numpy-çš„æ•°æ®ç±»åž‹-dtype\">numpy çš„æ•°æ®ç±»åž‹ dtype</h3>\n<p><a href=\"https://www.tutorialspoint.com/numpy/numpy_data_types.htm\"\nclass=\"uri\">https://www.tutorialspoint.com/numpy/numpy_data_types.htm</a>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'i8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'int'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'int64'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>int64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'>i8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">False</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'f8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span><span class=\"token string\">'float64'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> è§ <a\nhref=\"#Fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</a> ä¸­çš„åº”ç”¨.</p>\n<h3 id=\"np.arange-å‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚\">np.arange\nå‚æ•°ä¸ºæµ®ç‚¹æ•°æ—¶è¦æ³¨æ„çš„ç»†èŠ‚</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ä¸åŒ…å« `stop` è¿™ä¸ªç‚¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.3, 0.6, 0.9, 1.2, 1.5])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è¿™é‡Œå´åŒ…æ‹¬äº†, ä¸ºä»€ä¹ˆ?</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.3, 0.6, 0.9, 1.2, 1.5, 1.8, 2.1])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'%.16f'</span> <span class=\"token operator\">%</span> <span class=\"token number\">2.1</span>  <span class=\"token comment\"># å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æ–¹å¼äº§ç”Ÿçš„ç²¾åº¦é—®é¢˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;2.1000000000000001&#39;</code></pre>\n<p>çœ‹ä¸€ä¸ªæ±‚å’Œçš„ä¾‹å­ä¸­åŒæ ·çš„é—®é¢˜ (ç”¨ <code>list</code> å’Œ\n<code>numpy.ndarray</code> æ•ˆæžœä¸€æ ·):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># sum([0.1, ..., 0.1])</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å› ä¸ºåŒæ ·é—®é¢˜, ç´¯ç§¯äº†è¯¯å·®</span>\n\n<span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%.17f'</span> <span class=\"token operator\">%</span> math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>0.10000000000000001\n0.99999999999999989\n1.00000000000000000</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>False</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">math<span class=\"token punctuation\">.</span>fsum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1.0</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<p>å‚è€ƒ <a href=\"https://docs.python.org/3/tutorial/floatingpoint.html\"\nclass=\"uri\">https://docs.python.org/3/tutorial/floatingpoint.html</a></p>\n<p>å»ºè®®æ˜¯: ä½¿ç”¨æ•´æ•°; å¯¹æµ®ç‚¹æ•°çš„æƒ…å†µ, stop å€¼è®¾å¾—ç•¥å°ä¸€äº›\n(æ¯”å¦‚å‡åŽ»æ­¥é•¿çš„ä¸€èˆ¬) ä»¥é˜²æ­¢æ”¹ç‚¹è¢«åŒ…å«, æˆ–ä½¿ç”¨ <code>np.linspace</code>\nä»£æ›¿.</p>\n<h3 id=\"çŸ©é˜µ\">çŸ©é˜µ</h3>\n<p><code>np.matrix</code>(çŸ©é˜µ) æ˜¯ <code>np.ndarray</code>(æ•°ç»„)\nçš„ä¸€ä¸ªå­ç±», ç»§æ‰¿äº†çˆ¶çº§çš„æ–¹æ³•, ä¹Ÿå®šä¹‰äº†æ–°çš„æ–¹æ³• (ä¾‹å¦‚çŸ©é˜µè¿ç®—).</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">issubclass</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>ndarray<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[0, 1, 2],\n        [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span><span class=\"token string\">\"0 1 2; 3 4 5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[0, 1, 2],\n        [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>numpy.matrixlib.defmatrix.matrix</code></pre>\n<p><code>np.asmatrix</code> (æˆ–ç®€å†™ä½œ <code>np.mat</code>) ç›¸å½“äºŽ\n<code>np.matrix(data, copy=False)</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nm <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\nx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[1, 2],\n       [3, 4]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nm <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\nx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[5, 2],\n       [3, 4]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> m<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<p>æ³¨æ„: <code>np.matrix</code> æ—¢æ˜¯ä¸€ä¸ªç±»åä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å, è€Œ\n<code>np.mat</code>, <code>np.asmatrix</code> åªæ˜¯å‡½æ•°å.</p>\n<h3 id=\"æ•°ç»„å’ŒçŸ©é˜µè¿ç®—\">æ•°ç»„å’ŒçŸ©é˜µè¿ç®—</h3>\n<h4 id=\"æ•°ç»„è¿ç®—\">æ•°ç»„è¿ç®—</h4>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>11</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">*</span> a  <span class=\"token comment\"># æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[  0,   1,   4,   9],\n       [ 16,  25,  36,  49],\n       [ 64,  81, 100, 121]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">**</span> <span class=\"token number\">2</span>  <span class=\"token comment\"># æ³¨æ„è¿™æ˜¯å¯¹åº”ä½ç½®çš„å…ƒç´ é—´çš„è¿ç®—</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[  0,   1,   4,   9],\n       [ 16,  25,  36,  49],\n       [ 64,  81, 100, 121]])</code></pre>\n<h4 id=\"ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—\">ä½¿ç”¨æ•°ç»„è¿›è¡ŒçŸ©é˜µè¿ç®—</h4>\n<p><code>scipy.linalg</code> ä¸Ž <code>numpy.linalg</code> çš„æ¯”è¾ƒ: <a\nhref=\"https://scipy.github.io/devdocs/tutorial/linalg.html\"\nclass=\"uri\">https://scipy.github.io/devdocs/tutorial/linalg.html</a>\n&gt;* <code>scipy.linalg</code> contains <strong>all</strong> the\nfunctions in <code>numpy.linalg</code> plus some other more\n<strong>advanced</strong> ones not contained in\n<code>numpy.linalg</code> * Despite its convenience, the use of the\n<code>numpy.matrix</code> class is <strong>discouraged</strong>. *\n<code>scipy.linalg</code> operations can be applied\n<strong>equally</strong> to <code>numpy.matrix</code> or to 2D\n<code>numpy.ndarray</code> objects.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>diagflat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[1., 0., 0.],\n       [0., 2., 0.],\n       [0., 0., 3.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[-1., -1., -1.],\n       [ 0.,  0.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>linalg <span class=\"token keyword\">import</span> inv\ninv<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ±‚é€†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>array([[ 1.        ,  0.        , -0.        ],\n       [ 0.        ,  0.5       , -0.        ],\n       [ 0.        ,  0.        ,  0.33333333]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>dot<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[-1.,  0.],\n       [-2.,  0.],\n       [-3.,  0.]])</code></pre>\n<h4 id=\"ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—\">ç›´æŽ¥ä½¿ç”¨çŸ©é˜µç±»åž‹è¿›è¡Œè¿ç®—</h4>\n<p>ä½¿ç”¨ numpy çš„çŸ©é˜µç±»åž‹ <code>numpy.matrix</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>diagflat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[1., 0., 0.],\n        [0., 2., 0.],\n        [0., 0., 3.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mat<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1., -1., -1.],\n        [ 0.,  0.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">*</span> b<span class=\"token punctuation\">.</span>T  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯, æ³¨æ„ä¸Žæ•°ç»„çš„è¿ç®—ç¬¦å®šä¹‰ä¸åŒ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1.,  0.],\n        [-2.,  0.],\n        [-3.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a @ b<span class=\"token punctuation\">.</span>T  <span class=\"token comment\"># çŸ©é˜µå†…ç§¯çš„æ–°å†™æ³•, python 3.5+</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[-1.,  0.],\n        [-2.,  0.],\n        [-3.,  0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>I  <span class=\"token comment\"># æ±‚é€†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>matrix([[ 1.        ,  0.        , -0.        ],\n        [ 0.        ,  0.5       , -0.        ],\n        [ 0.        ,  0.        ,  0.33333333]])</code></pre>\n<h3 id=\"ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼\">ç”¨ä½œåæ ‡æ ¼ç‚¹çš„æ•°ç»„çš„å‡ ç§å½¢å¼</h3>\n<ul>\n<li><strong><code>np.meshgrid</code></strong></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> x\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> y\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># X, Y å½¢çŠ¶ç›¸åŒ: N x M çŸ©é˜µ, shape=(N, M)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X                         <span class=\"token comment\"># X[j, :] è¡¨ç¤ºåŒä¸€å±‚ y[j] å¯¹åº”çš„ä¸åŒ x å€¼</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  0_____x</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  |</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">#  |y</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> Y\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\"># Y[:, i] è¡¨ç¤ºåŒä¸€å±‚ x[i] å¯¹åº”çš„ä¸åŒ y å€¼</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">6.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å¯ç”¨æ¥è®¡ç®—åæ ‡çš„å‡½æ•° (ä¾‹å¦‚ç£åœºçš„è¡¨è¾¾å¼ç­‰ç­‰, è§ <a\nhref=\"examples/streamplot.py\">examples/streamplot.py</a> )\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">U <span class=\"token operator\">=</span>   <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>k1 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k1 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span>\n     <span class=\"token operator\">-</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>k2 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k2 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nV <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>k1 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k1 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span>\n     <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>k2 <span class=\"token operator\">*</span> X<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> np<span class=\"token punctuation\">.</span>exp<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>k2 <span class=\"token operator\">*</span> Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\ny <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nX<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> indexing<span class=\"token operator\">=</span><span class=\"token string\">'ij'</span><span class=\"token punctuation\">)</span>\nY<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>(3, 4)</code></pre>\n<ul>\n<li><strong><code>np.mgrid</code></strong></li>\n</ul>\n<p><code>j</code> æ ‡è®°é»˜è®¤æ˜¯è™šæ•°å•ä½,\nä½†åœ¨è¿™é‡Œè¡¨ç¤ºå‰é¢çš„æ•°å­—æ˜¯æ ¼ç‚¹æ•°.<br> æ ¼ç‚¹æ•°ä½¿ç”¨å˜é‡\n<em><code>n</code></em> æ—¶, å¯å†™æˆ:\n<em><code>n</code></em><code>*1j + 1j</code>, 1ä¸èƒ½çœ\n(å¦åˆ™jå®šä¹‰ä¸ºå˜é‡)<br> ç±»ä¼¼çš„ <code>np.ogrid</code> å¯å‚è§ numpy\nç›¸å…³æ–‡æ¡£</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ä¸‹é¢ä¸‰è¡Œç­‰ä»·</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>mgrid<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">3j</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">:</span><span class=\"token number\">4j</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> np<span class=\"token punctuation\">.</span>mgrid<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X<span class=\"token punctuation\">,</span> Y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>meshgrid<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> indexing<span class=\"token operator\">=</span><span class=\"token string\">'ij'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># np.mgrid[0:2:3j, 3:6:4j] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'float64'</span>\n<span class=\"token comment\"># np.mgrid[0:3, 3:6] å¾—åˆ°çš„æ•°æ®ç±»åž‹ä¸º 'int64'</span>\n<span class=\"token comment\"># np.meshgrid(x, y, indexing='ij') å¾—åˆ°ä¸€ä¸ª list, æ•°æ®æ ¼å¼åŒx, y</span>\n\n<span class=\"token comment\"># X, Y å½¢çŠ¶ç›¸åŒ: M x N çŸ©é˜µ, shape=(M, N)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> X                      <span class=\"token comment\"># X[i, :] è¡¨ç¤º x[i]</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">#  0_____y</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">#  |</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">#  |x</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> Y                      <span class=\"token comment\"># Y[:, j] è¡¨ç¤º y[j]</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">[</span><span class=\"token number\">3.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"mask\">mask</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">></span> <span class=\"token number\">4</span>  <span class=\"token comment\"># mask</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[False, False, False],\n       [False, False,  True],\n       [ True,  True,  True]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¾—åˆ° tuple(col_indexs, row_indexs)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(array([1, 2, 2, 2]), array([2, 0, 1, 2]))</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>np<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¹Ÿå¯ä»¥ç”¨ np.array(np.where(a > 4)).T</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[(1, 2), (2, 0), (2, 1), (2, 2)]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span>a <span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> a  <span class=\"token comment\"># same as a[np.where(a > 4)]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2],\n       [ 3,  4, -1],\n       [-1, -1, -1]])</code></pre>\n<h3 id=\"å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†\">å…¶ä»–å¯¹æ•°ç»„å…ƒç´ çš„å¤„ç†</h3>\n<p>å¤„ç†å«æœ‰ NaN çš„æ•°æ®:</p>\n<p>e.g. æ±‚æœ€å€¼å¯ä½¿ç”¨ <code>np.nanmin(...)</code> å’Œ\n<code>np.nanmax(...)</code></p>\n<h2 id=\"matplotlib\">Matplotlib</h2>\n<ul>\n<li>å®˜æ–¹æ•™ç¨‹ <a\nhref=\"https://matplotlib.org/tutorials/introductory/usage.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/introductory/usage.html</a></li>\n</ul>\n<p><img src='/advance/anatomy.png' width='600' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gcf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># current figure</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># current `Axes`</span>\nim <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gci<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># current artist(å›¾åƒå†…å®¹), å¯ç”±è¯¸å¦‚ plt.imshow(...) å¾—åˆ°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><p>å¾—åˆ°å½“å‰ backend: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>get_backend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> æˆ– <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> maplotlib <span class=\"token keyword\">as</span> mpl\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> mpl<span class=\"token punctuation\">.</span>get_backend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>é€‰æ‹© backend (åœ¨å¯¼å…¥å…¶ä»– matplotlib æ¨¡å—ä¹‹å‰):\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> matplotlib\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> matplotlib<span class=\"token punctuation\">.</span>use<span class=\"token punctuation\">(</span><span class=\"token string\">'TkAgg'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'Qt5Agg', 'TkAgg', 'Agg', ...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>ç”¨æˆ·é…ç½®æ–‡æ¡£ <code>matplotlibrc</code><br> é€šå¸¸çš„ä½ç½®:\n<code>~/.config/matplotlib/matplotlibrc</code> (Linux)</p></li>\n<li><p>ç”¨ <code>zorder</code> æ¥æŽ§åˆ¶å›¾å±‚:</p></li>\n</ul>\n<p>è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå±•ç¤ºäº†åŠ å…¥ä¸€ä¸ªåŠ¨æ€çš„ç«–çº¿çš„æ–¹æ³•,\nè¿™æ¡çº¿åœ¨ä¿å­˜åŽçš„å›¾åƒä¸­ä¸ä¼šæ˜¾ç¤º.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_plot.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ä½¿ç”¨ <a\nhref=\"https://github.com/joferkington/mpldatacursor\">è¿™ä¸ªå·¥å…·</a>\nåŠ¨æ€æ ‡æ³¨å…‰æ ‡ä½ç½®çš„å€¼:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_imshow.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ç‚¹å‡»å›¾åƒåŽåœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºå…‰æ ‡å¤„ä¿¡æ¯çš„ä¾‹å­</li>\n</ul>\n<p>å‘½ä»¤è¡Œè„šæœ¬: <a\nhref=\"examples/test_imshow_click.py\">examples/test_imshow_click.py</a>\n(jupyter ä¸­æ— æ³•ä½¿ç”¨)</p>\n<ul>\n<li>å¸ƒå±€é—®é¢˜ <a\nhref=\"https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/intermediate/constrainedlayout_guide.html</a></li>\n<li>ç»˜åˆ¶å¹³è¡ŒæŠ•å½±çš„3Då›¾ <a\nhref=\"https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html\"\nclass=\"uri\">https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html</a></li>\n<li>æ›´å¤æ‚çš„ 3D å¯è½¬å­˜å¯è§†åŒ–æ•°æ®ç”¨å…¶ä»–è½¯ä»¶æˆ–ä½¿ç”¨ Mayavi\n(http://docs.enthought.com/mayavi/mayavi)</li>\n</ul>\n<h2 id=\"sunpy-ç¤ºä¾‹\">SunPy ç¤ºä¾‹</h2>\n<h3 id=\"ç¤ºä¾‹æ–‡ä»¶\">ç¤ºä¾‹æ–‡ä»¶</h3>\n<ul>\n<li><p>è¯»å– fits, submap, ä½œå›¾ <a\nhref=\"https://lydiazly.coding.me/python-notes/example_plothmi.html\">example_plothmi</a></p></li>\n<li><p>æŠ•å½± <a\nhref=\"https://lydiazly.coding.me/python-notes/example_projection.html\">example_projection</a></p></li>\n<li><p>ä¸‹è½½æ•°æ® <a\nhref=\"https://lydiazly.coding.me/python-notes/fido.html\">fido</a>, <a\nhref=\"https://lydiazly.coding.me/python-notes/jsoc.html\">jsoc</a></p></li>\n</ul>\n<p>æ³¨æ„: è¿™äº›ä¾‹å­åªæ˜¯æä¾›ä¸€ä¸ªä½¿ç”¨å‚è€ƒ, ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„.</p>\n<h3 id=\"ç¤ºä¾‹ä¸­çš„-fits-è¯»å–æ–¹æ³•\">ç¤ºä¾‹ä¸­çš„ fits è¯»å–æ–¹æ³•</h3>\n<p>æ›´å¤š FITS çš„è¯»å–æ–¹æ³•å‚è§ <a href=\"main.html#FITS-æ–‡ä»¶è¯»å–\">Python\nç®€æ˜“æ•™ç¨‹#FITS-æ–‡ä»¶è¯»å–</a><br> å¦è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/usage/scripts.html\">Astropy\nçš„å‘½ä»¤è¡Œå·¥å…·</a></p>\n<p>è¯»å–<code>HMIMap</code> çš„ä¾‹å­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># å¯¼å…¥ `sunpy.map` çš„æ—¶é—´ä¼šç•¥æœ‰ç‚¹é•¿</span>\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\nsmap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>sunpy.map.sources.sdo.HMIMap</code></pre>\n<p>è¿™æ˜¯ <code>GenericMap</code> çš„ä¸€ä¸ªå­ç±»:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">issubclass</span><span class=\"token punctuation\">(</span>sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>sources<span class=\"token punctuation\">.</span>sdo<span class=\"token punctuation\">.</span>HMIMap<span class=\"token punctuation\">,</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>mapbase<span class=\"token punctuation\">.</span>GenericMap<span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta  <span class=\"token comment\"># headers</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç´¢å¼•ä»Ž 0 å¼€å§‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>numpy.ndarray</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape  <span class=\"token comment\"># (dimy, dimx)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<p><code>smap.data[i, j]</code> ä¸­çš„ i ä¸º Y è½´, å•ä½ä¸º pixel:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> origin<span class=\"token operator\">=</span><span class=\"token string\">'lower'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_205_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<h3 id=\"å…³äºŽ-scaled-image-data\">å…³äºŽ Scaled Image Data</h3>\n<p>è¿™ä¸€éƒ¨åˆ†å°†æ›´ä»”ç»†åœ°æ£€æŸ¥ Astropy å¯¹ç¤ºä¾‹ä¸­çš„ FITS æ–‡ä»¶çš„å¤„ç†.</p>\n<p>å‚è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data\"\nclass=\"uri\">http://docs.astropy.org/en/stable/io/fits/usage/image.html#scaled-data</a></p>\n<blockquote>\n<p>Images are scaled only when either of the BSCALE/BZERO keywords are\npresent in the header and either of their values is not the default\nvalue (BSCALE=1, BZERO=0).</p>\n</blockquote>\n<p>ç”±äºŽ <code>astropy.io.fits</code> çš„ç‰¹æ€§, è¯»å– 'Scaled Image Data'\næ—¶, è°ƒç”¨ <code>.data</code> å°†è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œç¼©æ”¾: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">physical value <span class=\"token operator\">=</span> BSCALE <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>storage value<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> BZERO<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<code>astropy.io.fits.open</code> ä¸­ä½¿ç”¨\n<code>do_not_scale_image_data=True</code> å¯ç¦ç”¨è¿™ä¸€æ­¥éª¤.</p>\n<p>è§ <a\nhref=\"http://docs.astropy.org/en/stable/io/fits/appendix/faq.html#why-is-an-image-containing-integer-data-being-converted-unexpectedly-to-floats\">astropy.io.fits\nFAQ</a></p>\n<p>æ•°æ®ç±»åž‹:</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\">BITPIX</th>\n<th style=\"text-align: left;\">Numpy Data Type</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: left;\">numpy.uint8 (unsigned integer)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\">16</td>\n<td style=\"text-align: left;\">numpy.int16</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">32</td>\n<td style=\"text-align: left;\">numpy.int32</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\">-32</td>\n<td style=\"text-align: left;\">numpy.float32</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\">-64</td>\n<td style=\"text-align: left;\">numpy.float64</td>\n</tr>\n</tbody>\n</table>\n<p>å¯ä»¥ä½¿ç”¨ Astropy çš„å‘½ä»¤è¡Œå·¥å…·åœ¨ shell ä¸­æŸ¥çœ‹ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\n!fitsinfo <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Filename: data/hmi.B_720s.20150827_052400_TAI.field.fits\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU       6   ()      \n  1                1 CompImageHDU    155   (4096, 4096)   int32   </code></pre>\n<p>å¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç±»åž‹æ˜¯æ•´å½¢.</p>\n<p>ç”¨å‘½ä»¤è¡Œå·¥å…·æŸ¥çœ‹å…³é”®å­— 'BITPIX':</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!fitsheader <span class=\"token operator\">-</span>e <span class=\"token number\">1</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>keyword BITPIX <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code># HDU 1 in data/hmi.B_720s.20150827_052400_TAI.field.fits:\nBITPIX  =                   32 / data type of original image                    </code></pre>\n<p>ä½¿ç”¨ <code>astropy.io.fits</code>:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\nhdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<p>'BSCALE' ä¸ä¸ºé›¶åˆ™ä¸º 'scaled':</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>verify<span class=\"token punctuation\">(</span><span class=\"token string\">'silentfix+warn'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è°ƒç”¨ `.data` æ—¶å¦‚æžœå‡ºé”™, éœ€è¦å…ˆè¿›è¡Œè¿™ä¸€æ­¥ä¿®å¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dtype  <span class=\"token comment\"># å·²è‡ªåŠ¨å˜æ¢ä¸º 'physical value', åŒæ—¶ `.header` å°†è¢«ä¿®æ”¹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>dtype(&#39;float64&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>142.83</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># -2147483648 è¢«è½¬ä¸º nan</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>nan</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å€¼è¢«æ”¹å˜äº†. åŒæ—¶ 'BSCALE', 'BZERO' è¢«åˆ é™¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>-64</code></pre>\n<p>æ‰‹åŠ¨ scale:</p>\n<p>'BSCALE' è™½ç„¶ä¹‹å‰å·²è¢«åˆ é™¤, ä½†å€¼ä»å­˜å‚¨åœ¨ <code>._orig_bscale</code>\nä¸­. <code>.scale</code> å°†ä½¿ç”¨è¿™ä¸ªå€¼.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">(</span><span class=\"token string\">'int32'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åœ¨æ­¤ä¹‹åŽ `.data` å°†å˜æ¢å›ž 'storage value'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>_orig_bscale<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>_orig_bzero<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>14283</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># nan è¢«è½¬ä¸º -2147483648</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>-2147483648</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å€¼å†æ¬¡è¢«æ”¹å˜äº†</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<p>ä½¿ç”¨ SunPy å¤„ç†æ—¶, 'BITPIX', 'BSCALE', 'BZERO' çš„å€¼è¢«ä¿ç•™,\n<code>.data</code> ä»è¿›è¡Œäº† scale çš„è¿‡ç¨‹.</p>\n<p>é’ˆå¯¹ä¸åŒæ–‡ä»¶, å¦‚æžœ SunPy çš„ç¨‹åºå†…éƒ¨ä½¿ç”¨ <code>astropy.io.fits</code>\nå¤„ç†æ–‡ä»¶æ—¶è°ƒç”¨äº† <code>.data</code> å†è¿”å›ž header, å³\n<code>astropy.io.fits</code> å·²ç»å¦‚ä¸Šæ‰€è¿°æ”¹å˜äº† header, é‚£ä¹ˆ SunPy\næ‰€è¿”å›žçš„ header ä¸­ 'BITPIX', 'BSCALE', 'BZERO' å¯èƒ½å·²ç»è¢«æ”¹å˜.</p>\n<p>ä¸‹é¢çš„ä¾‹å­ä¸­å¾—åˆ°çš„ header æ˜¯æœ€åˆçš„å€¼:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\nsmap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å¾—åˆ°çš„æ˜¯æœªè¢«æ”¹å˜çš„ header</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># è¿™ä¸€æ­¥å¹¶ä¸æ”¹å˜ `.meta` çš„å€¼</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>142.83</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BITPIX'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>32</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BSCALE'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.01</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'BZERO'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0.0</code></pre>\n<h3 id=\"åæ ‡å’Œå•ä½\">åæ ‡å’Œå•ä½</h3>\n<p><strong>SunPy map</strong> <a\nhref=\"http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/code_ref/map.html#using-map-objects</a>\n&gt;A number of the <strong>properties</strong> of this class are\nreturned as <strong>two-value named tuples</strong> that can either be -\nindexed by\nposition:â€‚<strong><font color=blue>[0]</font>,â€‚<font color=blue>[1]</font></strong>\n- be accessed by the names: - pixel\naxes:â€‚<strong><font color=blue>.x</font>,â€‚<font color=blue>.y</font></strong><br>\nx and y refer to the FITS axes (x for columns y for rows) - spatial\naxes:â€‚<strong><font color=blue>.axis1</font>,â€‚<font color=blue>.axis2</font></strong><br>\naxis1 corresponds to the coordinate axis for x and axis2 corresponds to\ny.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>PixelPair(x=&lt;Quantity 4096. pix&gt;, y=&lt;Quantity 4096. pix&gt;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x  <span class=\"token comment\"># å¾—åˆ°ä¸€ä¸ª `astropy.units.quantity.Quantity`, åŒ…å« value å’Œ unit</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>(4096 ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>unit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>value<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>4096.0</code></pre>\n<p><code>astropy.units</code> çš„ä½¿ç”¨æ–¹æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> astropy<span class=\"token punctuation\">.</span>units <span class=\"token keyword\">as</span> u<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">u<span class=\"token punctuation\">.</span>AA<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">4096</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># same as `u.pixel`</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>(4096 ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">(</span><span class=\"token number\">4096</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># æ³¨æ„è¿™é‡Œæ˜¯ `astropy.units` çš„è¿ç®—, å’Œ list è¿ç®—è§„åˆ™ä¸åŒ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>([4096,~4096] ; )</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>dimensions<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span>unit <span class=\"token keyword\">is</span> u<span class=\"token punctuation\">.</span>pix  <span class=\"token comment\"># è¯´æ˜Ž x æ˜¯å•ä½æ˜¯ u.pix</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>smap<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n  lon=self.heliographic_longitude,\n\n\n\n\n\nastropy.coordinates.sky_coordinate.SkyCoord</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[&lt;Quantity 0. pix&gt;, &lt;Quantity 0. pix&gt;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">4096</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;): (Tx, Ty) in arcsec\n    (-1040.36199634, -1030.86554911)&gt;</code></pre>\n<p>æŸ¥çœ‹ <code>SkyCoord</code> çš„å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> astropy<span class=\"token punctuation\">.</span>coordinates\n<span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>astropy<span class=\"token punctuation\">.</span>coordinates<span class=\"token punctuation\">.</span>sky_coordinate<span class=\"token punctuation\">.</span>SkyCoord<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">.</span>Tx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>()</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (Helioprojective: obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;): (Tx, Ty) in arcsec\n    (16.55031204, 26.53575639)&gt;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>pixel_to_world<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> u<span class=\"token punctuation\">.</span>pix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>transform_to<span class=\"token punctuation\">(</span><span class=\"token string\">'heliographic_stonyhurst'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&lt;SkyCoord (HeliographicStonyhurst: obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, km)\n    (1.00568591, 8.68202918, 696000.0000022)&gt;</code></pre>\n<p>æŸ¥çœ‹åæ ‡ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>coordinate_frame<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/mapbase.py:669: Warning: Missing metadata for heliographic longitude: assuming longitude of 0 degrees\n  lon=self.heliographic_longitude,\n\n\n\n\n\n&lt;Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;)&gt;</code></pre>\n<p>å‡ºçŽ°è¿™ä¸ª Warning æ—¶:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">;</span> smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">;</span> smap<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">[</span><span class=\"token string\">'hgln_obs'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.</span>\nsmap<span class=\"token punctuation\">.</span>coordinate_frame<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&lt;Helioprojective Frame (obstime=2015-08-27 05:22:21.800000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2015-08-27 05:22:21.800000): (lon, lat, radius) in (deg, deg, m)\n    (0., 7.089004, 1.51196988e+11)&gt;)&gt;</code></pre>\n<h3 id=\"è¯­æ³•å¯¹æ¯”\">è¯­æ³•å¯¹æ¯”</h3>\n<p>æ¯”è¾ƒ <code>plothmi.py</code> ä¸Žå¯¹åº” IDL ç¨‹åºçš„è¯­æ³•:</p>\n<p>ä¸‹é¢çš„è¯­å¥ä¸­, ä¸ºäº†ç®€ä¾¿å’Œæ–¹ä¾¿å¯¹æ¯”, ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ä¸€äº›å‡½æ•°. å¯¼å…¥æ–¹æ³•:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> usr_sunpy <span class=\"token keyword\">import</span> read_sdo<span class=\"token punctuation\">,</span> plot_map<span class=\"token punctuation\">,</span> plot_vmap<span class=\"token punctuation\">,</span> image_to_helio<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<p>è¯»å–æ•°æ® <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nread_sdo,&lt;fname&gt;,index,data\nindex2map,index,data,mapa<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># ä¸ºç®€åŒ–è¿‡ç¨‹è€Œè‡ªå®šä¹‰çš„å‡½æ•°, è¯»å…¥æ—¶æ‰“å°æ–‡ä»¶åå’Œæ•°ç»„å¤§å°</span>\nmapa <span class=\"token operator\">=</span> read_sdo<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>fname<span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>æ—‹è½¬ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\n; 2 è¡¨ç¤º180Â°\nmapbx.data &#x3D; rotate(mapbx,2)\nmapby.data &#x3D; rotate(mapbx,2)\nmapbz.data &#x3D; rotate(mapbx,2)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># åˆ©ç”¨ 'crota2' çš„å€¼ç¡®å®šè§’åº¦</span>\nmapbx <span class=\"token operator\">=</span> mapbx<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nmapby <span class=\"token operator\">=</span> mapby<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nmapbz <span class=\"token operator\">=</span> mapbz<span class=\"token punctuation\">.</span>rotate<span class=\"token punctuation\">(</span>order<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>æˆªå– <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nsub_map,mapbx,smapbx,xrange&#x3D;[500,800.0],yrange&#x3D;[-500,-100.0]\nsub_map,mapby,smapby,ref_map&#x3D;smapbx\nsub_map,mapbz,smapbz,ref_map&#x3D;smapbx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># å·¦ä¸‹åˆ°å³ä¸Š</span>\nbl <span class=\"token operator\">=</span> SkyCoord<span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">500</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> frame<span class=\"token operator\">=</span>mapbz<span class=\"token punctuation\">.</span>coordinate_frame<span class=\"token punctuation\">)</span>\ntr <span class=\"token operator\">=</span> SkyCoord<span class=\"token punctuation\">(</span><span class=\"token number\">800</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">100.</span><span class=\"token operator\">*</span>u<span class=\"token punctuation\">.</span>arcsec<span class=\"token punctuation\">,</span> frame<span class=\"token operator\">=</span>mapbz<span class=\"token punctuation\">.</span>coordinate_frame<span class=\"token punctuation\">)</span>\nsmapbx <span class=\"token operator\">=</span> mapbx<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span>\nsmapby <span class=\"token operator\">=</span> mapby<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span>\nsmapbz <span class=\"token operator\">=</span> mapbz<span class=\"token punctuation\">.</span>submap<span class=\"token punctuation\">(</span>bl<span class=\"token punctuation\">,</span> tr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>ç»˜å›¾ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\nplot_map,smapbz,dmax&#x3D;2000,dmin&#x3D;-2000,color&#x3D;0,charsize&#x3D;1.8,...\nplot_vmap,&#x2F;over,smapbx,smapby,mapbz&#x3D;smapbz,limit&#x3D;180,scale&#x3D;0.012,iskip&#x3D;15,jskip&#x3D;15,...<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># ä¸»è¦è°ƒç”¨çš„æ˜¯ matplotlib</span>\nfig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> fig<span class=\"token punctuation\">.</span>add_subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">,</span> projection<span class=\"token operator\">=</span>smapbz<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ä½¿ç”¨ smapbz ä¸­å®šä¹‰çš„åæ ‡ç³»ç»Ÿ</span>\nplot_map<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">)</span>\nplot_vmap<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbx<span class=\"token punctuation\">,</span> smapby<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">,</span> iskip<span class=\"token operator\">=</span>iskip<span class=\"token punctuation\">,</span> jskip<span class=\"token operator\">=</span>jskip<span class=\"token punctuation\">,</span> cmin<span class=\"token operator\">=</span><span class=\"token number\">100.</span><span class=\"token punctuation\">,</span> vmax<span class=\"token operator\">=</span><span class=\"token number\">500.</span><span class=\"token punctuation\">,</span> cmap<span class=\"token operator\">=</span><span class=\"token string\">'binary'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>åæ ‡å˜æ¢ <pre class=\"line-numbers language-idl\" data-language=\"idl\"><code class=\"language-idl\">; IDL\n; magnetic_modeling_codes&#x2F;...&#x2F;05projection_modified_version.pro<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Python</span>\n<span class=\"token comment\"># `image_to_helio`(å˜æ¢ä¸º Helioprojective(Cartesian) system)</span>\n<span class=\"token comment\"># è°ƒç”¨è‡ªå®šä¹‰çš„æ—‹è½¬çŸ©é˜µå‡½æ•° `proj_matrix`, å‚è€ƒæ–‡çŒ®ä¸ŽåŽŸIDLç¨‹åºç›¸åŒ</span>\nhx<span class=\"token punctuation\">,</span> hy <span class=\"token operator\">=</span> image_to_helio<span class=\"token punctuation\">(</span>smapbz<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># numpy æ•°ç»„</span>\nsmapbx_h<span class=\"token punctuation\">,</span> smapby_h<span class=\"token punctuation\">,</span> smapbz_h <span class=\"token operator\">=</span> image_to_helio<span class=\"token punctuation\">(</span>smapbx<span class=\"token punctuation\">,</span> smapby<span class=\"token punctuation\">,</span> smapbz<span class=\"token punctuation\">)</span> <span class=\"token comment\"># sunpy `Map`</span>\n\nplot_map<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbz_h<span class=\"token punctuation\">,</span> coords<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>hx<span class=\"token punctuation\">,</span> hy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nplot_vmap<span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">,</span> smapbx_h<span class=\"token punctuation\">,</span> smapby_h<span class=\"token punctuation\">,</span> smapbz_h<span class=\"token punctuation\">,</span> coords<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>hx<span class=\"token punctuation\">,</span> hy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h2 id=\"æ’å€¼-æ‹Ÿåˆ\">æ’å€¼, æ‹Ÿåˆ</h2>\n<p>é€‰æ‹©ä¸é™äºŽè¿™é‡Œåˆ—ä¸¾çš„åŒ…, ä»¥åŽä¹Ÿå¯èƒ½ä¼šæœ‰æ›´åˆé€‚çš„æ–¹æ³•å‡ºçŽ°.</p>\n<p>ç›¸å…³å®‰è£…è§ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a></p>\n<h3 id=\"æ’å€¼\">æ’å€¼</h3>\n<ul>\n<li><p>numpy <pre class=\"line-numbers language-none\"><code class=\"language-none\">f &#x3D; interp1d(x, y, kind&#x3D;&#39;cubic&#39;[, fill_value&#x3D;&#39;extrapolate&#39;])\nx2 &#x3D; np.linspace(...)\ny2 &#x3D; f(x2)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> è§ <a\nhref=\"examples/test_plot.py\">examples/test_plot.py</a></p></li>\n<li><p>scipy <a\nhref=\"https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html\"\nclass=\"uri\">https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html</a></p></li>\n</ul>\n<h3 id=\"æ±‚æžå€¼\">æ±‚æžå€¼</h3>\n<ul>\n<li>PeakUtils <a href=\"http://peakutils.readthedocs.io/en/latest/\"\nclass=\"uri\">http://peakutils.readthedocs.io/en/latest/</a></li>\n</ul>\n<p>å®˜æ–¹ä¾‹å›¾\n(http://peakutils.readthedocs.io/en/latest/tutorial_a.html):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> peakutils\nindexes <span class=\"token operator\">=</span> peakutils<span class=\"token punctuation\">.</span>indexes<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> thres<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> min_dist<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src='/advance/tut_a_2.png' width='500' /></p>\n<p>Enhancing the resolution by interpolation: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">peaks_x <span class=\"token operator\">=</span> peakutils<span class=\"token punctuation\">.</span>interpolate<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ind<span class=\"token operator\">=</span>indexes<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<h3 id=\"æ‹Ÿåˆ\">æ‹Ÿåˆ</h3>\n<ul>\n<li>LMFIT (Non-Linear Least-Squares Minimization and Curve-Fitting)</li>\n</ul>\n<p>ä¸‹è½½ <a href=\"https://github.com/lmfit/lmfit-py\"\nclass=\"uri\">https://github.com/lmfit/lmfit-py</a></p>\n<p>æ–‡æ¡£ <a href=\"http://lmfit.github.io/lmfit-py/\"\nclass=\"uri\">http://lmfit.github.io/lmfit-py/</a></p>\n<p>æœ‰çŽ°æˆæ¨¡åž‹, ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡åž‹.<br>\nå¯ä»¥æ–¹ä¾¿åœ°å åŠ ä¸åŒæ‹Ÿåˆæ¨¡åž‹(æ¯”å¦‚å¤šä¸ªé«˜æ–¯, çº¿æ€§åŠ é«˜æ–¯, ç­‰ç­‰).<br> ä¾‹å­è§\n<a href=\"examples/lmfits.zip\">examples/lmfits</a> (æ¥è‡ª <a\nhref=\"http://lmfit.github.io/lmfit-py/builtin_models.html#example-1-fit-peak-data-to-gaussian-lorentzian-and-voigt-profiles\">LMFITç½‘ç«™ç¤ºä¾‹</a>\n)</p>\n<p>ä½¿ç”¨å†…ç½®æ¨¡åž‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> lmfit<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> GaussianModel  <span class=\"token comment\"># å†…ç½®çš„æ¨¡åž‹</span>\n\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'test_peak.dat'</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\ny <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\nmod <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å®žä¾‹åŒ–ä¸€ä¸ªæ¨¡åž‹</span>\npars <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç»™åˆå€¼</span>\nout <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> pars<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ‹Ÿåˆç»“æžœ</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">.</span>fit_report<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ‹Ÿåˆç»“æžœçš„è¯¦ç»†ä¿¡æ¯</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>init_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'k--'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>best_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'r-'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peak<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[[Model]]\n    Model(voigt)\n[[Fit Statistics]]\n    # fitting method   = leastsq\n    # function evals   = 21\n    # data points      = 401\n    # variables        = 4\n    chi-square         = 10.9301767\n    reduced chi-square = 0.02753193\n    Akaike info crit   = -1436.57602\n    Bayesian info crit = -1420.60017\n[[Variables]]\n    sigma:      0.89518909 +/- 0.01415450 (1.58%) (init = 0.8775)\n    center:     9.24374847 +/- 0.00441903 (0.05%) (init = 9.25)\n    amplitude:  34.1914737 +/- 0.17946860 (0.52%) (init = 65.43358)\n    gamma:      0.52540198 +/- 0.01857955 (3.54%) (init = 0.7)\n    fwhm:       3.22385343 +/- 0.05097475 (1.58%) == &#39;3.6013100*sigma&#39;\n    height:     10.0872204 +/- 0.03482130 (0.35%) == &#39;amplitude*wofz((1j*gamma)/(sigma*sqrt(2))).real/(sigma*sqrt(2*pi))&#39;\n[[Correlations]] (unreported correlations are &lt; 0.100)\n    C(sigma, gamma)     = -0.928\n    C(amplitude, gamma) =  0.821\n    C(sigma, amplitude) = -0.651</code></pre>\n<figure>\n<img src=\"/advance/advance_279_1.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>å¤šä¸ªæ¨¡åž‹å åŠ :</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> lmfit<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> ExponentialModel<span class=\"token punctuation\">,</span> GaussianModel\n\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'NIST_Gauss2.dat'</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\ny <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\nexp_mod <span class=\"token operator\">=</span> ExponentialModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'exp_'</span><span class=\"token punctuation\">)</span>\ngauss1 <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'g1_'</span><span class=\"token punctuation\">)</span>\ngauss2 <span class=\"token operator\">=</span> GaussianModel<span class=\"token punctuation\">(</span>prefix<span class=\"token operator\">=</span><span class=\"token string\">'g2_'</span><span class=\"token punctuation\">)</span>\n\npars1 <span class=\"token operator\">=</span> exp_mod<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ†æ®µè®¾å‚æ•°çš„æ–¹æ³•è§ä¸‹é¢çš„è„šæœ¬æ–‡ä»¶</span>\npars2 <span class=\"token operator\">=</span> gauss1<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\npars3 <span class=\"token operator\">=</span> gauss2<span class=\"token punctuation\">.</span>guess<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\n\npars <span class=\"token operator\">=</span> pars1 <span class=\"token operator\">+</span> pars2 <span class=\"token operator\">+</span> pars3  <span class=\"token comment\"># å åŠ å‚æ•°</span>\nmod <span class=\"token operator\">=</span> gauss1 <span class=\"token operator\">+</span> gauss2 <span class=\"token operator\">+</span> exp_mod  <span class=\"token comment\"># å åŠ æ¨¡åž‹</span>\n\nout <span class=\"token operator\">=</span> mod<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> pars<span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">.</span>fit_report<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>init_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'k--'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">.</span>best_fit<span class=\"token punctuation\">,</span> <span class=\"token string\">'r-'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>capture output\n<span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peaks<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">output<span class=\"token punctuation\">.</span>outputs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_283_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>capture output\n<span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>lmfits<span class=\"token operator\">/</span>fit_peaks_components<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">output<span class=\"token punctuation\">.</span>outputs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<figure>\n<img src=\"/advance/advance_285_0.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>è‡ªå®šä¹‰æ¨¡åž‹çš„æ–¹æ³•è§ <a\nhref=\"http://lmfit.github.io/lmfit-py/builtin_models.html#user-defined-models\">LMFITç½‘ç«™ç¤ºä¾‹</a></p>\n<h3 id=\"å…¶ä»–\">å…¶ä»–</h3>\n<ul>\n<li>Sherpa(Modeling and Fitting) <a\nhref=\"http://cxc.cfa.harvard.edu/contrib/sherpa/\"\nclass=\"uri\">http://cxc.cfa.harvard.edu/contrib/sherpa/</a><br></li>\n<li>2-D Fitting in Sherpa <a\nhref=\"https://python4astronomers.github.io/fitting/image.html\"\nclass=\"uri\">https://python4astronomers.github.io/fitting/image.html</a><br></li>\n<li><em>etc.</em></li>\n</ul>\n<h2 id=\"copy-æ³¨æ„äº‹é¡¹\">copy æ³¨æ„äº‹é¡¹</h2>\n<p><strong>\"shallow copy\"</strong> vs <strong>\"deep copy\"</strong></p>\n<ul>\n<li>å¯¹äºŽ list çš„æƒ…å†µ</li>\n</ul>\n<p>æ¼”ç¤ºæ’ä»¶ <a href=\"https://github.com/lgpage/nbtutor\"\nclass=\"uri\">https://github.com/lgpage/nbtutor</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nd <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># åˆ—è¡¨çš„åˆ‡ç‰‡æ˜¯æ·±æ‹·è´</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>23284866388232 23284866388232 23284855519880 23284856061064</code></pre>\n<p><a href=\"http://t.cn/RgK1OHf\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor3.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ dict çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´</span>\nd <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>22492371132064 22492371132064 22492397510376 22492397507280</code></pre>\n<p><a href=\"http://t.cn/RgKrHOx\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor4.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ set çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>\nb <span class=\"token operator\">=</span> a\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´</span>\nd <span class=\"token operator\">=</span> deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nb<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nc<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\nd<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>22492476895528 22492476895528 22492476895304 22492374233384</code></pre>\n<p><a href=\"http://t.cn/RgKd3E7\">ç½‘é¡µç‰ˆæ¼”ç¤º</a></p>\n<p><img src='/advance/nbtutor5.png' width='550'/></p>\n<ul>\n<li>å¯¹äºŽ numpy çš„æƒ…å†µ</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\na <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nb <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># æµ…æ‹·è´!</span>\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·±æ‹·è´, åŒ deepcopy(a)</span>\nd <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># èŠ±å¼åˆ‡ç‰‡æ˜¯æ·±æ‹·è´</span>\nb<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\nc<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># id è™½å„ä¸åŒ, ä½† .__array_interface__['data'][0] å¯èƒ½ç›¸åŒ</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">.</span>__array_interface__<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>22928831926400 93879086511872\n22928831928960 93879086511872\n22928829201984 93879072448320\n22928829199344 93879078700736</code></pre>\n<p><a href=\"http://t.cn/Rg9hST6\">ç½‘é¡µç‰ˆæ¼”ç¤º</a> (<strong>Site\nError</strong>: Ruby and Python+Anaconda backends are permanently\nunavailable)</p>\n<p>å‚è§ä¹‹å‰çš„ <a href=\"#çŸ©é˜µ\">np.matrix, np.asmatrix</a></p>\n<h2 id=\"å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\">å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™</h2>\n<h3 id=\"ç”¨-pandas-è¯»-csv\">ç”¨ pandas è¯» csv</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\ndata <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"data/data.csv\"</span><span class=\"token punctuation\">)</span>\ndata<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ncol1\n</th>\n<th>\ncol2\n</th>\n<th>\ncol3\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\nrow1\n</td>\n<td>\n1\n</td>\n<td>\n10.0\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\nrow2\n</td>\n<td>\n2\n</td>\n<td>\n0.2\n</td>\n</tr>\n<tr>\n<th>\n2\n</th>\n<td>\nrow3\n</td>\n<td>\n3\n</td>\n<td>\n300.0\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>columns<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>Index([&#39;col1&#39;, &#39;col2&#39;, &#39;col3&#39;], dtype=&#39;object&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>col1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0    row1\n1    row2\n2    row3\nName: col1, dtype: object</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data<span class=\"token punctuation\">[</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>0    row1\n1    row2\n2    row3\nName: col1, dtype: object</code></pre>\n<p>åªå–ä¸€éƒ¨åˆ†:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"data/data.csv\"</span><span class=\"token punctuation\">,</span> nrows<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> usecols<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndata<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ncol1\n</th>\n<th>\ncol3\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\nrow1\n</td>\n<td>\n10.0\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\nrow2\n</td>\n<td>\n0.2\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>å¯¹äºŽè¶…å¤§æ–‡ä»¶, å‚è§: <a\nhref=\"https://www.dataquest.io/blog/pandas-big-data/\"\nclass=\"uri\">https://www.dataquest.io/blog/pandas-big-data/</a></p>\n<h3 id=\"fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</h3>\n<h4 id=\"unformatted-sequential\">Unformatted (sequential)</h4>\n<p>ä½¿ç”¨ <code>scipy.io.FortranFile</code><br> å‚è€ƒ: <a\nhref=\"https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html\"\nclass=\"uri\">https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.io.FortranFile.read_record.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (write)</span>\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> FortranFile\nvar1 <span class=\"token operator\">=</span> <span class=\"token number\">1.1</span>  <span class=\"token comment\"># '&lt;f8'</span>\nvar2 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  <span class=\"token comment\"># '&lt;i8'</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># '(2, 3)&lt;f8'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'arr[0, 1] = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># å¤šè¡Œå­˜å…¥</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-1.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var2<span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å•è¡Œå­˜å…¥</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write_record<span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\narr[0, 1] = 1.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (read)</span>\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> FortranFile\n<span class=\"token comment\"># å¤šè¡Œå­˜å…¥çš„æƒ…å†µ</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-1.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    var1 <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    var2 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„ç²¾åº¦(ä¸Šé¢pythonå­˜å…¥çš„æ˜¯é»˜è®¤'int64')</span>\n    arr <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token string\">'(2, 3)&lt;f8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data_fortran1-1.dat'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å•è¡Œå­˜å…¥çš„æƒ…å†µ</span>\n<span class=\"token keyword\">with</span> FortranFile<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran1-2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n<span class=\"token comment\">#     data = f.read_record('&lt;f8, &lt;i8, (2, 3)&lt;f8')  # ä¸æŒ‡å®šåç§°</span>\n    data <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read_record<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'var1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'var2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;i8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                         <span class=\"token punctuation\">(</span><span class=\"token string\">'arr'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'(2, 3)&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æŒ‡å®šåç§°: (name, dtype)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\ndata_fortran1-2.dat'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'keys = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>data<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">.</span>names<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¦‚è¯»å–æ—¶æœªæŒ‡å®šåç§°åˆ™ä¸º ['f0', 'f1', ...]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'var1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'var2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'arr'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>data_fortran1-1.dat\n1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\n\ndata_fortran1-2.dat\nkeys = (&#39;var1&#39;, &#39;var2&#39;, &#39;arr&#39;)\n1.1 0\n[[[0. 1. 2.]\n  [3. 4. 5.]]]</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token builtin class-name\">cd</span> examples/\nifort -o test_read_seq test_read_seq.f90\n./test_read_seq<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code> data_fortran1-1.dat\n   1.1  0.0\n   0.0  1.0  2.0\n   3.0  4.0  5.0\n arr(2, 1) =   1.0\n\n data_fortran1-2.dat\n   1.1  0.0\n   0.0  1.0  2.0\n   3.0  4.0  5.0\n arr(2, 1) =   1.0</code></pre>\n<p>è§ Structured arrays: <a\nhref=\"https://docs.scipy.org/doc/numpy/user/basics.rec.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/basics.rec.html</a></p>\n<h4 id=\"unformatted-stream\">Unformatted (stream)</h4>\n<p><code>struct</code> å‚è€ƒ <a\nhref=\"https://docs.python.org/3/library/struct.html\"\nclass=\"uri\">https://docs.python.org/3/library/struct.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (write)</span>\n<span class=\"token keyword\">import</span> struct\nvar1 <span class=\"token operator\">=</span> <span class=\"token number\">1.1</span>  <span class=\"token comment\"># '&lt;f8'</span>\nvar2 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  <span class=\"token comment\"># '&lt;i8'</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># '(2, 3)&lt;f8'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'arr[0, 1] = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>struct<span class=\"token punctuation\">.</span>pack<span class=\"token punctuation\">(</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> var1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>struct<span class=\"token punctuation\">.</span>pack<span class=\"token punctuation\">(</span><span class=\"token string\">'i'</span><span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„ `struct` çš„ 'i' æ˜¯ '&lt;i4'</span>\n    arr<span class=\"token punctuation\">.</span>tofile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]\narr[0, 1] = 1.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python (read)</span>\n<span class=\"token comment\"># ä½¿ç”¨ `np.fromfile`, è¯»å…¥çš„æ˜¯ `ndarray`</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data_fortran2.dat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    var1 <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    var2 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;i4'</span><span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>fromfile<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'&lt;f8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>var1<span class=\"token punctuation\">,</span> var2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>1.1 0\n[[0. 1. 2.]\n [3. 4. 5.]]</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token builtin class-name\">cd</span> examples/\nifort -o test_read_stream test_read_stream.f90\n./test_read_stream<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>  1.1 0.0\n  0.0 1.0 2.0\n  3.0 4.0 5.0\n arr(2, 1) =  1.0</code></pre>\n<h3 id=\"hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–\">HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF\næ–‡ä»¶è¯»å–</h3>\n<h4 id=\"è¯»å†™-hdf5-æ–‡ä»¶-è¯»-ncdf-æ–‡ä»¶\">è¯»å†™ HDF5 æ–‡ä»¶, è¯» NCDF æ–‡ä»¶</h4>\n<p>HDF5 æ ¼å¼ä»‹ç» <a\nhref=\"https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5\"\nclass=\"uri\">https://portal.hdfgroup.org/display/HDF5/Introduction+to+HDF5</a></p>\n<p>ç›¸å…³åŒ…: <code>h5py</code> æˆ– <code>pandas</code> +\n<code>pytables</code>\n(http://www.pytables.org/usersguide/datatypes.html)</p>\n<p>å®‰è£…è§ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a></p>\n<ul>\n<li>æŸ¥çœ‹</li>\n</ul>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">$ h5dump -H &lt;filename&gt;.hdf5\n$ ncdump -h &lt;filename&gt;.ncdf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>ç”¨ <code>h5py</code> è¯»å†™:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> h5py\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> h5py<span class=\"token punctuation\">.</span>File<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr\n    <span class=\"token comment\"># æˆ–</span>\n    <span class=\"token comment\"># f.create_dataset('data', data=arr)</span>\n    <span class=\"token comment\"># å…¶ä¸­ compression='gzip', compression_opts=[0-9], å¯åˆ†æ¡ç›®ç”¨ä¸åŒåŽ‹ç¼©</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'lb'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>â€ƒè¯»çº¯ HDF5/NCDF æ–‡ä»¶: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> h5py<span class=\"token punctuation\">.</span>File<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb']</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> â€ƒè¯» pandas å­˜çš„æ–‡ä»¶:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># f['&lt;key>'] å¾—åˆ°çš„æ˜¯ Dataset æˆ– Group çš„å¼•ç”¨</span>\n<span class=\"token comment\"># ç”¨ f['&lt;key>'].value æˆ–åˆ‡ç‰‡ f['&lt;key>'][:] å¾—åˆ°åŽŸæ¥çš„æ ¼å¼</span>\n<span class=\"token comment\"># f['&lt;key>'] å¯æ›¿ä»£ä¸ºf.get('&lt;key>')</span>\n<span class=\"token comment\"># å…³é—­ä¹‹åŽ f['data'] çš„å¼•ç”¨å¤±æ•ˆ, å› æ­¤å­˜å‡ºæ•°æ®è¦åŠ ä¸Š.valueæˆ–[:]ä¿å­˜æ•°æ®, æˆ–ä½¿ç”¨ deepcopy</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> â€ƒæ‰“å°è¯»å–çš„ä¿¡æ¯: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint\npprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\npprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'block0_values'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">>20</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<ul>\n<li>ç”¨pandasè¯»å†™:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€ƒå†™: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr2 <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># complevel=[0-9], complib=&#123;'zlib', 'lzo', 'bzip2', 'blosc'&#125;</span>\n<span class=\"token keyword\">with</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test2.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr2\n    f<span class=\"token punctuation\">[</span><span class=\"token string\">'lb'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre> â€ƒè¯» pandas å†™çš„æ–‡ä»¶: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test2.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['/data', '/lb'], å­˜åœ¨å­ç›®å½•</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>values  <span class=\"token comment\"># a = f.&lt;key> å¾—åˆ°çš„æ˜¯ DataFrame çš„å¼•ç”¨, f.&lt;key>.values å¾—åˆ°åŽŸæ¥çš„æ ¼å¼</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<ul>\n<li>è¯»çº¯ HDF5/NCDF æ–‡ä»¶:<br> æ¯”å¦‚ h5py å†™çš„æ–‡ä»¶, ç›®å½•ç»“æž„å’Œ pandas\nå†™çš„ä¸åŒ, è¦ç”¨<code>.root</code><br> å…¶ä»–è½¯ä»¶ç”Ÿæˆçš„æ–‡ä»¶å¯èƒ½ä¸èƒ½è¯»</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>HDFStore<span class=\"token punctuation\">(</span><span class=\"token string\">'test.hdf5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nkeys <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb']</span>\nitems <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['data', 'lb'], æœ‰äº›æ–‡ä»¶æ²¡æœ‰.items</span>\na <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># f.root å¾—åˆ° tables.group.RootGroup, f.root.&lt;key> å¾—åˆ°tables.group.CArray</span>\n<span class=\"token comment\"># f.get_node('&lt;key>') å¾—åˆ° tables.group.CArray</span>\n<span class=\"token comment\"># f.root.&lt;key> å¯æ›¿ä»£ä¸º f['&lt;key>'] (æœ‰äº›æ–‡ä»¶ä¸è¡Œ)</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>â€ƒæ‰“å° (ä»¥å…æ•°æ®æœ‰ None, ç”¨ <code>np.shape</code>): <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">pprint<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span>                      <span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>np<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>get_node<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>np<span class=\"token punctuation\">.</span>dtype<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>get_node<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n         <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">.</span>_v_children<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\nâ€ƒBug: æ— æ³•è¯»å‡º <code>H5T_STRING</code></p>\n<h4 id=\"å¤§å°æ¯”è¾ƒ\">å¤§å°æ¯”è¾ƒ</h4>\n<p>ç”¨äºŽæ¯”è¾ƒçš„æ–‡ä»¶åè¯´æ˜Ž:</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: left;\">Filename</th>\n<th style=\"text-align: left;\">Method</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_np.npy</td>\n<td style=\"text-align: left;\"><strong><code>np.save</code></strong></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_np.npz</td>\n<td\nstyle=\"text-align: left;\"><strong><code>np.savez_compressed</code></strong></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_compimg.fits</td>\n<td style=\"text-align: left;\"><strong>FITS</strong> CompImageHDU\n(compressed)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_prim.fits</td>\n<td style=\"text-align: left;\"><strong>FITS</strong> PrimaryHDU</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_0.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong> no\ncompression</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_gzip.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong>\ncompression='gzip', compression_opts=9</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_h5py_lzf.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>h5py</code></strong>\ncompression='lzf'</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_0.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong> no\ncompression</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_blosc.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='blosc', complevel=9</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_bzip2.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='bzip2', complevel=9</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_lzo.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='lzo', complevel=9</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\"><em>xxx</em>_pd_zlib.hdf5</td>\n<td style=\"text-align: left;\"><strong><code>pandas</code></strong>\ncomplib='zlib', complevel=9</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>å¯¹äºŽç›¸å…³æ€§å¼ºçš„æ•°ç»„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_hdf5<span class=\"token punctuation\">.</span>py\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 15.3 M\n\n7.7M    data/test_np.npy\n1.3M    data/test_np.npz\n\n16M data/test_h5py_0.hdf5\n2.9M    data/test_h5py_gzip.hdf5\n7.7M    data/test_h5py_lzf.hdf5\n\n16M data/test_pd_0.hdf5\n272K    data/test_pd_blosc.hdf5\n248K    data/test_pd_bzip2.hdf5\n256K    data/test_pd_lzo.hdf5\n172K    data/test_pd_zlib.hdf5</code></pre>\n<ul>\n<li>éšæœºæ•°æ•°ç»„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_hdf5_2<span class=\"token punctuation\">.</span>py\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>test_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 15.3 M\n\n7.7M    data/test_np.npy\n7.2M    data/test_np.npz\n\n16M data/test_h5py_0.hdf5\n8.0M    data/test_h5py_gzip.hdf5\n9.5M    data/test_h5py_lzf.hdf5\n\n16M data/test_pd_0.hdf5\n7.7M    data/test_pd_blosc.hdf5\n7.2M    data/test_pd_bzip2.hdf5\n7.7M    data/test_pd_lzo.hdf5\n7.1M    data/test_pd_zlib.hdf5</code></pre>\n<ul>\n<li>ä»Ž FITS æ–‡ä»¶è¯»å–å†è½¬å­˜</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_fits_hdf5<span class=\"token punctuation\">.</span>py <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>fits\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 64.0 M\n\n21M data/hmi.B_720s.20150827_052400_TAI.field.fits\n\n65M data/fits_np.npy\n27M data/fits_np.npz\n\n21M data/fits_compimg.fits\n65M data/fits_prim.fits\n\n65M data/fits_h5py_0.hdf5\n27M data/fits_h5py_gzip.hdf5\n40M data/fits_h5py_lzf.hdf5\n\n65M data/fits_pd_0.hdf5\n23M data/fits_pd_blosc.hdf5\n21M data/fits_pd_bzip2.hdf5\n23M data/fits_pd_lzo.hdf5\n20M data/fits_pd_zlib.hdf5</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fname <span class=\"token operator\">=</span> <span class=\"token string\">'data/hmi.B_720s.20150827_052400_TAI.disambig.fits'</span>\n<span class=\"token operator\">%</span>run examples<span class=\"token operator\">/</span>test_fits_hdf5<span class=\"token punctuation\">.</span>py <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h <span class=\"token punctuation\">&#123;</span>fname<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>np<span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>fits\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_h5py_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n!du <span class=\"token operator\">-</span>h data<span class=\"token operator\">/</span>fits_pd_<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>hdf5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array: 32.0 M\n\n5.4M    data/hmi.B_720s.20150827_052400_TAI.disambig.fits\n\n33M data/fits_np.npy\n5.2M    data/fits_np.npz\n\n5.4M    data/fits_compimg.fits\n33M data/fits_prim.fits\n\n33M data/fits_h5py_0.hdf5\n5.3M    data/fits_h5py_gzip.hdf5\n9.7M    data/fits_h5py_lzf.hdf5\n\n33M data/fits_pd_0.hdf5\n9.5M    data/fits_pd_blosc.hdf5\n4.1M    data/fits_pd_bzip2.hdf5\n7.6M    data/fits_pd_lzo.hdf5\n4.8M    data/fits_pd_zlib.hdf5</code></pre>\n<h4 id=\"è¯»å–-cdf-æ–‡ä»¶\">è¯»å– CDF æ–‡ä»¶</h4>\n<p>ç›¸å…³åŒ… <code>cdflib</code>, å®‰è£…è§ <a\nhref=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®#å…¶ä»–</a>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> cdflib\nf <span class=\"token operator\">=</span> cdflib<span class=\"token punctuation\">.</span>CDF<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>.cdf\"</span><span class=\"token punctuation\">)</span>\nf<span class=\"token punctuation\">.</span>cdf_info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ€»ä½“ä¿¡æ¯</span>\nf<span class=\"token punctuation\">.</span>varinq<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å˜é‡ä¿¡æ¯</span>\nf<span class=\"token punctuation\">.</span>varget<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å€¼</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"numpy-to-vtk\">NumPy to VTK</h3>\n<p>å‚è€ƒ <a\nhref=\"https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/\"\nclass=\"uri\">https://pyscience.wordpress.com/2014/09/06/numpy-to-vtk-converting-your-numpy-arrays-to-vtk-arrays-and-files/</a><br>\nä»¥åŠ <a href=\"installpy.html#å…¶ä»–\">Python å®‰è£…å’Œé…ç½®</a> <br><br>\ne.g.<br> è¿è¡Œ <a\nhref=\"examples/field2dvtk.py\">examples/field2dvtk.py</a> ,<br>\næ‰“å¼€Paraview, é€‰æ‹© state æ–‡ä»¶ 'field2d.pvsm', å†é€‰æ‹©æ•°æ®æ–‡ä»¶\n'field2d.vtr'</p>\n<h3 id=\"matlab-mat-æ–‡ä»¶è¯»å†™\">Matlab mat æ–‡ä»¶è¯»å†™</h3>\n<p>(æœªæµ‹è¯•) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> scipy<span class=\"token punctuation\">.</span>io\nscipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>loadmat<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>\"</span><span class=\"token punctuation\">,</span> mdict<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> appendmat<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å¦‚æžœ appendmat=Trueï¼Œåˆ™æ–‡ä»¶åä¸éœ€è¦'.mat'åŽç¼€)</span>\nscipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>savemat<span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;filename>\"</span><span class=\"token punctuation\">,</span> mdict<span class=\"token punctuation\">,</span> appendmat<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">format</span><span class=\"token operator\">=</span><span class=\"token string\">'5'</span><span class=\"token punctuation\">,</span>\n                 long_field_names<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> do_compression<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> oned_as<span class=\"token operator\">=</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h2 id=\"è„šæœ¬ç›¸å…³\">è„šæœ¬ç›¸å…³</h2>\n<h3 id=\"è„šæœ¬ç»“æž„\">è„šæœ¬ç»“æž„</h3>\n<p>æ–‡ä»¶å¤´: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p>\n<p>è„šæœ¬ç»“æž„: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token triple-quoted-string string\">\"\"\"\nå‡è®¾è¿™ä¸ªæ–‡ä»¶çš„åç§°ä¸º mymodule.py\nä½¿ç”¨ `imort mymodule` å¯¼å…¥\nè¿™äº›æ–‡å­—ä¼šå‡ºçŽ°åœ¨ `help(mymodule)` æˆ– `pydoc mymodule` ä¸­\n\"\"\"</span>\nc <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    è¿™ä¸ªæ³¨é‡Šå¿…é¡»ç¼©è¿›\n    args: a tuple - (arg1, arg2, ...)\n    kwargs: a dict - &#123;key1 : val1, key2 : val2&#125;\n    \"\"\"</span>\n    <span class=\"token keyword\">global</span> c\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">+</span> c\n<span class=\"token keyword\">def</span> <span class=\"token function\">func2</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    a <span class=\"token operator\">=</span> func1<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> a\n<span class=\"token keyword\">def</span> <span class=\"token function\">_func3</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># `from xxx import *` å°†ä¸ä¼šå¯¼å…¥è¿™ä¸ªå‡½æ•°</span>\n    <span class=\"token keyword\">pass</span>\n    <span class=\"token keyword\">return</span>  <span class=\"token comment\"># return ä¸å†™æ—¶è¿”å›ž None</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># your code here</span>\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <code>import</code> è¿™ä¸ªæ–‡æ¡£æ—¶,\n<code>__name__</code> ä¸ºæ¨¡å—å, å› æ­¤ <code>main()</code> ä¸æ‰§è¡Œ</p>\n<p><code>help()</code> ä¹Ÿå¯ä»¥æŸ¥çœ‹æ¨¡å—å†…çš„å‡½æ•°æ–‡æ¡£:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> usr_sunpy\n<span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>usr_sunpy<span class=\"token punctuation\">.</span>plot_map<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"try-...-except-...-è¯­æ³•\">try ... except ... è¯­æ³•</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">except</span> ValueError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ValueError:'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> ZeroDivisionError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ZeroDivisionError:'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'no error!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finally...'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>è§ <a href=\"#Paraview-è„šæœ¬\">Paraview çš„ä¾‹å­</a></p>\n<h3 id=\"paraview-è„šæœ¬\">Paraview è„šæœ¬</h3>\n<p>å®˜æ–¹æ–‡æ¡£ <a\nhref=\"https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html\"\nclass=\"uri\">https://www.paraview.org/ParaView/Doc/Nightly/www/py-doc/index.html</a>\n<br><br> * è®°å½•è¯­å¥: 1. Tools -&gt; Start Trace 2. è¿›è¡Œå„ç§æ“ä½œ 3. Tools\n-&gt; Stop Trace ä¹‹åŽå¾—åˆ°ä¸€ä¸ªåŒ…å«åˆšæ‰æ“ä½œå‘½ä»¤çš„è„šæœ¬,\nå‚è€ƒå…¶ä¸­çš„è¯­å¥å°±å¯ä»¥å†™è‡ªå·±çš„è„šæœ¬äº†. <br><br> * éœ€è¦å¯¼å…¥çš„æ¨¡å—:</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">from paraview.simple import *<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><br> * ä½¿ç”¨ pvpython (é»˜è®¤æ¸²æŸ“) pvbatch (é»˜è®¤ä¸æ¸²æŸ“) æ¥æ‰§è¡Œè„šæœ¬:</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">pvbatch myscript.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤´ <code>#!/usr/bin/env pvbatch</code>,\nåŠ æ‰§è¡Œæƒé™åŽç›´æŽ¥æ‰§è¡Œ: <pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">.&#x2F;myscript.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> æ³¨æ„: æ‰“åŒ…çš„ paraview æ‰€ä½¿ç”¨çš„\npython æ˜¯ paraview è‡ªå¸¦çš„ python2.7</p>\n<p><img src='/advance/Screenshot_20180618-151438.png' width='700' /></p>\n<ul>\n<li>å¸¸ç”¨è¯­å¥:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">view <span class=\"token operator\">=</span> GetActiveView<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nscene <span class=\"token operator\">=</span> GetAnimationScene<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><code>view.ViewTime</code> ä¿®æ”¹æ—¶ <code>scene.AnimationTime</code>\nä¸å˜ <code>scene.AnimationTime</code> ä¿®æ”¹æ—¶ <code>view.ViewTime</code>\nä¹ŸåŒæ—¶è¢«æ”¹å˜</p>\n<p>æ³¨æ„: filter å¿…é¡»æ˜¯æ˜¾ç¤ºçŠ¶æ€ (<code>Show(&lt;filter&gt;)</code>)\næ‰èƒ½ä¿®æ”¹æ—¶é—´</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># e.g.</span>\n!code <span class=\"token operator\">-</span>n examples<span class=\"token operator\">/</span>stat1<span class=\"token punctuation\">.</span>py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>å­—ä½“é€‰æ‹©å‚è€ƒè·¯å¾„:<br>\n<ul>\n<li>/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf</li>\n<li>/home/<user>/miniconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf</li>\n</ul></li>\n<li>python è°ƒç”¨é—®é¢˜ (paraview 5.5.0+ æ²¡æœ‰è¿™ä¸ªé—®é¢˜):</li>\n</ul>\n<p>paraview æŸä¸ªç‰ˆæœ¬ä¹‹åŽå°±é»˜è®¤ä½¿ç”¨ python 2.7.11+.<br>\nè¿è¡Œä¹‹å‰å…ˆä¿®æ”¹çŽ¯å¢ƒå˜é‡ ( <code>PYTHONPATH</code> å’Œ\n<code>PYTHONSTARTUP</code>), <br>\nè¿è¡Œç»“æŸç»“æŸåŽæ¢å¤è¿™ä¸¤ä¸ªå˜é‡å³å¯.<br><br> è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ä½¿ç”¨è„šæœ¬\n(è€Œä¸ç”¨alias): <pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">#!&#x2F;bin&#x2F;bash\nunset PYTHONSTARTUP  # å¦‚æžœæœ‰çš„è¯\nexport PYTHONPATH&#x3D;&#x2F;&lt;your_path&gt;&#x2F;ParaView&#x2F;lib&#x2F;python2.7&#x2F;site-packages\n&#x2F;&lt;your_path&gt;&#x2F;ParaView&#x2F;bin&#x2F;paraview $@<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> ç”¨è¿™ä¸ªè„šæœ¬æ›¿ä»£åŽŸæœ‰ <code>paraview</code>,\n<code>pvpython</code> å’Œ <code>pvbatch</code> å‘½ä»¤.</p>\n<h3 id=\"python-2---3-çš„è½¬æ¢\">Python 2 -&gt; 3 çš„è½¬æ¢</h3>\n<p>æ¯”è¾ƒæŽ¨èçš„å®‰å…¨çš„æ£€æŸ¥æ–¹å¼:</p>\n<ul>\n<li><p>å¤‡ä»½çš„åŽŸæ–‡ä»¶ä¸”è‡ªåŠ¨ç”Ÿæˆè½¬æ¢è¿‡çš„æ–‡ä»¶ <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ 2to3 -w filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p></li>\n<li><p>æ‰‹åŠ¨æ¯”è¾ƒ, åœ¨éœ€è¦çš„åœ°æ–¹å¯¹ç…§ä¿®æ”¹ filename.bak<br> ä¸»è¦æŸ¥çœ‹ print,\nrange, map ç­‰å‡½æ•°.<br> æ·»åŠ <br>\nâ€ƒ<code>from __future__ import division, print_function</code><br> åœ¨å…¶ä»–\nimport å‰. <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ sudo apt-get install meld\n$ meld filename filename.bak<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p></li>\n<li><p>ç¡®è®¤æ— è¯¯åŽ, å°†æ‰‹åŠ¨ä¿®æ”¹çš„æ–‡ä»¶å¤åˆ¶å›žåŽ» <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ mv -v filename.bak filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p></li>\n</ul>\n<p>python å†…æŸ¥çœ‹ç‰ˆæœ¬çš„æ–¹æ³•, å¯ç”¨äºŽ <code>if</code> è¯­å¥ç­‰ (æ›´æŽ¨èç”¨\n<code>try...except...</code> è¯­æ³•):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version_info <span class=\"token operator\">>=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version_info<span class=\"token punctuation\">.</span>major <span class=\"token operator\">>=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ‰§è¡Œ-shell-å‘½ä»¤\">æ‰§è¡Œ shell å‘½ä»¤</h3>\n<p><a href=\"https://docs.python.org/3/library/subprocess.html\"\nclass=\"uri\">https://docs.python.org/3/library/subprocess.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> subprocess\n\nfname <span class=\"token operator\">=</span> <span class=\"token string\">'installpy.ipynb'</span>\n\n<span class=\"token comment\"># é»˜è®¤æ˜¯ä»¥åˆ—è¡¨å½¢å¼ä¼ é€’å‚æ•°</span>\nsubprocess<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># doesn't capture output</span>\n\n<span class=\"token comment\"># è¾“å‡ºç»“æžœéœ€è¦ `decode('ascii')` è½¬ç </span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>subprocess<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> stdout<span class=\"token operator\">=</span>subprocess<span class=\"token punctuation\">.</span>PIPE<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> fname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>-rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb\n\n-rw-rw-r-- 1 lydia lydia 142508 Jun 24 16:21 installpy.ipynb</code></pre>\n<p>åˆ©ç”¨ bash çš„ç‰¹é•¿æ¥åšä¸€äº›å­—ç¬¦ä¸²æ“ä½œ:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ä½¿ç”¨æ•´è¡Œå‘½ä»¤éœ€è¦ `shell=True`, è™½ç„¶å¹¶ä¸æ˜¯æŽ¨èçš„åšæ³•, ä½†å¶å°”ä½¿ç”¨æ— å¦¨ (è§å®˜æ–¹æ–‡æ¡£)</span>\n<span class=\"token comment\"># `r`ç”¨æ¥å–æ¶ˆè½¬ä¹‰</span>\n<span class=\"token comment\"># `echo`ä½¿ç”¨`-n`æ¥åŽ»æŽ‰è¾“å‡ºçš„ '\\n'</span>\nfname_head <span class=\"token operator\">=</span> subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token string\">r\"echo -n %s | sed 's/\\.ipynb//'\"</span>\n                                     <span class=\"token operator\">%</span> fname<span class=\"token punctuation\">,</span> shell<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æˆ–ä½¿ç”¨ strip åŽ»æŽ‰ '\\n'</span>\nfname_head <span class=\"token operator\">=</span> subprocess<span class=\"token punctuation\">.</span>check_output<span class=\"token punctuation\">(</span><span class=\"token string\">r\"echo %s | sed 's/\\.ipynb//'\"</span>\n             <span class=\"token operator\">%</span> fname<span class=\"token punctuation\">,</span> shell<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span>  \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fname_head<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>installpy</code></pre>\n<p>å­—ç¬¦ä¸²ç¼–ç è§ <a\nhref=\"https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000\">å»–é›ªå³°çš„ç½‘ç«™</a></p>\n<ul>\n<li>å¾—åˆ°å‘½ä»¤æ‰§è¡Œçš„è·¯å¾„</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os\nos<span class=\"token punctuation\">.</span>getcwd<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#39;/home/lydia/codes/zly/python/python-intro&#39;</code></pre>\n<ul>\n<li>å¾—åˆ°è„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„(ä»…è„šæœ¬ä¸­ä½¿ç”¨)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>abspath<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æˆ– <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>abspath<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<p>å…¶ä¸­ <code>os.path.split</code> å’Œ <code>os.path.dirname</code>\nçš„ç”¨æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'your/path/filename'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(&#39;your/path&#39;, &#39;filename&#39;)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span><span class=\"token string\">'your/path/filename'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;your/path&#39;</code></pre>\n<p><code>os.path.dirname</code> ç±»ä¼¼äºŽ bash çš„ <code>dirname</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">!dirname <span class=\"token string\">'your/path/filename'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>your/path</code></pre>\n<h3 id=\"è„šæœ¬é€‰é¡¹\">è„šæœ¬é€‰é¡¹</h3>\n<p>æŽ¨è <code>argparse</code>, åœ¨è¿‡åŽ»çš„å…¶ä»–æ–¹æ³•çš„åŸºç¡€ä¸Šæœ‰æ‰€å¢žå¼º <a\nhref=\"https://docs.python.org/3/library/argparse.html\"\nclass=\"uri\">https://docs.python.org/3/library/argparse.html</a></p>\n<p>è„šæœ¬å†…: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> argparse\nparser <span class=\"token operator\">=</span> argparse<span class=\"token punctuation\">.</span>ArgumentParser<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">'Process some integers.'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'integers'</span><span class=\"token punctuation\">,</span> metavar<span class=\"token operator\">=</span><span class=\"token string\">'N'</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">type</span><span class=\"token operator\">=</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> nargs<span class=\"token operator\">=</span><span class=\"token string\">'+'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'an integer for the accumulator'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'--sum'</span><span class=\"token punctuation\">,</span> dest<span class=\"token operator\">=</span><span class=\"token string\">'accumulate'</span><span class=\"token punctuation\">,</span> action<span class=\"token operator\">=</span><span class=\"token string\">'store_const'</span><span class=\"token punctuation\">,</span>\n                    const<span class=\"token operator\">=</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">,</span> default<span class=\"token operator\">=</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'sum the integers (default: find the max)'</span><span class=\"token punctuation\">)</span>\nargs <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span>parse_args<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>accumulate<span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>integers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> Shell: <pre class=\"line-numbers language-none\"><code class=\"language-none\">$ python prog.py -h\nusage: prog.py [-h] [--sum] N [N ...]\nProcess some integers.\npositional arguments:\n N           an integer for the accumulator\noptional arguments:\n -h, --help  show this help message and exit\n --sum       sum the integers (default: find the max)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"å¤„ç†-warnings\">å¤„ç† warnings</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Suppress warnings of NaNs:</span>\n<span class=\"token keyword\">with</span> np<span class=\"token punctuation\">.</span>errstate<span class=\"token punctuation\">(</span>invalid<span class=\"token operator\">=</span><span class=\"token string\">'ignore'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\"># Suppress other warnings, e.g.</span>\n<span class=\"token keyword\">import</span> warnings\n<span class=\"token keyword\">with</span> warnings<span class=\"token punctuation\">.</span>catch_warnings<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    warnings<span class=\"token punctuation\">.</span>simplefilter<span class=\"token punctuation\">(</span><span class=\"token string\">\"ignore\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\"># Or</span>\nwarnings<span class=\"token punctuation\">.</span>simplefilter<span class=\"token punctuation\">(</span><span class=\"token string\">\"ignore\"</span><span class=\"token punctuation\">,</span> category<span class=\"token operator\">=</span>xxx<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># UserWarning, FutureWarning, etc.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"urllib-requests\">urllib, requests</h2>\n<p>ç¤ºä¾‹å’Œæ–‡ä»¶æ¥è‡ª <a href=\"http://python4astronomers.github.com\"\nclass=\"uri\">http://python4astronomers.github.com</a></p>\n<p>æ³¨æ„ python3 ä¸å†ä½¿ç”¨ <code>urllib2</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># æ–¹æ³•1</span>\n<span class=\"token keyword\">import</span> urllib\nurl <span class=\"token operator\">=</span> <span class=\"token string\">'http://python4astronomers.github.com/_downloads/myidlfile.sav'</span>\nurllib<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>urlretrieve<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æ–¹æ³•2</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>urllib<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>urlopen<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># æ–¹æ³•3</span>\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myidlfile.sav'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ†å—ä¸‹è½½</span>\n<span class=\"token keyword\">import</span> requests\nr <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> chunk <span class=\"token keyword\">in</span> r<span class=\"token punctuation\">.</span>iter_content<span class=\"token punctuation\">(</span>chunk_size<span class=\"token operator\">=</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"Python å®‰è£…å’Œé…ç½®","date":"2018-07-02T12:45:13.000Z","_content":"[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/installpy.zip)\n\n<small><font color=gray>[Update 2022-07-12] Some outputs are updated with python 3.10.</font></small>\n\n<!-- more -->\n\n## å®‰è£… python\n\n### å®‰è£… python 3\n\n* æ£€æŸ¥ç³»ç»Ÿè‡ªå¸¦çš„ç‰ˆæœ¬:\n\n```python\nimport sys\nprint(sys.version)\n!{sys.executable} --version\n```\n\n    3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\n    Python 3.10.5\n\n\n```bash\n%%bash\npython --version\npython3 --version\n```\n\n    Python 3.10.5\n    Python 3.10.5\n\n\n### pip\n\n#### å®‰è£… pip\n\næ£€æŸ¥ pip æ˜¯å¦å®‰è£…ä»¥åŠç‰ˆæœ¬\n\n```bash\n%%bash\npip --version\n```\n\n    pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)\n\n\n```bash\n%%bash\npython -m pip --version\n```\n\n    pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)\n\n\nå®‰è£… (Ubuntu):\n\n```bash\nsudo apt-get install python3-pip\n```\n\n#### ç”¨ pip å®‰è£… python åŒ…\n\n```bash\npip install <package>\npip install --upgrade <package>\npip uninstall <package>\npip list\npip list --outdated\npip show <package>\n```\n\nå®‰è£…åˆ°æ ¹ç›®å½• (ä¸æŽ¨è!)\n\n```bash\nsudo -H pip install <package>\n```\n\n[é€‰é¡¹]\n\n| | |\n|:---|:---|\n| -U, --upgrade  | å‡çº§, é…åˆ install ä½¿ç”¨ |\n| --force-reinstall  | å¼ºåˆ¶é‡æ–°å®‰è£…ä¾èµ– |\n| -I, --ignore-installed | å¼ºåˆ¶å®‰è£… (æ— è®ºæ˜¯å¦å·²å®‰è£…) |\n| --no-cache-dir | ä¸ç”Ÿæˆcache |\n| -i <font color=blue>*url*</font> | ä½¿ç”¨æŒ‡å®šæº (æ›´æ”¹é…ç½®è§ [pip é•œåƒæº](#pip-é•œåƒæº)) |\n| <font color=blue>*package*</font>==x.x.x | æŒ‡å®šç‰ˆæœ¬, é”™è¯¯ç‰ˆæœ¬å· (æˆ–ä¸ºç©º) å°†è¿”å›žå¯ç”¨ç‰ˆæœ¬å· |\n| \"<font color=blue>*package*</font><x.x.x\" | æŒ‡å®šå°äºŽæŸç‰ˆæœ¬çš„æœ€æ–°ç‰ˆæœ¬, å¿…é¡»æœ‰å¼•å· |\n\n\næ£€æŸ¥åŒ… (å°è¯•å¯¼å…¥, æŸ¥çœ‹åŒ…ç‰ˆæœ¬):\n\n```bash\npython -c \"import <package>\"\npython -c \"import <package>; print(<package>.__version__)\"  # ç‰ˆæœ¬å·\npython -c \"import <package>; print(<package>.version)\"  # å®‰è£…ä½ç½®\n```\n\n#### ä½¿ pip å®‰è£… python åŒ…åˆ°ç”¨æˆ·è·¯å¾„\n\n```bash\n%%bash\npython -m site | grep 'USER_SITE'\n```\n\n    USER_SITE: '/home/lydia/.local/lib/python3.10/site-packages' (doesn't exist)\n    ENABLE_USER_SITE: True\n\n\n* ç¡®è®¤å·²åˆ›å»ºç”¨æˆ·åŒ…å®‰è£…è·¯å¾„.<br>\n* åœ¨ `~/.bashrc` ä¸­è®¾ç½® `PATH` å˜é‡:\n\n```bash\nexport PATH=$HOME/.local/bin:$PATH\n```\n\n* ä½¿ç”¨ `install` æˆ– `list` æ—¶åŠ ä¸Šé€‰é¡¹ <font color=red>--user</font> (æ³¨æ„: `uninstall` ä¸ç”¨)\n\n> <font color=#b32425>*ä½¿ç”¨ Anaconda è·¯å¾„ä¸‹çš„ pip æ—¶ä¸éœ€è¦è¿™ä¸ªé€‰é¡¹*</font>\n\n```bash\npip install --user <pkg_name>\npip list --user\npip list --outdated --user\n```\n\n### Anaconda\n\n#### å®‰è£… Anaconda æˆ– Miniconda (æŽ¨è)\n\n* å®‰è£… miniconda 64ä½ (é»˜è®¤å®‰è£…åˆ° <font color=blue>~/miniconda3/</font>)\n\n  ä¸‹è½½ <https://conda.io/miniconda.html>\n\n```bash\nbash Miniconda3-latest-Linux-x86_64.sh\n```\n\n* åœ¨ `~/.bashrc` åŠ å…¥å¦‚ä¸‹è¯­å¥:\n\n```bash\nexport PATH=$HOME/miniconda3/bin:$PATH\n. $HOME/miniconda3/etc/profile.d/conda.sh\n```\n\n&ensp;å®ŒæˆåŽæ‰§è¡Œ:\n\n```bash\nsource ~/.bashrc\n```\n\n* å®‰è£…å¥½åŽå…ˆæ›´æ–° conda å’Œ pip:\n\n```bash\nconda update conda pip\n```\n\n* å¸®åŠ©\n\n```bash\nconda [cmd] --help\n```\n\nminiconda ä¸‹è½½ <https://conda.io/miniconda.html><br>\nå®‰è£…å‚è€ƒ <https://conda.io/docs/user-guide/install/index.html>\n\n#### environment\n\né»˜è®¤çŽ¯å¢ƒä¸º base<br>\n`-n, --name <env_name>` æŒ‡å®šçŽ¯å¢ƒ\n\n```bash\nconda create --name <env_name> [<packages>] python=3.6\nconda create --name <env_name> --clone base\n\n# e.g.\nconda create --name intel intelpython3_core python=3\n```\n\n```bash\n# åˆ é™¤çŽ¯å¢ƒ\nconda-env remove --name <env_name>\n*\n# åˆ—å‡ºä¿¡æ¯\nconda info -e/--envs\nconda-env list\n\n# è¿›å…¥çŽ¯å¢ƒ\nsource activate <env_name>\nconda activate <env_name>\n\n# ç¦»å¼€çŽ¯å¢ƒ\nsource deactivate\nconda deactivate\n\n# åœ¨æŸçŽ¯å¢ƒä¸­æ‰§è¡Œæ“ä½œ\nconda <commands> --name <env_name>\n```\n\n#### ä½¿ç”¨ conda å‘½ä»¤\n\n```bash\nconda info\nconda list [<packages>]\nconda search <package>\nconda search <package> --info\nconda install <packages>\nconda update/upgrade <packages>\nconda remove/uninstall <packages>\nconda clean --all\n```\nè§ `conda --help` æˆ– `conda cmd --help`, `conda search` è¯­æ³•è§ <https://github.com/conda/conda/blob/master/conda/models/match_spec.py>\n\né…ç½®:\n```bash\n# å®‰è£…ç¡®è®¤æ—¶æ˜¾ç¤ºæºçš„ url, é»˜è®¤å·²å¼€å¯\nconda config --set show_channel_urls True\n\n# ç¦æ­¢æ¯æ¬¡æ›´æ–°è‡ªåŠ¨æ£€æŸ¥ conda çš„æ›´æ–°, é»˜è®¤True\nconda config --set auto_update_conda False\n\n# ç¦æ­¢æºä¼˜å…ˆè€Œä½¿ç”¨ç‰ˆæœ¬ä¼˜å…ˆ, é»˜è®¤True\nconda config --set channel_priority False\n\n# å¢žåŠ è®¾ç½®, ä¾‹å¦‚å¢žåŠ æº (å¯ä½¿ç”¨ url æˆ–åˆ«å)\nconda config --add channels <channel>\n\n# åˆ é™¤æŸé¡¹è®¾ç½®çš„æ‰€æœ‰å€¼, ä¾‹å¦‚åˆ é™¤æ‰€æœ‰è‡ªå®šä¹‰æº\nconda config --remove-key channels\n\n# åˆ é™¤æŸé¡¹è®¾ç½®çš„æŸä¸ªå€¼, ä¾‹å¦‚åˆ é™¤æŸä¸ªæº\nconda config --remove channels <channel>\n```\n\nç”¨æˆ·é…ç½®æ–‡ä»¶ `~/.condarc` (è§ [conda é•œåƒæº](#conda-é•œåƒæº))<br>\nå‚è€ƒé“¾æŽ¥ <https://conda.io/docs/user-guide/configuration/use-condarc.html>\n\nä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„çŽ¯å¢ƒç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶: `~/miniconda3/envs/<env_name>/.condarc`\n\n### é•œåƒæº\n\n#### pip é•œåƒæº\n\nç”¨æˆ·é…ç½®æ–‡ä»¶:\n\n```bash\n%%bash\ncat ~/.pip/pip.conf\n```\n\n    [global]\n    index-url = <https://pypi.douban.com/simple>\n    trusted-host = pypi.doubanio.com\n\n#### conda é•œåƒæº\n\n```bash\nconda config --add/--prepend channels <new_channel>\nconda config --append channels <new_channel>\n```\n\næ¸…åŽæº:<br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/><br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/><br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/><br>\n\nchannels çš„é»˜è®¤çš„ä¼˜å…ˆçº§ä¸º: å‰æŽ’ä¼˜å…ˆ<br>\né•œåƒæºä¸­ `pkgs/main` é€šå¸¸æ¯” `pkgs/free` æ–°, å› æ­¤å°†å…¶æ”¾åœ¨æœ€å‰.<br>\næˆ–ä½¿ç”¨ `channel_priority: false`, è§ä¸Šä¸€èŠ‚ [conda è®¾ç½®](#ä½¿ç”¨-conda-å‘½ä»¤).\n\ne.g.\n\n```bash\nconda config --add channels <https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/>\n```\n\næ­¤æ—¶ `~/.condarc` çš„å†…å®¹:\n\n> channels:<br>\n&emsp;- <https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/><br>\n&emsp;- defaults\n\n### Troubleshooting\n\n#### conda å®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº\n\n```bash\nconda install <packages> -c <channel> --override-channels\n```\n\n#### Astropy æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ Python\n\n```bash\npip install \"astropy<3.0\" # for python < 3.5\n```\n\n## å®‰è£…å¸¸ç”¨åŒ…\n\n### numpy, scipy, matplotlib\n\n```bash\nconda install numpy\nconda install scipy\nconda install matplotlib\n```\n&ensp;Or\n```bash\npip install numpy\npip install scipy\npip install matplotlib\n```\n\né…ç½®å¯åŠ¨æ–‡ä»¶ (Ubuntu), åœ¨ `~/.bashrc` ä¸­æ·»åŠ :\n```bash\nexport PYTHONSTARTUP=$HOME/.pythonrc\n```\n\n```python\ncat ~/.pythonrc\n```\n\n    # Python startup file\n    # ~/.pythonrc\n    import matplotlib.pyplot as plt\n    from matplotlib import cm\n    import numpy as np\n    import os\n    \n    print(\">>> import matplotlib.pyplot as plt\")\n    print(\">>> from matplotlib import cm\")\n    print(\">>> import numpy as np\")\n    print(\">>> import os\")\n    \n    try:\n        from pprint import pprint\n    except ImportError:\n        pass\n    else:\n        print(\">>> from pprint import pprint\")\n    \n    # Tab completion & history\n    try:\n        import atexit, readline, rlcompleter\n    except ImportError:\n        pass\n    else:\n        readline.parse_and_bind('tab: complete') # Tab completion\n        readline.parse_and_bind('''control-l:\"    \"''') # Indent, since TAB is occupied\n        histfile = os.path.join(os.environ['HOME'], '.pyhistory') # History file\n        try:\n            readline.read_history_file(histfile)\n        except IOError:\n            pass\n        atexit.register(readline.write_history_file, histfile)\n        del histfile, readline, rlcompleter\n        print(\"--- Tab completion: [ON] ---\")\n        print(\"--- History: [ON] ---\")\n        print(\"--- [Tab] -> [Ctrl+L] ---\")\n\n\n### Astropy, SunPy\n\n```bash\nconda install astropy\nconda install sunpy -c conda-forge\n```\n&ensp;Or\n```bash\npip install astropy\npip install sunpy[all] pytest\n```\n\næµ‹è¯•:\n\n```python\n>>> import astropy\n>>> astropy.test()\n```\n\n```python\n>>> import sunpy\n>>> sunpy.self_test(online=False)\n```\n\nå¦‚æžœå‡ºé”™: '$USER'æƒé™é—®é¢˜, è§ä¸‹é¢ä¿®æ”¹ `~/.sunpy/sunpyrc` è¯´æ˜Ž.\n\næŸ¥çœ‹åŒ…ä¿¡æ¯:\n\n```bash\n%%bash\nconda search \"conda-forge::sunpy>=4.0\"\n```\n\n    Loading channels: ...working... done\n    # Name                       Version           Build  Channel             \n    sunpy                          4.0.0 py310hde88566_0  conda-forge         \n    sunpy                          4.0.0  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.0  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.1 py310hde88566_0  conda-forge         \n    sunpy                          4.0.1  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.1  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.2 py310hde88566_0  conda-forge         \n    sunpy                          4.0.2  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.2  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.3 py310hde88566_0  conda-forge         \n    sunpy                          4.0.3  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.3  py39hd257fcd_0  conda-forge         \n\n\n```bash\n%%bash\nconda search \"sunpy 4.0.3 py310hde88566_0\" --info\n```\n\n    Loading channels: ...working... done\n    sunpy 4.0.3 py310hde88566_0\n    ---------------------------\n    file name   : sunpy-4.0.3-py310hde88566_0.tar.bz2\n    name        : sunpy\n    version     : 4.0.3\n    build       : py310hde88566_0\n    build number: 0\n    size        : 5.7 MB\n    license     : BSD-2-Clause\n    subdir      : linux-64\n    url         : <https://conda.anaconda.org/conda-forge/linux-64/sunpy-4.0.3-py310hde88566_0.tar.bz2>\n    md5         : 5831b8fde0edd2aa0ff9f42b237b7ba2\n    timestamp   : 2022-07-08 16:21:32 UTC\n    dependencies: \n      - asdf >=2.8.0\n      - asdf-astropy >=0.1.1\n      - astropy >=4.1.0\n      - beautifulsoup4 >=4.8.0\n      - cdflib >=0.3.19,!=0.4.0\n      - drms >=0.6.1\n      - glymur >=0.8.18,!=0.9.0,!=0.9.5\n      - h5netcdf >=0.8.1\n      - h5py >=3.1.0\n      - libgcc-ng >=12\n      - matplotlib-base >=3.2.0\n      - mpl_animators >=1.0.0\n      - numpy >=1.21.6,<2.0a0\n      - pandas >=1.0.0\n      - parfive >=1.2.0\n      - python >=3.10,<3.11.0a0\n      - python-dateutil >=2.8.0\n      - python_abi 3.10.* *_cp310\n      - reproject\n      - scikit-image >=0.16.0\n      - scipy >=1.3.0\n      - setuptools\n      - sqlalchemy >=1.3.4\n      - tqdm >=4.32.1\n      - zeep >=3.4.0\n    \n    \n\n\nç”¨æˆ·æ–‡ä»¶ä½ç½®: `~/.sunpy/sunpyrc`\n\n```python\ncat ~/.sunpy/sunpyrc\n```\n\n    [general]\n    time_format = %Y-%m-%d %H:%M:%S\n    working_dir = /home/lydia/sunpy-downloads\n    \n    [downloads]\n    download_dir = /home/lydia/sunpy-downloads/data\n    sample_dir = /home/lydia/sunpy-downloads/data/sample_data\n    \n    [database]\n    url = sqlite:////home/lydia/sunpy-downloads/sunpydb.sqlite\n\n```python\nimport sunpy\nsunpy.util.system_info()\n```\n\n    ==============================\n    sunpy Installation Information\n    ==============================\n    \n    General\n    #######\n    OS: Ubuntu (18.04, Linux 4.19.128-microsoft-standard)\n    Arch: 64bit, (x86_64)\n    sunpy: 4.0.3\n    Installation path: /home/lydia/miniconda3/lib/python3.10/site-packages/sunpy-4.0.3.dist-info\n    \n    Required Dependencies\n    #####################\n    astropy: 5.1\n    numpy: 1.23.1\n    packaging: 21.3\n    parfive: 1.5.1\n    \n    Optional Dependencies\n    #####################\n    asdf: 2.12.0\n    asdf-astropy: 0.2.1\n    beautifulsoup4: 4.11.1\n    cdflib: 0.4.4\n    dask: 2022.7.0\n    drms: 0.6.2\n    glymur: 0.10.1\n    h5netcdf: 0.0.0\n    h5py: 3.7.0\n    matplotlib: 3.5.2\n    mpl-animators: 1.0.1\n    pandas: 1.4.1\n    python-dateutil: 2.8.2\n    reproject: 0.8\n    scikit-image: 0.19.3\n    scipy: 1.8.1\n    sqlalchemy: 1.4.39\n    tqdm: 4.64.0\n    zeep: 4.1.0\n\n\nè®¾ç½®ä¸‹è½½ä½ç½®:<br>\n(å‚è€ƒ <http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)>\n\ne.g.\n> [downloads]<br>\n&emsp;download_dir = ...\n\n```python\n>>> import sunpy\n>>> sunpy.config.set('downloads', 'download_dir',\n                 '/home/<user>/<your_path>/sunpy-downloads/data')\n```\n\né€€å‡ºåŽå†è¿›å…¥ python å¦‚æžœå‘çŽ°æ²¡æœ‰ä¿®æ”¹æˆåŠŸ, åˆ™éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ ~/.sunpy/sunpyrc æ–‡ä»¶.<br>\nä¸èƒ½ç”¨ '$USER' ä»£æ›¿å…·ä½“çš„ç”¨æˆ·å '<user\\>'\n\n### Jupyter\n\n```bash\nconda install jupyter -c conda-forge\n```\n&ensp;Or\n```bash\npip install jupyter\n```\n\n```bash\n%%bash\njupyter --path\n```\n\n    config:\n        /home/lydia/.jupyter\n        /home/lydia/.local/etc/jupyter\n        /home/lydia/miniconda3/etc/jupyter\n        /usr/local/etc/jupyter\n        /etc/jupyter\n    data:\n        /home/lydia/.local/share/jupyter\n        /home/lydia/miniconda3/share/jupyter\n        /usr/local/share/jupyter\n        /usr/share/jupyter\n    runtime:\n        /home/lydia/.local/share/jupyter/runtime\n\n\n* è®¾ç½®åŒå‡»æ‰“å¼€ \\*.ipynb æ–‡ä»¶\n\n\n```bash\npip install nbopen\n```\n\nå†æ‰§è¡Œ:\n\nLinux/BSD: <br>\n```bash\npython3 -m nbopen.install_xdg<br>\n ```   \n\nWindows: <br>\n```bash\npython3 -m nbopen.install_win<br>\n```\n\nMac: <br>\n&ensp;Clone the repository (https://github.com/takluyver/nbopen.git)<br>\n&ensp;and run `./osx-install.sh`<br><br>\nä¹‹åŽå³å¯åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­é€‰æ‹©æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ä¸º `Jupyter Notebook`.\n\n> æ³¨æ„å¯èƒ½ä¼šæ›´æ”¹ bash è„šæœ¬çš„é»˜è®¤æ‰“å¼€æ–¹å¼.\n\n* Jupyter æ’ä»¶é›†åˆ<br>(https://github.com/ipython-contrib/jupyter_contrib_nbextensions)\n\n\n```bash\nconda install jupyter_contrib_nbextensions -c conda-forge\n```\n&ensp;Or\n```bash\npip install jupyter_contrib_nbextensions\n```\n> This also automatically installs the Javascript and CSS files:<br>\n`jupyter contrib nbextension install --sys-prefix`\n\nå®‰è£…å¥½åŽå°†åŒæ—¶å¯ç”¨ `Nbextensions` é€‰é¡¹å¡, æ‰‹åŠ¨é€‰æ‹©éœ€è¦çš„æ’ä»¶, \næˆ–è€…åœ¨å‘½ä»¤è¡Œå¯ç”¨å’Œç¦ç”¨:\n\n```bash\njupyter nbextension list # æŸ¥çœ‹\njupyter nbextension enable <path> # <path> ä¸ºä¸Šè¿° list ä¸­çš„ <extension>/main\njupyter nbextension disable <path>\n```\n\næ³¨æ„ç”¨å¦‚æžœ jupyter å®‰è£…åœ¨ conda è·¯å¾„, æ‰‹åŠ¨å®‰è£…æ’ä»¶ (`jupyter nbextension install`) æ—¶éœ€è¦æŒ‡å®š <font color=red>--sys-prefix</font>\n\n* notebook ä¸»é¢˜ (https://github.com/dunovank/jupyter-themes)\n\n\n```bash\npip install jupyterthemes\n```\n\n* æ¼”ç¤ºä»£ç è¿‡ç¨‹çš„æ’ä»¶ (https://github.com/lgpage/nbtutor)\n\n\n```bash\nconda install nbtutor -c conda-forge\n```\n&ensp;Or\n```bash\npip install nbtutor\njupyter nbextension install --overwrite --py nbtutor\njupyter nbextension enable --py nbtutor\n```\n\nè½½å…¥:\n\n```python\n# ipython/jupyter\n%load_ext nbtutor\n```\nä½¿ç”¨:<br>\nCodeCell ä¸­é¦–è¡ŒåŠ å…¥ä¸‹é¢è¯­å¥, ç„¶åŽæ‰§è¡Œ Cell (numpy ç­‰éœ€è¦åœ¨ Cell å†…å¯¼å…¥)\n```python\n# ipython/jupyter\n%%nbtutor -r -f\n# æˆ–\n%%nbtutor -r -f -i  # ç¼©å‡æ˜¾ç¤º\n```\n\n### å…¶ä»–\n\n* PeakUtils (http://peakutils.readthedocs.io/en/latest/)\n\n\n```bash\ngit clone <https://bitbucket.org/lucashnegri/peakutils.git>\ncd peakutils\npython setup.py install\n```\n\n```python\n>>> import peakutils\n```\n\n* LMfit-py (https://github.com/lmfit/lmfit-py)\n\n\n```bash\nconda install lmfit -c conda-forge\n# æˆ–\npip install lmfit\n```\n\n```python\n>>> import lmfit\n```\n\n* HDF5åŒ… (http://docs.h5py.org/en/latest/index.html)<br>\n\n\n**pandas**\n```bash\nconda install pytables pandas\n```\n&ensp;Or\n```bash\npip install tables pandas\n```\n<br><br>\n**h5py** (http://docs.h5py.org/en/latest/index.html)\n```bash\nconda install h5py  # æŽ¨è. å°†åŒæ—¶å®‰è£… hdf5, å¹¶å¾—åˆ° h5dump ç­‰å‘½ä»¤\n```\n&ensp;Or\n```bash\npip install h5py  # éœ€è¦ sudo apt-get install libhdf5-dev\n```\n\n* CDFåŒ…<br>\n\nå®‰è£… spacepy (https://pythonhosted.org/SpacePy)\n\næˆ–\n\n```bash\npip install cdflib # <https://github.com/MAVENSDC/cdflib>\n```\n\n* EVTK (https://bitbucket.org/pauloh/pyevtk)\n\n\n```bash\nsudo apt-get install mercurial  # å¾—åˆ° hg å‘½ä»¤\n\nhg clone <https://bitbucket.org/pauloh/pyevtk>\ncd pyevtk\npython setup.py build --debug install\n```\n\n```bash\nhg pull && hg update default # æ›´æ–°\n```\n\n```python\n>>> from evtk.hl import gridToVTK\n```\n\n* Mayavi (http://docs.enthought.com/mayavi/mayavi)\n\n&emsp;éœ€è¦å…ˆå®‰è£… cython (conda æˆ– pip)\n\n```bash\npip install mayavi  # å°†åŒæ—¶å®‰è£… vtk. (pip æ˜¯ç›®å‰ mayavi æœ€ä¿é™©çš„å®‰è£…æ–¹å¼)\n```\n```bash\n# shell\nmayavi2\n```\n","source":"_posts/2018-07-02-installpy.md","raw":"---\ntitle: \"Python å®‰è£…å’Œé…ç½®\"\npermalink: installpy.html\ncategories: 'Solar Physics'\ntags: [python, conda, jupyter, astropy, sunpy, install]\ndate: 2018-07-02 20:45:13\n---\n[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/installpy.zip)\n\n<small><font color=gray>[Update 2022-07-12] Some outputs are updated with python 3.10.</font></small>\n\n<!-- more -->\n\n## å®‰è£… python\n\n### å®‰è£… python 3\n\n* æ£€æŸ¥ç³»ç»Ÿè‡ªå¸¦çš„ç‰ˆæœ¬:\n\n```python\nimport sys\nprint(sys.version)\n!{sys.executable} --version\n```\n\n    3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\n    Python 3.10.5\n\n\n```bash\n%%bash\npython --version\npython3 --version\n```\n\n    Python 3.10.5\n    Python 3.10.5\n\n\n### pip\n\n#### å®‰è£… pip\n\næ£€æŸ¥ pip æ˜¯å¦å®‰è£…ä»¥åŠç‰ˆæœ¬\n\n```bash\n%%bash\npip --version\n```\n\n    pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)\n\n\n```bash\n%%bash\npython -m pip --version\n```\n\n    pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)\n\n\nå®‰è£… (Ubuntu):\n\n```bash\nsudo apt-get install python3-pip\n```\n\n#### ç”¨ pip å®‰è£… python åŒ…\n\n```bash\npip install <package>\npip install --upgrade <package>\npip uninstall <package>\npip list\npip list --outdated\npip show <package>\n```\n\nå®‰è£…åˆ°æ ¹ç›®å½• (ä¸æŽ¨è!)\n\n```bash\nsudo -H pip install <package>\n```\n\n[é€‰é¡¹]\n\n| | |\n|:---|:---|\n| -U, --upgrade  | å‡çº§, é…åˆ install ä½¿ç”¨ |\n| --force-reinstall  | å¼ºåˆ¶é‡æ–°å®‰è£…ä¾èµ– |\n| -I, --ignore-installed | å¼ºåˆ¶å®‰è£… (æ— è®ºæ˜¯å¦å·²å®‰è£…) |\n| --no-cache-dir | ä¸ç”Ÿæˆcache |\n| -i <font color=blue>*url*</font> | ä½¿ç”¨æŒ‡å®šæº (æ›´æ”¹é…ç½®è§ [pip é•œåƒæº](#pip-é•œåƒæº)) |\n| <font color=blue>*package*</font>==x.x.x | æŒ‡å®šç‰ˆæœ¬, é”™è¯¯ç‰ˆæœ¬å· (æˆ–ä¸ºç©º) å°†è¿”å›žå¯ç”¨ç‰ˆæœ¬å· |\n| \"<font color=blue>*package*</font><x.x.x\" | æŒ‡å®šå°äºŽæŸç‰ˆæœ¬çš„æœ€æ–°ç‰ˆæœ¬, å¿…é¡»æœ‰å¼•å· |\n\n\næ£€æŸ¥åŒ… (å°è¯•å¯¼å…¥, æŸ¥çœ‹åŒ…ç‰ˆæœ¬):\n\n```bash\npython -c \"import <package>\"\npython -c \"import <package>; print(<package>.__version__)\"  # ç‰ˆæœ¬å·\npython -c \"import <package>; print(<package>.version)\"  # å®‰è£…ä½ç½®\n```\n\n#### ä½¿ pip å®‰è£… python åŒ…åˆ°ç”¨æˆ·è·¯å¾„\n\n```bash\n%%bash\npython -m site | grep 'USER_SITE'\n```\n\n    USER_SITE: '/home/lydia/.local/lib/python3.10/site-packages' (doesn't exist)\n    ENABLE_USER_SITE: True\n\n\n* ç¡®è®¤å·²åˆ›å»ºç”¨æˆ·åŒ…å®‰è£…è·¯å¾„.<br>\n* åœ¨ `~/.bashrc` ä¸­è®¾ç½® `PATH` å˜é‡:\n\n```bash\nexport PATH=$HOME/.local/bin:$PATH\n```\n\n* ä½¿ç”¨ `install` æˆ– `list` æ—¶åŠ ä¸Šé€‰é¡¹ <font color=red>--user</font> (æ³¨æ„: `uninstall` ä¸ç”¨)\n\n> <font color=#b32425>*ä½¿ç”¨ Anaconda è·¯å¾„ä¸‹çš„ pip æ—¶ä¸éœ€è¦è¿™ä¸ªé€‰é¡¹*</font>\n\n```bash\npip install --user <pkg_name>\npip list --user\npip list --outdated --user\n```\n\n### Anaconda\n\n#### å®‰è£… Anaconda æˆ– Miniconda (æŽ¨è)\n\n* å®‰è£… miniconda 64ä½ (é»˜è®¤å®‰è£…åˆ° <font color=blue>~/miniconda3/</font>)\n\n  ä¸‹è½½ <https://conda.io/miniconda.html>\n\n```bash\nbash Miniconda3-latest-Linux-x86_64.sh\n```\n\n* åœ¨ `~/.bashrc` åŠ å…¥å¦‚ä¸‹è¯­å¥:\n\n```bash\nexport PATH=$HOME/miniconda3/bin:$PATH\n. $HOME/miniconda3/etc/profile.d/conda.sh\n```\n\n&ensp;å®ŒæˆåŽæ‰§è¡Œ:\n\n```bash\nsource ~/.bashrc\n```\n\n* å®‰è£…å¥½åŽå…ˆæ›´æ–° conda å’Œ pip:\n\n```bash\nconda update conda pip\n```\n\n* å¸®åŠ©\n\n```bash\nconda [cmd] --help\n```\n\nminiconda ä¸‹è½½ <https://conda.io/miniconda.html><br>\nå®‰è£…å‚è€ƒ <https://conda.io/docs/user-guide/install/index.html>\n\n#### environment\n\né»˜è®¤çŽ¯å¢ƒä¸º base<br>\n`-n, --name <env_name>` æŒ‡å®šçŽ¯å¢ƒ\n\n```bash\nconda create --name <env_name> [<packages>] python=3.6\nconda create --name <env_name> --clone base\n\n# e.g.\nconda create --name intel intelpython3_core python=3\n```\n\n```bash\n# åˆ é™¤çŽ¯å¢ƒ\nconda-env remove --name <env_name>\n*\n# åˆ—å‡ºä¿¡æ¯\nconda info -e/--envs\nconda-env list\n\n# è¿›å…¥çŽ¯å¢ƒ\nsource activate <env_name>\nconda activate <env_name>\n\n# ç¦»å¼€çŽ¯å¢ƒ\nsource deactivate\nconda deactivate\n\n# åœ¨æŸçŽ¯å¢ƒä¸­æ‰§è¡Œæ“ä½œ\nconda <commands> --name <env_name>\n```\n\n#### ä½¿ç”¨ conda å‘½ä»¤\n\n```bash\nconda info\nconda list [<packages>]\nconda search <package>\nconda search <package> --info\nconda install <packages>\nconda update/upgrade <packages>\nconda remove/uninstall <packages>\nconda clean --all\n```\nè§ `conda --help` æˆ– `conda cmd --help`, `conda search` è¯­æ³•è§ <https://github.com/conda/conda/blob/master/conda/models/match_spec.py>\n\né…ç½®:\n```bash\n# å®‰è£…ç¡®è®¤æ—¶æ˜¾ç¤ºæºçš„ url, é»˜è®¤å·²å¼€å¯\nconda config --set show_channel_urls True\n\n# ç¦æ­¢æ¯æ¬¡æ›´æ–°è‡ªåŠ¨æ£€æŸ¥ conda çš„æ›´æ–°, é»˜è®¤True\nconda config --set auto_update_conda False\n\n# ç¦æ­¢æºä¼˜å…ˆè€Œä½¿ç”¨ç‰ˆæœ¬ä¼˜å…ˆ, é»˜è®¤True\nconda config --set channel_priority False\n\n# å¢žåŠ è®¾ç½®, ä¾‹å¦‚å¢žåŠ æº (å¯ä½¿ç”¨ url æˆ–åˆ«å)\nconda config --add channels <channel>\n\n# åˆ é™¤æŸé¡¹è®¾ç½®çš„æ‰€æœ‰å€¼, ä¾‹å¦‚åˆ é™¤æ‰€æœ‰è‡ªå®šä¹‰æº\nconda config --remove-key channels\n\n# åˆ é™¤æŸé¡¹è®¾ç½®çš„æŸä¸ªå€¼, ä¾‹å¦‚åˆ é™¤æŸä¸ªæº\nconda config --remove channels <channel>\n```\n\nç”¨æˆ·é…ç½®æ–‡ä»¶ `~/.condarc` (è§ [conda é•œåƒæº](#conda-é•œåƒæº))<br>\nå‚è€ƒé“¾æŽ¥ <https://conda.io/docs/user-guide/configuration/use-condarc.html>\n\nä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„çŽ¯å¢ƒç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶: `~/miniconda3/envs/<env_name>/.condarc`\n\n### é•œåƒæº\n\n#### pip é•œåƒæº\n\nç”¨æˆ·é…ç½®æ–‡ä»¶:\n\n```bash\n%%bash\ncat ~/.pip/pip.conf\n```\n\n    [global]\n    index-url = <https://pypi.douban.com/simple>\n    trusted-host = pypi.doubanio.com\n\n#### conda é•œåƒæº\n\n```bash\nconda config --add/--prepend channels <new_channel>\nconda config --append channels <new_channel>\n```\n\næ¸…åŽæº:<br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/><br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/><br>\n<https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/><br>\n\nchannels çš„é»˜è®¤çš„ä¼˜å…ˆçº§ä¸º: å‰æŽ’ä¼˜å…ˆ<br>\né•œåƒæºä¸­ `pkgs/main` é€šå¸¸æ¯” `pkgs/free` æ–°, å› æ­¤å°†å…¶æ”¾åœ¨æœ€å‰.<br>\næˆ–ä½¿ç”¨ `channel_priority: false`, è§ä¸Šä¸€èŠ‚ [conda è®¾ç½®](#ä½¿ç”¨-conda-å‘½ä»¤).\n\ne.g.\n\n```bash\nconda config --add channels <https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/>\n```\n\næ­¤æ—¶ `~/.condarc` çš„å†…å®¹:\n\n> channels:<br>\n&emsp;- <https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/><br>\n&emsp;- defaults\n\n### Troubleshooting\n\n#### conda å®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº\n\n```bash\nconda install <packages> -c <channel> --override-channels\n```\n\n#### Astropy æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ Python\n\n```bash\npip install \"astropy<3.0\" # for python < 3.5\n```\n\n## å®‰è£…å¸¸ç”¨åŒ…\n\n### numpy, scipy, matplotlib\n\n```bash\nconda install numpy\nconda install scipy\nconda install matplotlib\n```\n&ensp;Or\n```bash\npip install numpy\npip install scipy\npip install matplotlib\n```\n\né…ç½®å¯åŠ¨æ–‡ä»¶ (Ubuntu), åœ¨ `~/.bashrc` ä¸­æ·»åŠ :\n```bash\nexport PYTHONSTARTUP=$HOME/.pythonrc\n```\n\n```python\ncat ~/.pythonrc\n```\n\n    # Python startup file\n    # ~/.pythonrc\n    import matplotlib.pyplot as plt\n    from matplotlib import cm\n    import numpy as np\n    import os\n    \n    print(\">>> import matplotlib.pyplot as plt\")\n    print(\">>> from matplotlib import cm\")\n    print(\">>> import numpy as np\")\n    print(\">>> import os\")\n    \n    try:\n        from pprint import pprint\n    except ImportError:\n        pass\n    else:\n        print(\">>> from pprint import pprint\")\n    \n    # Tab completion & history\n    try:\n        import atexit, readline, rlcompleter\n    except ImportError:\n        pass\n    else:\n        readline.parse_and_bind('tab: complete') # Tab completion\n        readline.parse_and_bind('''control-l:\"    \"''') # Indent, since TAB is occupied\n        histfile = os.path.join(os.environ['HOME'], '.pyhistory') # History file\n        try:\n            readline.read_history_file(histfile)\n        except IOError:\n            pass\n        atexit.register(readline.write_history_file, histfile)\n        del histfile, readline, rlcompleter\n        print(\"--- Tab completion: [ON] ---\")\n        print(\"--- History: [ON] ---\")\n        print(\"--- [Tab] -> [Ctrl+L] ---\")\n\n\n### Astropy, SunPy\n\n```bash\nconda install astropy\nconda install sunpy -c conda-forge\n```\n&ensp;Or\n```bash\npip install astropy\npip install sunpy[all] pytest\n```\n\næµ‹è¯•:\n\n```python\n>>> import astropy\n>>> astropy.test()\n```\n\n```python\n>>> import sunpy\n>>> sunpy.self_test(online=False)\n```\n\nå¦‚æžœå‡ºé”™: '$USER'æƒé™é—®é¢˜, è§ä¸‹é¢ä¿®æ”¹ `~/.sunpy/sunpyrc` è¯´æ˜Ž.\n\næŸ¥çœ‹åŒ…ä¿¡æ¯:\n\n```bash\n%%bash\nconda search \"conda-forge::sunpy>=4.0\"\n```\n\n    Loading channels: ...working... done\n    # Name                       Version           Build  Channel             \n    sunpy                          4.0.0 py310hde88566_0  conda-forge         \n    sunpy                          4.0.0  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.0  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.1 py310hde88566_0  conda-forge         \n    sunpy                          4.0.1  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.1  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.2 py310hde88566_0  conda-forge         \n    sunpy                          4.0.2  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.2  py39hd257fcd_0  conda-forge         \n    sunpy                          4.0.3 py310hde88566_0  conda-forge         \n    sunpy                          4.0.3  py38h71d37f0_0  conda-forge         \n    sunpy                          4.0.3  py39hd257fcd_0  conda-forge         \n\n\n```bash\n%%bash\nconda search \"sunpy 4.0.3 py310hde88566_0\" --info\n```\n\n    Loading channels: ...working... done\n    sunpy 4.0.3 py310hde88566_0\n    ---------------------------\n    file name   : sunpy-4.0.3-py310hde88566_0.tar.bz2\n    name        : sunpy\n    version     : 4.0.3\n    build       : py310hde88566_0\n    build number: 0\n    size        : 5.7 MB\n    license     : BSD-2-Clause\n    subdir      : linux-64\n    url         : <https://conda.anaconda.org/conda-forge/linux-64/sunpy-4.0.3-py310hde88566_0.tar.bz2>\n    md5         : 5831b8fde0edd2aa0ff9f42b237b7ba2\n    timestamp   : 2022-07-08 16:21:32 UTC\n    dependencies: \n      - asdf >=2.8.0\n      - asdf-astropy >=0.1.1\n      - astropy >=4.1.0\n      - beautifulsoup4 >=4.8.0\n      - cdflib >=0.3.19,!=0.4.0\n      - drms >=0.6.1\n      - glymur >=0.8.18,!=0.9.0,!=0.9.5\n      - h5netcdf >=0.8.1\n      - h5py >=3.1.0\n      - libgcc-ng >=12\n      - matplotlib-base >=3.2.0\n      - mpl_animators >=1.0.0\n      - numpy >=1.21.6,<2.0a0\n      - pandas >=1.0.0\n      - parfive >=1.2.0\n      - python >=3.10,<3.11.0a0\n      - python-dateutil >=2.8.0\n      - python_abi 3.10.* *_cp310\n      - reproject\n      - scikit-image >=0.16.0\n      - scipy >=1.3.0\n      - setuptools\n      - sqlalchemy >=1.3.4\n      - tqdm >=4.32.1\n      - zeep >=3.4.0\n    \n    \n\n\nç”¨æˆ·æ–‡ä»¶ä½ç½®: `~/.sunpy/sunpyrc`\n\n```python\ncat ~/.sunpy/sunpyrc\n```\n\n    [general]\n    time_format = %Y-%m-%d %H:%M:%S\n    working_dir = /home/lydia/sunpy-downloads\n    \n    [downloads]\n    download_dir = /home/lydia/sunpy-downloads/data\n    sample_dir = /home/lydia/sunpy-downloads/data/sample_data\n    \n    [database]\n    url = sqlite:////home/lydia/sunpy-downloads/sunpydb.sqlite\n\n```python\nimport sunpy\nsunpy.util.system_info()\n```\n\n    ==============================\n    sunpy Installation Information\n    ==============================\n    \n    General\n    #######\n    OS: Ubuntu (18.04, Linux 4.19.128-microsoft-standard)\n    Arch: 64bit, (x86_64)\n    sunpy: 4.0.3\n    Installation path: /home/lydia/miniconda3/lib/python3.10/site-packages/sunpy-4.0.3.dist-info\n    \n    Required Dependencies\n    #####################\n    astropy: 5.1\n    numpy: 1.23.1\n    packaging: 21.3\n    parfive: 1.5.1\n    \n    Optional Dependencies\n    #####################\n    asdf: 2.12.0\n    asdf-astropy: 0.2.1\n    beautifulsoup4: 4.11.1\n    cdflib: 0.4.4\n    dask: 2022.7.0\n    drms: 0.6.2\n    glymur: 0.10.1\n    h5netcdf: 0.0.0\n    h5py: 3.7.0\n    matplotlib: 3.5.2\n    mpl-animators: 1.0.1\n    pandas: 1.4.1\n    python-dateutil: 2.8.2\n    reproject: 0.8\n    scikit-image: 0.19.3\n    scipy: 1.8.1\n    sqlalchemy: 1.4.39\n    tqdm: 4.64.0\n    zeep: 4.1.0\n\n\nè®¾ç½®ä¸‹è½½ä½ç½®:<br>\n(å‚è€ƒ <http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)>\n\ne.g.\n> [downloads]<br>\n&emsp;download_dir = ...\n\n```python\n>>> import sunpy\n>>> sunpy.config.set('downloads', 'download_dir',\n                 '/home/<user>/<your_path>/sunpy-downloads/data')\n```\n\né€€å‡ºåŽå†è¿›å…¥ python å¦‚æžœå‘çŽ°æ²¡æœ‰ä¿®æ”¹æˆåŠŸ, åˆ™éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ ~/.sunpy/sunpyrc æ–‡ä»¶.<br>\nä¸èƒ½ç”¨ '$USER' ä»£æ›¿å…·ä½“çš„ç”¨æˆ·å '<user\\>'\n\n### Jupyter\n\n```bash\nconda install jupyter -c conda-forge\n```\n&ensp;Or\n```bash\npip install jupyter\n```\n\n```bash\n%%bash\njupyter --path\n```\n\n    config:\n        /home/lydia/.jupyter\n        /home/lydia/.local/etc/jupyter\n        /home/lydia/miniconda3/etc/jupyter\n        /usr/local/etc/jupyter\n        /etc/jupyter\n    data:\n        /home/lydia/.local/share/jupyter\n        /home/lydia/miniconda3/share/jupyter\n        /usr/local/share/jupyter\n        /usr/share/jupyter\n    runtime:\n        /home/lydia/.local/share/jupyter/runtime\n\n\n* è®¾ç½®åŒå‡»æ‰“å¼€ \\*.ipynb æ–‡ä»¶\n\n\n```bash\npip install nbopen\n```\n\nå†æ‰§è¡Œ:\n\nLinux/BSD: <br>\n```bash\npython3 -m nbopen.install_xdg<br>\n ```   \n\nWindows: <br>\n```bash\npython3 -m nbopen.install_win<br>\n```\n\nMac: <br>\n&ensp;Clone the repository (https://github.com/takluyver/nbopen.git)<br>\n&ensp;and run `./osx-install.sh`<br><br>\nä¹‹åŽå³å¯åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­é€‰æ‹©æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ä¸º `Jupyter Notebook`.\n\n> æ³¨æ„å¯èƒ½ä¼šæ›´æ”¹ bash è„šæœ¬çš„é»˜è®¤æ‰“å¼€æ–¹å¼.\n\n* Jupyter æ’ä»¶é›†åˆ<br>(https://github.com/ipython-contrib/jupyter_contrib_nbextensions)\n\n\n```bash\nconda install jupyter_contrib_nbextensions -c conda-forge\n```\n&ensp;Or\n```bash\npip install jupyter_contrib_nbextensions\n```\n> This also automatically installs the Javascript and CSS files:<br>\n`jupyter contrib nbextension install --sys-prefix`\n\nå®‰è£…å¥½åŽå°†åŒæ—¶å¯ç”¨ `Nbextensions` é€‰é¡¹å¡, æ‰‹åŠ¨é€‰æ‹©éœ€è¦çš„æ’ä»¶, \næˆ–è€…åœ¨å‘½ä»¤è¡Œå¯ç”¨å’Œç¦ç”¨:\n\n```bash\njupyter nbextension list # æŸ¥çœ‹\njupyter nbextension enable <path> # <path> ä¸ºä¸Šè¿° list ä¸­çš„ <extension>/main\njupyter nbextension disable <path>\n```\n\næ³¨æ„ç”¨å¦‚æžœ jupyter å®‰è£…åœ¨ conda è·¯å¾„, æ‰‹åŠ¨å®‰è£…æ’ä»¶ (`jupyter nbextension install`) æ—¶éœ€è¦æŒ‡å®š <font color=red>--sys-prefix</font>\n\n* notebook ä¸»é¢˜ (https://github.com/dunovank/jupyter-themes)\n\n\n```bash\npip install jupyterthemes\n```\n\n* æ¼”ç¤ºä»£ç è¿‡ç¨‹çš„æ’ä»¶ (https://github.com/lgpage/nbtutor)\n\n\n```bash\nconda install nbtutor -c conda-forge\n```\n&ensp;Or\n```bash\npip install nbtutor\njupyter nbextension install --overwrite --py nbtutor\njupyter nbextension enable --py nbtutor\n```\n\nè½½å…¥:\n\n```python\n# ipython/jupyter\n%load_ext nbtutor\n```\nä½¿ç”¨:<br>\nCodeCell ä¸­é¦–è¡ŒåŠ å…¥ä¸‹é¢è¯­å¥, ç„¶åŽæ‰§è¡Œ Cell (numpy ç­‰éœ€è¦åœ¨ Cell å†…å¯¼å…¥)\n```python\n# ipython/jupyter\n%%nbtutor -r -f\n# æˆ–\n%%nbtutor -r -f -i  # ç¼©å‡æ˜¾ç¤º\n```\n\n### å…¶ä»–\n\n* PeakUtils (http://peakutils.readthedocs.io/en/latest/)\n\n\n```bash\ngit clone <https://bitbucket.org/lucashnegri/peakutils.git>\ncd peakutils\npython setup.py install\n```\n\n```python\n>>> import peakutils\n```\n\n* LMfit-py (https://github.com/lmfit/lmfit-py)\n\n\n```bash\nconda install lmfit -c conda-forge\n# æˆ–\npip install lmfit\n```\n\n```python\n>>> import lmfit\n```\n\n* HDF5åŒ… (http://docs.h5py.org/en/latest/index.html)<br>\n\n\n**pandas**\n```bash\nconda install pytables pandas\n```\n&ensp;Or\n```bash\npip install tables pandas\n```\n<br><br>\n**h5py** (http://docs.h5py.org/en/latest/index.html)\n```bash\nconda install h5py  # æŽ¨è. å°†åŒæ—¶å®‰è£… hdf5, å¹¶å¾—åˆ° h5dump ç­‰å‘½ä»¤\n```\n&ensp;Or\n```bash\npip install h5py  # éœ€è¦ sudo apt-get install libhdf5-dev\n```\n\n* CDFåŒ…<br>\n\nå®‰è£… spacepy (https://pythonhosted.org/SpacePy)\n\næˆ–\n\n```bash\npip install cdflib # <https://github.com/MAVENSDC/cdflib>\n```\n\n* EVTK (https://bitbucket.org/pauloh/pyevtk)\n\n\n```bash\nsudo apt-get install mercurial  # å¾—åˆ° hg å‘½ä»¤\n\nhg clone <https://bitbucket.org/pauloh/pyevtk>\ncd pyevtk\npython setup.py build --debug install\n```\n\n```bash\nhg pull && hg update default # æ›´æ–°\n```\n\n```python\n>>> from evtk.hl import gridToVTK\n```\n\n* Mayavi (http://docs.enthought.com/mayavi/mayavi)\n\n&emsp;éœ€è¦å…ˆå®‰è£… cython (conda æˆ– pip)\n\n```bash\npip install mayavi  # å°†åŒæ—¶å®‰è£… vtk. (pip æ˜¯ç›®å‰ mayavi æœ€ä¿é™©çš„å®‰è£…æ–¹å¼)\n```\n```bash\n# shell\nmayavi2\n```\n","slug":"installpy","published":1,"updated":"2018-07-02T12:45:13.000Z","__permalink":"installpy.html","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegavm0003vxgv2lqjf5w9","content":"<p><a\nhref=\"/downloads/notebooks/installpy.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<p><small><font color=gray>[Update 2022-07-12] Some outputs are updated\nwith python 3.10.</font></small></p>\n<span id=\"more\"></span>\n<h2 id=\"å®‰è£…-python\">å®‰è£… python</h2>\n<h3 id=\"å®‰è£…-python-3\">å®‰è£… python 3</h3>\n<ul>\n<li>æ£€æŸ¥ç³»ç»Ÿè‡ªå¸¦çš„ç‰ˆæœ¬:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">)</span>\n!<span class=\"token punctuation\">&#123;</span>sys<span class=\"token punctuation\">.</span>executable<span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\nPython 3.10.5</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython --version\npython3 --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>Python 3.10.5\nPython 3.10.5</code></pre>\n<h3 id=\"pip\">pip</h3>\n<h4 id=\"å®‰è£…-pip\">å®‰è£… pip</h4>\n<p>æ£€æŸ¥ pip æ˜¯å¦å®‰è£…ä»¥åŠç‰ˆæœ¬</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npip --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython -m pip --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)</code></pre>\n<p>å®‰è£… (Ubuntu):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> python3-pip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"ç”¨-pip-å®‰è£…-python-åŒ…\">ç”¨ pip å®‰è£… python åŒ…</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip <span class=\"token function\">install</span> --upgrade <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip uninstall <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip list\npip list --outdated\npip show <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å®‰è£…åˆ°æ ¹ç›®å½• (ä¸æŽ¨è!)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> -H pip <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>[é€‰é¡¹]</p>\n<table>\n<colgroup>\n<col style=\"width: 50%\" />\n<col style=\"width: 50%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-U, --upgrade</td>\n<td style=\"text-align: left;\">å‡çº§, é…åˆ install ä½¿ç”¨</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">--force-reinstall</td>\n<td style=\"text-align: left;\">å¼ºåˆ¶é‡æ–°å®‰è£…ä¾èµ–</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-I, --ignore-installed</td>\n<td style=\"text-align: left;\">å¼ºåˆ¶å®‰è£… (æ— è®ºæ˜¯å¦å·²å®‰è£…)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">--no-cache-dir</td>\n<td style=\"text-align: left;\">ä¸ç”Ÿæˆcache</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-i\n<font color=blue><em>url</em></font></td>\n<td style=\"text-align: left;\">ä½¿ç”¨æŒ‡å®šæº (æ›´æ”¹é…ç½®è§ <a\nhref=\"#pip-é•œåƒæº\">pip é•œåƒæº</a>)</td>\n</tr>\n<tr class=\"even\">\n<td\nstyle=\"text-align: left;\"><font color=blue><em>package</em></font>==x.x.x</td>\n<td style=\"text-align: left;\">æŒ‡å®šç‰ˆæœ¬, é”™è¯¯ç‰ˆæœ¬å· (æˆ–ä¸ºç©º)\nå°†è¿”å›žå¯ç”¨ç‰ˆæœ¬å·</td>\n</tr>\n<tr class=\"odd\">\n<td\nstyle=\"text-align: left;\">\"<font color=blue><em>package</em></font>&lt;x.x.x\"</td>\n<td style=\"text-align: left;\">æŒ‡å®šå°äºŽæŸç‰ˆæœ¬çš„æœ€æ–°ç‰ˆæœ¬, å¿…é¡»æœ‰å¼•å·</td>\n</tr>\n</tbody>\n</table>\n<p>æ£€æŸ¥åŒ… (å°è¯•å¯¼å…¥, æŸ¥çœ‹åŒ…ç‰ˆæœ¬):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">python -c <span class=\"token string\">\"import &lt;package>\"</span>\npython -c <span class=\"token string\">\"import &lt;package>; print(&lt;package>.__version__)\"</span>  <span class=\"token comment\"># ç‰ˆæœ¬å·</span>\npython -c <span class=\"token string\">\"import &lt;package>; print(&lt;package>.version)\"</span>  <span class=\"token comment\"># å®‰è£…ä½ç½®</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"ä½¿-pip-å®‰è£…-python-åŒ…åˆ°ç”¨æˆ·è·¯å¾„\">ä½¿ pip å®‰è£… python\nåŒ…åˆ°ç”¨æˆ·è·¯å¾„</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython -m site <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">'USER_SITE'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>USER_SITE: &#39;/home/lydia/.local/lib/python3.10/site-packages&#39; (doesn&#39;t exist)\nENABLE_USER_SITE: True</code></pre>\n<ul>\n<li>ç¡®è®¤å·²åˆ›å»ºç”¨æˆ·åŒ…å®‰è£…è·¯å¾„.<br></li>\n<li>åœ¨ <code>~/.bashrc</code> ä¸­è®¾ç½® <code>PATH</code> å˜é‡:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.local/bin:<span class=\"token environment constant\">$PATH</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>ä½¿ç”¨ <code>install</code> æˆ– <code>list</code> æ—¶åŠ ä¸Šé€‰é¡¹\n<font color=red>--user</font> (æ³¨æ„: <code>uninstall</code> ä¸ç”¨)</li>\n</ul>\n<blockquote>\n<p><font color=#b32425><em>ä½¿ç”¨ Anaconda è·¯å¾„ä¸‹çš„ pip\næ—¶ä¸éœ€è¦è¿™ä¸ªé€‰é¡¹</em></font></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> --user <span class=\"token operator\">&lt;</span>pkg_name<span class=\"token operator\">></span>\npip list --user\npip list --outdated --user<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"anaconda\">Anaconda</h3>\n<h4 id=\"å®‰è£…-anaconda-æˆ–-miniconda-æŽ¨è\">å®‰è£… Anaconda æˆ– Miniconda\n(æŽ¨è)</h4>\n<ul>\n<li><p>å®‰è£… miniconda 64ä½ (é»˜è®¤å®‰è£…åˆ°\n<font color=blue>~/miniconda3/</font>)</p>\n<p>ä¸‹è½½ <a href=\"https://conda.io/miniconda.html\"\nclass=\"uri\">https://conda.io/miniconda.html</a></p></li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">bash</span> Miniconda3-latest-Linux-x86_64.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>åœ¨ <code>~/.bashrc</code> åŠ å…¥å¦‚ä¸‹è¯­å¥:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/miniconda3/bin:<span class=\"token environment constant\">$PATH</span>\n<span class=\"token builtin class-name\">.</span> <span class=\"token environment constant\">$HOME</span>/miniconda3/etc/profile.d/conda.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>â€‚å®ŒæˆåŽæ‰§è¡Œ:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>å®‰è£…å¥½åŽå…ˆæ›´æ–° conda å’Œ pip:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda update conda pip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>å¸®åŠ©</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token punctuation\">[</span>cmd<span class=\"token punctuation\">]</span> --help<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>miniconda ä¸‹è½½ <a href=\"https://conda.io/miniconda.html\"\nclass=\"uri\">https://conda.io/miniconda.html</a><br> å®‰è£…å‚è€ƒ <a\nhref=\"https://conda.io/docs/user-guide/install/index.html\"\nclass=\"uri\">https://conda.io/docs/user-guide/install/index.html</a></p>\n<h4 id=\"environment\">environment</h4>\n<p>é»˜è®¤çŽ¯å¢ƒä¸º base<br> <code>-n, --name &lt;env_name&gt;</code>\næŒ‡å®šçŽ¯å¢ƒ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda create --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span><span class=\"token punctuation\">]</span> <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.6</span>\nconda create --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span> --clone base\n\n<span class=\"token comment\"># e.g.</span>\nconda create --name intel intelpython3_core <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># åˆ é™¤çŽ¯å¢ƒ</span>\nconda-env remove --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\n*\n<span class=\"token comment\"># åˆ—å‡ºä¿¡æ¯</span>\nconda info -e/--envs\nconda-env list\n\n<span class=\"token comment\"># è¿›å…¥çŽ¯å¢ƒ</span>\n<span class=\"token builtin class-name\">source</span> activate <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\nconda activate <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># ç¦»å¼€çŽ¯å¢ƒ</span>\n<span class=\"token builtin class-name\">source</span> deactivate\nconda deactivate\n\n<span class=\"token comment\"># åœ¨æŸçŽ¯å¢ƒä¸­æ‰§è¡Œæ“ä½œ</span>\nconda <span class=\"token operator\">&lt;</span>commands<span class=\"token operator\">></span> --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"ä½¿ç”¨-conda-å‘½ä»¤\">ä½¿ç”¨ conda å‘½ä»¤</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda info\nconda list <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span><span class=\"token punctuation\">]</span>\nconda search <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\nconda search <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span> --info\nconda <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda update/upgrade <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda remove/uninstall <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda clean --all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>è§ <code>conda --help</code> æˆ– <code>conda cmd --help</code>,\n<code>conda search</code> è¯­æ³•è§ <a\nhref=\"https://github.com/conda/conda/blob/master/conda/models/match_spec.py\"\nclass=\"uri\">https://github.com/conda/conda/blob/master/conda/models/match_spec.py</a></p>\n<p>é…ç½®: <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># å®‰è£…ç¡®è®¤æ—¶æ˜¾ç¤ºæºçš„ url, é»˜è®¤å·²å¼€å¯</span>\nconda config --set show_channel_urls True\n\n<span class=\"token comment\"># ç¦æ­¢æ¯æ¬¡æ›´æ–°è‡ªåŠ¨æ£€æŸ¥ conda çš„æ›´æ–°, é»˜è®¤True</span>\nconda config --set auto_update_conda False\n\n<span class=\"token comment\"># ç¦æ­¢æºä¼˜å…ˆè€Œä½¿ç”¨ç‰ˆæœ¬ä¼˜å…ˆ, é»˜è®¤True</span>\nconda config --set channel_priority False\n\n<span class=\"token comment\"># å¢žåŠ è®¾ç½®, ä¾‹å¦‚å¢žåŠ æº (å¯ä½¿ç”¨ url æˆ–åˆ«å)</span>\nconda config --add channels <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># åˆ é™¤æŸé¡¹è®¾ç½®çš„æ‰€æœ‰å€¼, ä¾‹å¦‚åˆ é™¤æ‰€æœ‰è‡ªå®šä¹‰æº</span>\nconda config --remove-key channels\n\n<span class=\"token comment\"># åˆ é™¤æŸé¡¹è®¾ç½®çš„æŸä¸ªå€¼, ä¾‹å¦‚åˆ é™¤æŸä¸ªæº</span>\nconda config --remove channels <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>ç”¨æˆ·é…ç½®æ–‡ä»¶ <code>~/.condarc</code> (è§ <a\nhref=\"#conda-é•œåƒæº\">conda é•œåƒæº</a>)<br> å‚è€ƒé“¾æŽ¥ <a\nhref=\"https://conda.io/docs/user-guide/configuration/use-condarc.html\"\nclass=\"uri\">https://conda.io/docs/user-guide/configuration/use-condarc.html</a></p>\n<p>ä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„çŽ¯å¢ƒç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶:\n<code>~/miniconda3/envs/&lt;env_name&gt;/.condarc</code></p>\n<h3 id=\"é•œåƒæº\">é•œåƒæº</h3>\n<h4 id=\"pip-é•œåƒæº\">pip é•œåƒæº</h4>\n<p>ç”¨æˆ·é…ç½®æ–‡ä»¶:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token function\">cat</span> ~/.pip/pip.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[global]\nindex-url = &lt;https://pypi.douban.com/simple&gt;\ntrusted-host = pypi.doubanio.com</code></pre>\n<h4 id=\"conda-é•œåƒæº\">conda é•œåƒæº</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda config --add/--prepend channels <span class=\"token operator\">&lt;</span>new_channel<span class=\"token operator\">></span>\nconda config --append channels <span class=\"token operator\">&lt;</span>new_channel<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>æ¸…åŽæº:<br> <a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</a><br>\n<a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>\n<a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a><br></p>\n<p>channels çš„é»˜è®¤çš„ä¼˜å…ˆçº§ä¸º: å‰æŽ’ä¼˜å…ˆ<br> é•œåƒæºä¸­\n<code>pkgs/main</code> é€šå¸¸æ¯” <code>pkgs/free</code> æ–°,\nå› æ­¤å°†å…¶æ”¾åœ¨æœ€å‰.<br> æˆ–ä½¿ç”¨ <code>channel_priority: false</code>,\nè§ä¸Šä¸€èŠ‚ <a href=\"#ä½¿ç”¨-conda-å‘½ä»¤\">conda è®¾ç½®</a>.</p>\n<p>e.g.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda config --add channels <span class=\"token operator\">&lt;</span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æ­¤æ—¶ <code>~/.condarc</code> çš„å†…å®¹:</p>\n<blockquote>\n<p>channels:<br> â€ƒ- <a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a><br>\nâ€ƒ- defaults</p>\n</blockquote>\n<h3 id=\"troubleshooting\">Troubleshooting</h3>\n<h4 id=\"conda-å®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº\">conda\nå®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span> -c <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span> --override-channels<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"astropy-æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ-python\">Astropy æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ\nPython</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token string\">\"astropy&lt;3.0\"</span> <span class=\"token comment\"># for python &lt; 3.5</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"å®‰è£…å¸¸ç”¨åŒ…\">å®‰è£…å¸¸ç”¨åŒ…</h2>\n<h3 id=\"numpy-scipy-matplotlib\">numpy, scipy, matplotlib</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> numpy\nconda <span class=\"token function\">install</span> scipy\nconda <span class=\"token function\">install</span> matplotlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> numpy\npip <span class=\"token function\">install</span> scipy\npip <span class=\"token function\">install</span> matplotlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>é…ç½®å¯åŠ¨æ–‡ä»¶ (Ubuntu), åœ¨ <code>~/.bashrc</code> ä¸­æ·»åŠ :\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">PYTHONSTARTUP</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.pythonrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>pythonrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code># Python startup file\n# ~/.pythonrc\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nimport numpy as np\nimport os\n\nprint(&quot;&gt;&gt;&gt; import matplotlib.pyplot as plt&quot;)\nprint(&quot;&gt;&gt;&gt; from matplotlib import cm&quot;)\nprint(&quot;&gt;&gt;&gt; import numpy as np&quot;)\nprint(&quot;&gt;&gt;&gt; import os&quot;)\n\ntry:\n    from pprint import pprint\nexcept ImportError:\n    pass\nelse:\n    print(&quot;&gt;&gt;&gt; from pprint import pprint&quot;)\n\n# Tab completion &amp; history\ntry:\n    import atexit, readline, rlcompleter\nexcept ImportError:\n    pass\nelse:\n    readline.parse_and_bind(&#39;tab: complete&#39;) # Tab completion\n    readline.parse_and_bind(&#39;&#39;&#39;control-l:&quot;    &quot;&#39;&#39;&#39;) # Indent, since TAB is occupied\n    histfile = os.path.join(os.environ[&#39;HOME&#39;], &#39;.pyhistory&#39;) # History file\n    try:\n        readline.read_history_file(histfile)\n    except IOError:\n        pass\n    atexit.register(readline.write_history_file, histfile)\n    del histfile, readline, rlcompleter\n    print(&quot;--- Tab completion: [ON] ---&quot;)\n    print(&quot;--- History: [ON] ---&quot;)\n    print(&quot;--- [Tab] -&gt; [Ctrl+L] ---&quot;)</code></pre>\n<h3 id=\"astropy-sunpy\">Astropy, SunPy</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> astropy\nconda <span class=\"token function\">install</span> sunpy -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> astropy\npip <span class=\"token function\">install</span> sunpy<span class=\"token punctuation\">[</span>all<span class=\"token punctuation\">]</span> pytest<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p>\n<p>æµ‹è¯•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> astropy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> astropy<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sunpy<span class=\"token punctuation\">.</span>self_test<span class=\"token punctuation\">(</span>online<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>å¦‚æžœå‡ºé”™: '$USER'æƒé™é—®é¢˜, è§ä¸‹é¢ä¿®æ”¹ <code>~/.sunpy/sunpyrc</code>\nè¯´æ˜Ž.</p>\n<p>æŸ¥çœ‹åŒ…ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\nconda search <span class=\"token string\">\"conda-forge::sunpy>=4.0\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Loading channels: ...working... done\n# Name                       Version           Build  Channel             \nsunpy                          4.0.0 py310hde88566_0  conda-forge         \nsunpy                          4.0.0  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.0  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.1 py310hde88566_0  conda-forge         \nsunpy                          4.0.1  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.1  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.2 py310hde88566_0  conda-forge         \nsunpy                          4.0.2  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.2  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.3 py310hde88566_0  conda-forge         \nsunpy                          4.0.3  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.3  py39hd257fcd_0  conda-forge         </code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\nconda search <span class=\"token string\">\"sunpy 4.0.3 py310hde88566_0\"</span> --info<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Loading channels: ...working... done\nsunpy 4.0.3 py310hde88566_0\n---------------------------\nfile name   : sunpy-4.0.3-py310hde88566_0.tar.bz2\nname        : sunpy\nversion     : 4.0.3\nbuild       : py310hde88566_0\nbuild number: 0\nsize        : 5.7 MB\nlicense     : BSD-2-Clause\nsubdir      : linux-64\nurl         : &lt;https://conda.anaconda.org/conda-forge/linux-64/sunpy-4.0.3-py310hde88566_0.tar.bz2&gt;\nmd5         : 5831b8fde0edd2aa0ff9f42b237b7ba2\ntimestamp   : 2022-07-08 16:21:32 UTC\ndependencies: \n  - asdf &gt;=2.8.0\n  - asdf-astropy &gt;=0.1.1\n  - astropy &gt;=4.1.0\n  - beautifulsoup4 &gt;=4.8.0\n  - cdflib &gt;=0.3.19,!=0.4.0\n  - drms &gt;=0.6.1\n  - glymur &gt;=0.8.18,!=0.9.0,!=0.9.5\n  - h5netcdf &gt;=0.8.1\n  - h5py &gt;=3.1.0\n  - libgcc-ng &gt;=12\n  - matplotlib-base &gt;=3.2.0\n  - mpl_animators &gt;=1.0.0\n  - numpy &gt;=1.21.6,&lt;2.0a0\n  - pandas &gt;=1.0.0\n  - parfive &gt;=1.2.0\n  - python &gt;=3.10,&lt;3.11.0a0\n  - python-dateutil &gt;=2.8.0\n  - python_abi 3.10.* *_cp310\n  - reproject\n  - scikit-image &gt;=0.16.0\n  - scipy &gt;=1.3.0\n  - setuptools\n  - sqlalchemy &gt;=1.3.4\n  - tqdm &gt;=4.32.1\n  - zeep &gt;=3.4.0</code></pre>\n<p>ç”¨æˆ·æ–‡ä»¶ä½ç½®: <code>~/.sunpy/sunpyrc</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>sunpy<span class=\"token operator\">/</span>sunpyrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[general]\ntime_format = %Y-%m-%d %H:%M:%S\nworking_dir = /home/lydia/sunpy-downloads\n\n[downloads]\ndownload_dir = /home/lydia/sunpy-downloads/data\nsample_dir = /home/lydia/sunpy-downloads/data/sample_data\n\n[database]\nurl = sqlite:////home/lydia/sunpy-downloads/sunpydb.sqlite</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy\nsunpy<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>system_info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>==============================\nsunpy Installation Information\n==============================\n\nGeneral\n#######\nOS: Ubuntu (18.04, Linux 4.19.128-microsoft-standard)\nArch: 64bit, (x86_64)\nsunpy: 4.0.3\nInstallation path: /home/lydia/miniconda3/lib/python3.10/site-packages/sunpy-4.0.3.dist-info\n\nRequired Dependencies\n#####################\nastropy: 5.1\nnumpy: 1.23.1\npackaging: 21.3\nparfive: 1.5.1\n\nOptional Dependencies\n#####################\nasdf: 2.12.0\nasdf-astropy: 0.2.1\nbeautifulsoup4: 4.11.1\ncdflib: 0.4.4\ndask: 2022.7.0\ndrms: 0.6.2\nglymur: 0.10.1\nh5netcdf: 0.0.0\nh5py: 3.7.0\nmatplotlib: 3.5.2\nmpl-animators: 1.0.1\npandas: 1.4.1\npython-dateutil: 2.8.2\nreproject: 0.8\nscikit-image: 0.19.3\nscipy: 1.8.1\nsqlalchemy: 1.4.39\ntqdm: 4.64.0\nzeep: 4.1.0</code></pre>\n<p>è®¾ç½®ä¸‹è½½ä½ç½®:<br> (å‚è€ƒ <a\nhref=\"http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)</a></p>\n<p>e.g. &gt; [downloads]<br> â€ƒdownload_dir = ...</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sunpy<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'downloads'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'download_dir'</span><span class=\"token punctuation\">,</span>\n                 <span class=\"token string\">'/home/&lt;user>/&lt;your_path>/sunpy-downloads/data'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>é€€å‡ºåŽå†è¿›å…¥ python å¦‚æžœå‘çŽ°æ²¡æœ‰ä¿®æ”¹æˆåŠŸ, åˆ™éœ€è¦æ‰‹åŠ¨ä¿®æ”¹\n~/.sunpy/sunpyrc æ–‡ä»¶.<br> ä¸èƒ½ç”¨ '$USER' ä»£æ›¿å…·ä½“çš„ç”¨æˆ·å\n'&lt;user&gt;'</p>\n<h3 id=\"jupyter\">Jupyter</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> jupyter -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyter<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\njupyter --path<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>config:\n    /home/lydia/.jupyter\n    /home/lydia/.local/etc/jupyter\n    /home/lydia/miniconda3/etc/jupyter\n    /usr/local/etc/jupyter\n    /etc/jupyter\ndata:\n    /home/lydia/.local/share/jupyter\n    /home/lydia/miniconda3/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n    /home/lydia/.local/share/jupyter/runtime</code></pre>\n<ul>\n<li>è®¾ç½®åŒå‡»æ‰“å¼€ *.ipynb æ–‡ä»¶</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> nbopen<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å†æ‰§è¡Œ:</p>\n<p>Linux/BSD: <br> <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">python3 -m nbopen.install_xdg<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n ``<span class=\"token variable\"><span class=\"token variable\">`</span>   \n\nWindows: <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n<span class=\"token variable\">`</span></span>``bash\npython3 -m nbopen.install_win<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>Mac: <br> â€‚Clone the repository\n(https://github.com/takluyver/nbopen.git)<br> â€‚and run\n<code>./osx-install.sh</code><br><br>\nä¹‹åŽå³å¯åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­é€‰æ‹©æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ä¸º\n<code>Jupyter Notebook</code>.</p>\n<blockquote>\n<p>æ³¨æ„å¯èƒ½ä¼šæ›´æ”¹ bash è„šæœ¬çš„é»˜è®¤æ‰“å¼€æ–¹å¼.</p>\n</blockquote>\n<ul>\n<li>Jupyter\næ’ä»¶é›†åˆ<br>(https://github.com/ipython-contrib/jupyter_contrib_nbextensions)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> jupyter_contrib_nbextensions -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyter_contrib_nbextensions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> &gt; This also automatically installs the\nJavascript and CSS files:<br>\n<code>jupyter contrib nbextension install --sys-prefix</code></p>\n<p>å®‰è£…å¥½åŽå°†åŒæ—¶å¯ç”¨ <code>Nbextensions</code> é€‰é¡¹å¡,\næ‰‹åŠ¨é€‰æ‹©éœ€è¦çš„æ’ä»¶, æˆ–è€…åœ¨å‘½ä»¤è¡Œå¯ç”¨å’Œç¦ç”¨:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">jupyter nbextension list <span class=\"token comment\"># æŸ¥çœ‹</span>\njupyter nbextension <span class=\"token builtin class-name\">enable</span> <span class=\"token operator\">&lt;</span>path<span class=\"token operator\">></span> <span class=\"token comment\"># &lt;path> ä¸ºä¸Šè¿° list ä¸­çš„ &lt;extension>/main</span>\njupyter nbextension disable <span class=\"token operator\">&lt;</span>path<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>æ³¨æ„ç”¨å¦‚æžœ jupyter å®‰è£…åœ¨ conda è·¯å¾„, æ‰‹åŠ¨å®‰è£…æ’ä»¶\n(<code>jupyter nbextension install</code>) æ—¶éœ€è¦æŒ‡å®š\n<font color=red>--sys-prefix</font></p>\n<ul>\n<li>notebook ä¸»é¢˜ (https://github.com/dunovank/jupyter-themes)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyterthemes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>æ¼”ç¤ºä»£ç è¿‡ç¨‹çš„æ’ä»¶ (https://github.com/lgpage/nbtutor)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> nbtutor -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> nbtutor\njupyter nbextension <span class=\"token function\">install</span> --overwrite --py nbtutor\njupyter nbextension <span class=\"token builtin class-name\">enable</span> --py nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>è½½å…¥:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\n<span class=\"token operator\">%</span>load_ext nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>ä½¿ç”¨:<br> CodeCell ä¸­é¦–è¡ŒåŠ å…¥ä¸‹é¢è¯­å¥, ç„¶åŽæ‰§è¡Œ Cell (numpy ç­‰éœ€è¦åœ¨\nCell å†…å¯¼å…¥) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f\n<span class=\"token comment\"># æˆ–</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i  <span class=\"token comment\"># ç¼©å‡æ˜¾ç¤º</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"å…¶ä»–\">å…¶ä»–</h3>\n<ul>\n<li>PeakUtils (http://peakutils.readthedocs.io/en/latest/)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone <span class=\"token operator\">&lt;</span>https://bitbucket.org/lucashnegri/peakutils.git<span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">cd</span> peakutils\npython setup.py <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> peakutils<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>LMfit-py (https://github.com/lmfit/lmfit-py)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> lmfit -c conda-forge\n<span class=\"token comment\"># æˆ–</span>\npip <span class=\"token function\">install</span> lmfit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> lmfit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>HDF5åŒ… (http://docs.h5py.org/en/latest/index.html)<br></li>\n</ul>\n<p><strong>pandas</strong> <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> pytables pandas<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> tables pandas<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> <br><br>\n<strong>h5py</strong> (http://docs.h5py.org/en/latest/index.html)\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> h5py  <span class=\"token comment\"># æŽ¨è. å°†åŒæ—¶å®‰è£… hdf5, å¹¶å¾—åˆ° h5dump ç­‰å‘½ä»¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> h5py  <span class=\"token comment\"># éœ€è¦ sudo apt-get install libhdf5-dev</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<ul>\n<li>CDFåŒ…<br></li>\n</ul>\n<p>å®‰è£… spacepy (https://pythonhosted.org/SpacePy)</p>\n<p>æˆ–</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> cdflib <span class=\"token comment\"># &lt;https://github.com/MAVENSDC/cdflib></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>EVTK (https://bitbucket.org/pauloh/pyevtk)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> mercurial  <span class=\"token comment\"># å¾—åˆ° hg å‘½ä»¤</span>\n\n<span class=\"token function\">hg</span> clone <span class=\"token operator\">&lt;</span>https://bitbucket.org/pauloh/pyevtk<span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">cd</span> pyevtk\npython setup.py build --debug <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">hg</span> pull <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">hg</span> update default <span class=\"token comment\"># æ›´æ–°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> evtk<span class=\"token punctuation\">.</span>hl <span class=\"token keyword\">import</span> gridToVTK<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>Mayavi (http://docs.enthought.com/mayavi/mayavi)</li>\n</ul>\n<p>â€ƒéœ€è¦å…ˆå®‰è£… cython (conda æˆ– pip)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> mayavi  <span class=\"token comment\"># å°†åŒæ—¶å®‰è£… vtk. (pip æ˜¯ç›®å‰ mayavi æœ€ä¿é™©çš„å®‰è£…æ–¹å¼)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># shell</span>\nmayavi2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n","site":{"data":{}},"excerpt":"<p><a\nhref=\"/downloads/notebooks/installpy.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<p><small><font color=gray>[Update 2022-07-12] Some outputs are updated\nwith python 3.10.</font></small></p>","more":"<h2 id=\"å®‰è£…-python\">å®‰è£… python</h2>\n<h3 id=\"å®‰è£…-python-3\">å®‰è£… python 3</h3>\n<ul>\n<li>æ£€æŸ¥ç³»ç»Ÿè‡ªå¸¦çš„ç‰ˆæœ¬:</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">)</span>\n!<span class=\"token punctuation\">&#123;</span>sys<span class=\"token punctuation\">.</span>executable<span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\nPython 3.10.5</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython --version\npython3 --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>Python 3.10.5\nPython 3.10.5</code></pre>\n<h3 id=\"pip\">pip</h3>\n<h4 id=\"å®‰è£…-pip\">å®‰è£… pip</h4>\n<p>æ£€æŸ¥ pip æ˜¯å¦å®‰è£…ä»¥åŠç‰ˆæœ¬</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npip --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)</code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython -m pip --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>pip 22.1.2 from /home/lydia/miniconda3/lib/python3.10/site-packages/pip (python 3.10)</code></pre>\n<p>å®‰è£… (Ubuntu):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> python3-pip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"ç”¨-pip-å®‰è£…-python-åŒ…\">ç”¨ pip å®‰è£… python åŒ…</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip <span class=\"token function\">install</span> --upgrade <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip uninstall <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\npip list\npip list --outdated\npip show <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å®‰è£…åˆ°æ ¹ç›®å½• (ä¸æŽ¨è!)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> -H pip <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>[é€‰é¡¹]</p>\n<table>\n<colgroup>\n<col style=\"width: 50%\" />\n<col style=\"width: 50%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-U, --upgrade</td>\n<td style=\"text-align: left;\">å‡çº§, é…åˆ install ä½¿ç”¨</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">--force-reinstall</td>\n<td style=\"text-align: left;\">å¼ºåˆ¶é‡æ–°å®‰è£…ä¾èµ–</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-I, --ignore-installed</td>\n<td style=\"text-align: left;\">å¼ºåˆ¶å®‰è£… (æ— è®ºæ˜¯å¦å·²å®‰è£…)</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">--no-cache-dir</td>\n<td style=\"text-align: left;\">ä¸ç”Ÿæˆcache</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">-i\n<font color=blue><em>url</em></font></td>\n<td style=\"text-align: left;\">ä½¿ç”¨æŒ‡å®šæº (æ›´æ”¹é…ç½®è§ <a\nhref=\"#pip-é•œåƒæº\">pip é•œåƒæº</a>)</td>\n</tr>\n<tr class=\"even\">\n<td\nstyle=\"text-align: left;\"><font color=blue><em>package</em></font>==x.x.x</td>\n<td style=\"text-align: left;\">æŒ‡å®šç‰ˆæœ¬, é”™è¯¯ç‰ˆæœ¬å· (æˆ–ä¸ºç©º)\nå°†è¿”å›žå¯ç”¨ç‰ˆæœ¬å·</td>\n</tr>\n<tr class=\"odd\">\n<td\nstyle=\"text-align: left;\">\"<font color=blue><em>package</em></font>&lt;x.x.x\"</td>\n<td style=\"text-align: left;\">æŒ‡å®šå°äºŽæŸç‰ˆæœ¬çš„æœ€æ–°ç‰ˆæœ¬, å¿…é¡»æœ‰å¼•å·</td>\n</tr>\n</tbody>\n</table>\n<p>æ£€æŸ¥åŒ… (å°è¯•å¯¼å…¥, æŸ¥çœ‹åŒ…ç‰ˆæœ¬):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">python -c <span class=\"token string\">\"import &lt;package>\"</span>\npython -c <span class=\"token string\">\"import &lt;package>; print(&lt;package>.__version__)\"</span>  <span class=\"token comment\"># ç‰ˆæœ¬å·</span>\npython -c <span class=\"token string\">\"import &lt;package>; print(&lt;package>.version)\"</span>  <span class=\"token comment\"># å®‰è£…ä½ç½®</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"ä½¿-pip-å®‰è£…-python-åŒ…åˆ°ç”¨æˆ·è·¯å¾„\">ä½¿ pip å®‰è£… python\nåŒ…åˆ°ç”¨æˆ·è·¯å¾„</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\npython -m site <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">'USER_SITE'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>USER_SITE: &#39;/home/lydia/.local/lib/python3.10/site-packages&#39; (doesn&#39;t exist)\nENABLE_USER_SITE: True</code></pre>\n<ul>\n<li>ç¡®è®¤å·²åˆ›å»ºç”¨æˆ·åŒ…å®‰è£…è·¯å¾„.<br></li>\n<li>åœ¨ <code>~/.bashrc</code> ä¸­è®¾ç½® <code>PATH</code> å˜é‡:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.local/bin:<span class=\"token environment constant\">$PATH</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>ä½¿ç”¨ <code>install</code> æˆ– <code>list</code> æ—¶åŠ ä¸Šé€‰é¡¹\n<font color=red>--user</font> (æ³¨æ„: <code>uninstall</code> ä¸ç”¨)</li>\n</ul>\n<blockquote>\n<p><font color=#b32425><em>ä½¿ç”¨ Anaconda è·¯å¾„ä¸‹çš„ pip\næ—¶ä¸éœ€è¦è¿™ä¸ªé€‰é¡¹</em></font></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> --user <span class=\"token operator\">&lt;</span>pkg_name<span class=\"token operator\">></span>\npip list --user\npip list --outdated --user<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"anaconda\">Anaconda</h3>\n<h4 id=\"å®‰è£…-anaconda-æˆ–-miniconda-æŽ¨è\">å®‰è£… Anaconda æˆ– Miniconda\n(æŽ¨è)</h4>\n<ul>\n<li><p>å®‰è£… miniconda 64ä½ (é»˜è®¤å®‰è£…åˆ°\n<font color=blue>~/miniconda3/</font>)</p>\n<p>ä¸‹è½½ <a href=\"https://conda.io/miniconda.html\"\nclass=\"uri\">https://conda.io/miniconda.html</a></p></li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">bash</span> Miniconda3-latest-Linux-x86_64.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>åœ¨ <code>~/.bashrc</code> åŠ å…¥å¦‚ä¸‹è¯­å¥:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/miniconda3/bin:<span class=\"token environment constant\">$PATH</span>\n<span class=\"token builtin class-name\">.</span> <span class=\"token environment constant\">$HOME</span>/miniconda3/etc/profile.d/conda.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>â€‚å®ŒæˆåŽæ‰§è¡Œ:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>å®‰è£…å¥½åŽå…ˆæ›´æ–° conda å’Œ pip:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda update conda pip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>å¸®åŠ©</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token punctuation\">[</span>cmd<span class=\"token punctuation\">]</span> --help<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>miniconda ä¸‹è½½ <a href=\"https://conda.io/miniconda.html\"\nclass=\"uri\">https://conda.io/miniconda.html</a><br> å®‰è£…å‚è€ƒ <a\nhref=\"https://conda.io/docs/user-guide/install/index.html\"\nclass=\"uri\">https://conda.io/docs/user-guide/install/index.html</a></p>\n<h4 id=\"environment\">environment</h4>\n<p>é»˜è®¤çŽ¯å¢ƒä¸º base<br> <code>-n, --name &lt;env_name&gt;</code>\næŒ‡å®šçŽ¯å¢ƒ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda create --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span><span class=\"token punctuation\">]</span> <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.6</span>\nconda create --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span> --clone base\n\n<span class=\"token comment\"># e.g.</span>\nconda create --name intel intelpython3_core <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># åˆ é™¤çŽ¯å¢ƒ</span>\nconda-env remove --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\n*\n<span class=\"token comment\"># åˆ—å‡ºä¿¡æ¯</span>\nconda info -e/--envs\nconda-env list\n\n<span class=\"token comment\"># è¿›å…¥çŽ¯å¢ƒ</span>\n<span class=\"token builtin class-name\">source</span> activate <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\nconda activate <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># ç¦»å¼€çŽ¯å¢ƒ</span>\n<span class=\"token builtin class-name\">source</span> deactivate\nconda deactivate\n\n<span class=\"token comment\"># åœ¨æŸçŽ¯å¢ƒä¸­æ‰§è¡Œæ“ä½œ</span>\nconda <span class=\"token operator\">&lt;</span>commands<span class=\"token operator\">></span> --name <span class=\"token operator\">&lt;</span>env_name<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"ä½¿ç”¨-conda-å‘½ä»¤\">ä½¿ç”¨ conda å‘½ä»¤</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda info\nconda list <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span><span class=\"token punctuation\">]</span>\nconda search <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span>\nconda search <span class=\"token operator\">&lt;</span>package<span class=\"token operator\">></span> --info\nconda <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda update/upgrade <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda remove/uninstall <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span>\nconda clean --all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>è§ <code>conda --help</code> æˆ– <code>conda cmd --help</code>,\n<code>conda search</code> è¯­æ³•è§ <a\nhref=\"https://github.com/conda/conda/blob/master/conda/models/match_spec.py\"\nclass=\"uri\">https://github.com/conda/conda/blob/master/conda/models/match_spec.py</a></p>\n<p>é…ç½®: <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># å®‰è£…ç¡®è®¤æ—¶æ˜¾ç¤ºæºçš„ url, é»˜è®¤å·²å¼€å¯</span>\nconda config --set show_channel_urls True\n\n<span class=\"token comment\"># ç¦æ­¢æ¯æ¬¡æ›´æ–°è‡ªåŠ¨æ£€æŸ¥ conda çš„æ›´æ–°, é»˜è®¤True</span>\nconda config --set auto_update_conda False\n\n<span class=\"token comment\"># ç¦æ­¢æºä¼˜å…ˆè€Œä½¿ç”¨ç‰ˆæœ¬ä¼˜å…ˆ, é»˜è®¤True</span>\nconda config --set channel_priority False\n\n<span class=\"token comment\"># å¢žåŠ è®¾ç½®, ä¾‹å¦‚å¢žåŠ æº (å¯ä½¿ç”¨ url æˆ–åˆ«å)</span>\nconda config --add channels <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># åˆ é™¤æŸé¡¹è®¾ç½®çš„æ‰€æœ‰å€¼, ä¾‹å¦‚åˆ é™¤æ‰€æœ‰è‡ªå®šä¹‰æº</span>\nconda config --remove-key channels\n\n<span class=\"token comment\"># åˆ é™¤æŸé¡¹è®¾ç½®çš„æŸä¸ªå€¼, ä¾‹å¦‚åˆ é™¤æŸä¸ªæº</span>\nconda config --remove channels <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>ç”¨æˆ·é…ç½®æ–‡ä»¶ <code>~/.condarc</code> (è§ <a\nhref=\"#conda-é•œåƒæº\">conda é•œåƒæº</a>)<br> å‚è€ƒé“¾æŽ¥ <a\nhref=\"https://conda.io/docs/user-guide/configuration/use-condarc.html\"\nclass=\"uri\">https://conda.io/docs/user-guide/configuration/use-condarc.html</a></p>\n<p>ä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„çŽ¯å¢ƒç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶:\n<code>~/miniconda3/envs/&lt;env_name&gt;/.condarc</code></p>\n<h3 id=\"é•œåƒæº\">é•œåƒæº</h3>\n<h4 id=\"pip-é•œåƒæº\">pip é•œåƒæº</h4>\n<p>ç”¨æˆ·é…ç½®æ–‡ä»¶:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\n<span class=\"token function\">cat</span> ~/.pip/pip.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[global]\nindex-url = &lt;https://pypi.douban.com/simple&gt;\ntrusted-host = pypi.doubanio.com</code></pre>\n<h4 id=\"conda-é•œåƒæº\">conda é•œåƒæº</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda config --add/--prepend channels <span class=\"token operator\">&lt;</span>new_channel<span class=\"token operator\">></span>\nconda config --append channels <span class=\"token operator\">&lt;</span>new_channel<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>æ¸…åŽæº:<br> <a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</a><br>\n<a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>\n<a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a><br></p>\n<p>channels çš„é»˜è®¤çš„ä¼˜å…ˆçº§ä¸º: å‰æŽ’ä¼˜å…ˆ<br> é•œåƒæºä¸­\n<code>pkgs/main</code> é€šå¸¸æ¯” <code>pkgs/free</code> æ–°,\nå› æ­¤å°†å…¶æ”¾åœ¨æœ€å‰.<br> æˆ–ä½¿ç”¨ <code>channel_priority: false</code>,\nè§ä¸Šä¸€èŠ‚ <a href=\"#ä½¿ç”¨-conda-å‘½ä»¤\">conda è®¾ç½®</a>.</p>\n<p>e.g.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda config --add channels <span class=\"token operator\">&lt;</span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æ­¤æ—¶ <code>~/.condarc</code> çš„å†…å®¹:</p>\n<blockquote>\n<p>channels:<br> â€ƒ- <a\nhref=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\"\nclass=\"uri\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a><br>\nâ€ƒ- defaults</p>\n</blockquote>\n<h3 id=\"troubleshooting\">Troubleshooting</h3>\n<h4 id=\"conda-å®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº\">conda\nå®‰è£…æ—¶æŒ‡å®šæºä¸”ç¦ç”¨å…¶ä»–æº</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>packages<span class=\"token operator\">></span> -c <span class=\"token operator\">&lt;</span>channel<span class=\"token operator\">></span> --override-channels<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"astropy-æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ-python\">Astropy æ–°ç‰ˆä¸å†æ”¯æŒæ—§ç‰ˆ\nPython</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token string\">\"astropy&lt;3.0\"</span> <span class=\"token comment\"># for python &lt; 3.5</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"å®‰è£…å¸¸ç”¨åŒ…\">å®‰è£…å¸¸ç”¨åŒ…</h2>\n<h3 id=\"numpy-scipy-matplotlib\">numpy, scipy, matplotlib</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> numpy\nconda <span class=\"token function\">install</span> scipy\nconda <span class=\"token function\">install</span> matplotlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> numpy\npip <span class=\"token function\">install</span> scipy\npip <span class=\"token function\">install</span> matplotlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>é…ç½®å¯åŠ¨æ–‡ä»¶ (Ubuntu), åœ¨ <code>~/.bashrc</code> ä¸­æ·»åŠ :\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">PYTHONSTARTUP</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.pythonrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>pythonrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code># Python startup file\n# ~/.pythonrc\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nimport numpy as np\nimport os\n\nprint(&quot;&gt;&gt;&gt; import matplotlib.pyplot as plt&quot;)\nprint(&quot;&gt;&gt;&gt; from matplotlib import cm&quot;)\nprint(&quot;&gt;&gt;&gt; import numpy as np&quot;)\nprint(&quot;&gt;&gt;&gt; import os&quot;)\n\ntry:\n    from pprint import pprint\nexcept ImportError:\n    pass\nelse:\n    print(&quot;&gt;&gt;&gt; from pprint import pprint&quot;)\n\n# Tab completion &amp; history\ntry:\n    import atexit, readline, rlcompleter\nexcept ImportError:\n    pass\nelse:\n    readline.parse_and_bind(&#39;tab: complete&#39;) # Tab completion\n    readline.parse_and_bind(&#39;&#39;&#39;control-l:&quot;    &quot;&#39;&#39;&#39;) # Indent, since TAB is occupied\n    histfile = os.path.join(os.environ[&#39;HOME&#39;], &#39;.pyhistory&#39;) # History file\n    try:\n        readline.read_history_file(histfile)\n    except IOError:\n        pass\n    atexit.register(readline.write_history_file, histfile)\n    del histfile, readline, rlcompleter\n    print(&quot;--- Tab completion: [ON] ---&quot;)\n    print(&quot;--- History: [ON] ---&quot;)\n    print(&quot;--- [Tab] -&gt; [Ctrl+L] ---&quot;)</code></pre>\n<h3 id=\"astropy-sunpy\">Astropy, SunPy</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> astropy\nconda <span class=\"token function\">install</span> sunpy -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> astropy\npip <span class=\"token function\">install</span> sunpy<span class=\"token punctuation\">[</span>all<span class=\"token punctuation\">]</span> pytest<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></p>\n<p>æµ‹è¯•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> astropy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> astropy<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sunpy<span class=\"token punctuation\">.</span>self_test<span class=\"token punctuation\">(</span>online<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>å¦‚æžœå‡ºé”™: '$USER'æƒé™é—®é¢˜, è§ä¸‹é¢ä¿®æ”¹ <code>~/.sunpy/sunpyrc</code>\nè¯´æ˜Ž.</p>\n<p>æŸ¥çœ‹åŒ…ä¿¡æ¯:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\nconda search <span class=\"token string\">\"conda-forge::sunpy>=4.0\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Loading channels: ...working... done\n# Name                       Version           Build  Channel             \nsunpy                          4.0.0 py310hde88566_0  conda-forge         \nsunpy                          4.0.0  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.0  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.1 py310hde88566_0  conda-forge         \nsunpy                          4.0.1  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.1  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.2 py310hde88566_0  conda-forge         \nsunpy                          4.0.2  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.2  py39hd257fcd_0  conda-forge         \nsunpy                          4.0.3 py310hde88566_0  conda-forge         \nsunpy                          4.0.3  py38h71d37f0_0  conda-forge         \nsunpy                          4.0.3  py39hd257fcd_0  conda-forge         </code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\nconda search <span class=\"token string\">\"sunpy 4.0.3 py310hde88566_0\"</span> --info<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>Loading channels: ...working... done\nsunpy 4.0.3 py310hde88566_0\n---------------------------\nfile name   : sunpy-4.0.3-py310hde88566_0.tar.bz2\nname        : sunpy\nversion     : 4.0.3\nbuild       : py310hde88566_0\nbuild number: 0\nsize        : 5.7 MB\nlicense     : BSD-2-Clause\nsubdir      : linux-64\nurl         : &lt;https://conda.anaconda.org/conda-forge/linux-64/sunpy-4.0.3-py310hde88566_0.tar.bz2&gt;\nmd5         : 5831b8fde0edd2aa0ff9f42b237b7ba2\ntimestamp   : 2022-07-08 16:21:32 UTC\ndependencies: \n  - asdf &gt;=2.8.0\n  - asdf-astropy &gt;=0.1.1\n  - astropy &gt;=4.1.0\n  - beautifulsoup4 &gt;=4.8.0\n  - cdflib &gt;=0.3.19,!=0.4.0\n  - drms &gt;=0.6.1\n  - glymur &gt;=0.8.18,!=0.9.0,!=0.9.5\n  - h5netcdf &gt;=0.8.1\n  - h5py &gt;=3.1.0\n  - libgcc-ng &gt;=12\n  - matplotlib-base &gt;=3.2.0\n  - mpl_animators &gt;=1.0.0\n  - numpy &gt;=1.21.6,&lt;2.0a0\n  - pandas &gt;=1.0.0\n  - parfive &gt;=1.2.0\n  - python &gt;=3.10,&lt;3.11.0a0\n  - python-dateutil &gt;=2.8.0\n  - python_abi 3.10.* *_cp310\n  - reproject\n  - scikit-image &gt;=0.16.0\n  - scipy &gt;=1.3.0\n  - setuptools\n  - sqlalchemy &gt;=1.3.4\n  - tqdm &gt;=4.32.1\n  - zeep &gt;=3.4.0</code></pre>\n<p>ç”¨æˆ·æ–‡ä»¶ä½ç½®: <code>~/.sunpy/sunpyrc</code></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>sunpy<span class=\"token operator\">/</span>sunpyrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[general]\ntime_format = %Y-%m-%d %H:%M:%S\nworking_dir = /home/lydia/sunpy-downloads\n\n[downloads]\ndownload_dir = /home/lydia/sunpy-downloads/data\nsample_dir = /home/lydia/sunpy-downloads/data/sample_data\n\n[database]\nurl = sqlite:////home/lydia/sunpy-downloads/sunpydb.sqlite</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy\nsunpy<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>system_info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>==============================\nsunpy Installation Information\n==============================\n\nGeneral\n#######\nOS: Ubuntu (18.04, Linux 4.19.128-microsoft-standard)\nArch: 64bit, (x86_64)\nsunpy: 4.0.3\nInstallation path: /home/lydia/miniconda3/lib/python3.10/site-packages/sunpy-4.0.3.dist-info\n\nRequired Dependencies\n#####################\nastropy: 5.1\nnumpy: 1.23.1\npackaging: 21.3\nparfive: 1.5.1\n\nOptional Dependencies\n#####################\nasdf: 2.12.0\nasdf-astropy: 0.2.1\nbeautifulsoup4: 4.11.1\ncdflib: 0.4.4\ndask: 2022.7.0\ndrms: 0.6.2\nglymur: 0.10.1\nh5netcdf: 0.0.0\nh5py: 3.7.0\nmatplotlib: 3.5.2\nmpl-animators: 1.0.1\npandas: 1.4.1\npython-dateutil: 2.8.2\nreproject: 0.8\nscikit-image: 0.19.3\nscipy: 1.8.1\nsqlalchemy: 1.4.39\ntqdm: 4.64.0\nzeep: 4.1.0</code></pre>\n<p>è®¾ç½®ä¸‹è½½ä½ç½®:<br> (å‚è€ƒ <a\nhref=\"http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/customization.html?highlight=sunpy.config.set)</a></p>\n<p>e.g. &gt; [downloads]<br> â€ƒdownload_dir = ...</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sunpy<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'downloads'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'download_dir'</span><span class=\"token punctuation\">,</span>\n                 <span class=\"token string\">'/home/&lt;user>/&lt;your_path>/sunpy-downloads/data'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>é€€å‡ºåŽå†è¿›å…¥ python å¦‚æžœå‘çŽ°æ²¡æœ‰ä¿®æ”¹æˆåŠŸ, åˆ™éœ€è¦æ‰‹åŠ¨ä¿®æ”¹\n~/.sunpy/sunpyrc æ–‡ä»¶.<br> ä¸èƒ½ç”¨ '$USER' ä»£æ›¿å…·ä½“çš„ç”¨æˆ·å\n'&lt;user&gt;'</p>\n<h3 id=\"jupyter\">Jupyter</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> jupyter -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyter<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">%%bash\njupyter --path<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>config:\n    /home/lydia/.jupyter\n    /home/lydia/.local/etc/jupyter\n    /home/lydia/miniconda3/etc/jupyter\n    /usr/local/etc/jupyter\n    /etc/jupyter\ndata:\n    /home/lydia/.local/share/jupyter\n    /home/lydia/miniconda3/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n    /home/lydia/.local/share/jupyter/runtime</code></pre>\n<ul>\n<li>è®¾ç½®åŒå‡»æ‰“å¼€ *.ipynb æ–‡ä»¶</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> nbopen<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å†æ‰§è¡Œ:</p>\n<p>Linux/BSD: <br> <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">python3 -m nbopen.install_xdg<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n ``<span class=\"token variable\"><span class=\"token variable\">`</span>   \n\nWindows: <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n<span class=\"token variable\">`</span></span>``bash\npython3 -m nbopen.install_win<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>Mac: <br> â€‚Clone the repository\n(https://github.com/takluyver/nbopen.git)<br> â€‚and run\n<code>./osx-install.sh</code><br><br>\nä¹‹åŽå³å¯åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­é€‰æ‹©æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ä¸º\n<code>Jupyter Notebook</code>.</p>\n<blockquote>\n<p>æ³¨æ„å¯èƒ½ä¼šæ›´æ”¹ bash è„šæœ¬çš„é»˜è®¤æ‰“å¼€æ–¹å¼.</p>\n</blockquote>\n<ul>\n<li>Jupyter\næ’ä»¶é›†åˆ<br>(https://github.com/ipython-contrib/jupyter_contrib_nbextensions)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> jupyter_contrib_nbextensions -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyter_contrib_nbextensions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> &gt; This also automatically installs the\nJavascript and CSS files:<br>\n<code>jupyter contrib nbextension install --sys-prefix</code></p>\n<p>å®‰è£…å¥½åŽå°†åŒæ—¶å¯ç”¨ <code>Nbextensions</code> é€‰é¡¹å¡,\næ‰‹åŠ¨é€‰æ‹©éœ€è¦çš„æ’ä»¶, æˆ–è€…åœ¨å‘½ä»¤è¡Œå¯ç”¨å’Œç¦ç”¨:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">jupyter nbextension list <span class=\"token comment\"># æŸ¥çœ‹</span>\njupyter nbextension <span class=\"token builtin class-name\">enable</span> <span class=\"token operator\">&lt;</span>path<span class=\"token operator\">></span> <span class=\"token comment\"># &lt;path> ä¸ºä¸Šè¿° list ä¸­çš„ &lt;extension>/main</span>\njupyter nbextension disable <span class=\"token operator\">&lt;</span>path<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>æ³¨æ„ç”¨å¦‚æžœ jupyter å®‰è£…åœ¨ conda è·¯å¾„, æ‰‹åŠ¨å®‰è£…æ’ä»¶\n(<code>jupyter nbextension install</code>) æ—¶éœ€è¦æŒ‡å®š\n<font color=red>--sys-prefix</font></p>\n<ul>\n<li>notebook ä¸»é¢˜ (https://github.com/dunovank/jupyter-themes)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> jupyterthemes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>æ¼”ç¤ºä»£ç è¿‡ç¨‹çš„æ’ä»¶ (https://github.com/lgpage/nbtutor)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> nbtutor -c conda-forge<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> nbtutor\njupyter nbextension <span class=\"token function\">install</span> --overwrite --py nbtutor\njupyter nbextension <span class=\"token builtin class-name\">enable</span> --py nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<p>è½½å…¥:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\n<span class=\"token operator\">%</span>load_ext nbtutor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>ä½¿ç”¨:<br> CodeCell ä¸­é¦–è¡ŒåŠ å…¥ä¸‹é¢è¯­å¥, ç„¶åŽæ‰§è¡Œ Cell (numpy ç­‰éœ€è¦åœ¨\nCell å†…å¯¼å…¥) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f\n<span class=\"token comment\"># æˆ–</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">%</span>nbtutor <span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>i  <span class=\"token comment\"># ç¼©å‡æ˜¾ç¤º</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"å…¶ä»–\">å…¶ä»–</h3>\n<ul>\n<li>PeakUtils (http://peakutils.readthedocs.io/en/latest/)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone <span class=\"token operator\">&lt;</span>https://bitbucket.org/lucashnegri/peakutils.git<span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">cd</span> peakutils\npython setup.py <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> peakutils<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>LMfit-py (https://github.com/lmfit/lmfit-py)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> lmfit -c conda-forge\n<span class=\"token comment\"># æˆ–</span>\npip <span class=\"token function\">install</span> lmfit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> lmfit<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>HDF5åŒ… (http://docs.h5py.org/en/latest/index.html)<br></li>\n</ul>\n<p><strong>pandas</strong> <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> pytables pandas<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> tables pandas<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> <br><br>\n<strong>h5py</strong> (http://docs.h5py.org/en/latest/index.html)\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> h5py  <span class=\"token comment\"># æŽ¨è. å°†åŒæ—¶å®‰è£… hdf5, å¹¶å¾—åˆ° h5dump ç­‰å‘½ä»¤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> â€‚Or <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> h5py  <span class=\"token comment\"># éœ€è¦ sudo apt-get install libhdf5-dev</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<ul>\n<li>CDFåŒ…<br></li>\n</ul>\n<p>å®‰è£… spacepy (https://pythonhosted.org/SpacePy)</p>\n<p>æˆ–</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> cdflib <span class=\"token comment\"># &lt;https://github.com/MAVENSDC/cdflib></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>EVTK (https://bitbucket.org/pauloh/pyevtk)</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> mercurial  <span class=\"token comment\"># å¾—åˆ° hg å‘½ä»¤</span>\n\n<span class=\"token function\">hg</span> clone <span class=\"token operator\">&lt;</span>https://bitbucket.org/pauloh/pyevtk<span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">cd</span> pyevtk\npython setup.py build --debug <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">hg</span> pull <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">hg</span> update default <span class=\"token comment\"># æ›´æ–°</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> evtk<span class=\"token punctuation\">.</span>hl <span class=\"token keyword\">import</span> gridToVTK<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>Mayavi (http://docs.enthought.com/mayavi/mayavi)</li>\n</ul>\n<p>â€ƒéœ€è¦å…ˆå®‰è£… cython (conda æˆ– pip)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> mayavi  <span class=\"token comment\"># å°†åŒæ—¶å®‰è£… vtk. (pip æ˜¯ç›®å‰ mayavi æœ€ä¿é™©çš„å®‰è£…æ–¹å¼)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># shell</span>\nmayavi2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>"},{"title":"Python ç®€æ˜“æ•™ç¨‹ (lecture for Solar Group)","date":"2018-07-02T12:56:13.000Z","_content":"[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/python-intro.zip)\n\n## ç®€ä»‹\n\nä¼˜åŠ¿: å¼€æº, ç”¨æˆ·å¹¿, ç”¨é€”å¹¿, ç¤¾åŒºå®Œå–„, æ–°æ‰‹å‹å¥½\n\n<https://www.jetbrains.com/research/python-developers-survey-2017/>\n<br><br>\n2017å¹´çš„ python ä½¿ç”¨è°ƒæŸ¥æŠ¥å‘Š <https://www.jetbrains.com/research/python-developers-survey-2017/>\n<img src='/main/Python Developers Survey 2017 - Results-018.png' >\n<img src='/main/Python Developers Survey 2017 - Results-019.png' >\n<img src='/main/Python Developers Survey 2017 - Results-020.png' >\n\nå‚è€ƒç½‘ç«™:\n\n  - å®˜æ–¹ç½‘ç«™: <https://www.python.org/>\n  - stackoverflow <https://stackoverflow.com/questions/tagged/python>\n  - å®˜æ–¹æ–‡æ¡£ <https://docs.python.org>\n  - å»–é›ªå³°çš„ç½‘ç«™ (åŒ…å« python2.7 å’Œ python3 çš„æ•™ç¨‹) <https://www.liaoxuefeng.com>\n  - wikibooks <https://en.wikibooks.org/wiki/Python_Programming>\n  - æ¼”ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹çš„å·¥å…· <http://pythontutor.com/>\n  - å¤©æ–‡ç›¸å…³æ•™ç¨‹ (è¾ƒæ–°) <https://python4astronomers.github.io>\n\n<br>\nèŽ·å– python åŒ…/æ¨¡å—/å‡½æ•°çš„å¸®åŠ©:\n\n```python\n# python\n>>> help(name)\n```\n```sh\n# shell\n$ pydoc <name>\n$ pydoc -w <name>  # ç”Ÿæˆä¸€ä¸ª html å¸®åŠ©æ–‡ä»¶\n```\n```python\n# ipython/jupyter\nname?  # å¼¹å‡ºå¸®åŠ©æ–‡æ¡£, `Esc` é€€å‡ºæ–‡æ¡£\n```\n<!-- more -->\n\n## åŸºæœ¬è¯­æ³•\n\n### è¯­æ³•ç‰¹ç‚¹\n\n* å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µ<br>\n  ç±» -> åˆ›å»ºä¸€ä¸ªå®žä¾‹ -> ä½¿ç”¨è¯¥å®žä¾‹æ‰€å±žçš„ç±»ä¸‹é¢çš„æ–¹æ³•\n```python\nl = [3, 2, 1]  # l æ˜¯ list çš„ä¸€ä¸ªå®žä¾‹\nl.reverse()  # reverse æ˜¯ä¸€ä¸ªæ–¹æ³•(å‡½æ•°), reverse() æ˜¯ä¸€ä¸ªå®žä¾‹\nl.__dir__()  # æŸ¥çœ‹ l çš„æ‰€æœ‰æ–¹æ³•(å‡½æ•°)\n```\n<br>\n* ä¸¥æ ¼ç¼©è¿› (é€šå¸¸é‡‡ç”¨4ä¸ªåŠè§’ç©ºæ ¼)\n```py\nif a > 0:\n      a += 1\nprint(a)\n```\n<br>\n* ç©ºæ ¼ä¸æ•æ„Ÿ\n```python\na + b * c ** 2 / d\nf (a, b)\n```\n<br>\n* å¤§å°å†™æ•æ„Ÿ, ä½¿ç”¨å¤§å°å†™ç»„åˆçš„å˜é‡åé£Žæ ¼ (ä¸‹åˆ’çº¿ä»æ˜¯åˆæ³•å˜é‡åå­—ç¬¦,ä½†æœ‰ç‰¹æ®Šå«ä¹‰, è§ [Python è¿›é˜¶#è„šæœ¬ç›¸å…³](advance.html#è„šæœ¬ç›¸å…³))\n```python\nfrom scipy.interpolate import BSpline\n```\n```python\nimport pandas as pd\ndataFrame = pd.DataFrame(array)\n```\nè§ [IDL sav æ–‡ä»¶è¯»å–](#IDL-sav-æ–‡ä»¶è¯»å–)\n<br><br>\n* æ‹¬å·å†…æ¢è¡Œä¸ç”¨æ¢è¡Œç¬¦\n<br><br>\n* å•è¡Œæ³¨é‡Š `# ...`\n<br><br>\n* å¤šè¡Œæ³¨é‡Š<br>\nå‡½æ•°æˆ–æ¨¡å—çš„å¼€å¤´çš„å¤šè¡Œæ³¨é‡Š (å°†å­˜å‚¨åœ¨`__doc__`å˜é‡), å¯ä»¥ç”¨ `help()` æ‰“å°\n```python\n\"\"\"\nè¿™æ˜¯ä¸€ä¸ª\nå¤šè¡Œæ³¨é‡Š\n\"\"\"\n```\n<br>\n* åŒä¸€è¡Œä¸åŒè¯­å¥ä¹‹é—´å¯ç”¨åˆ†å·åˆ†éš”\n```python\nx = 1; print(x)\n```\n<br>\n* åˆ—è¡¨å’Œæ•°ç»„çš„ç´¢å¼•é»˜è®¤ä»Ž<font color=red>0</font>å¼€å§‹\n<br><br>\n* åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ å¯ä»¥åŠ é€—å·\n```python\n[1, 2,]\n{'a' : 1, 'b' : 2,}\n```\n<br>\n* *etc.*\n\n### printå‡½æ•°\n\n```python\na = 1.; b = 2.\n```\n\n```python\nprint('a=%.3f, b=%.1e' % (a, b))\n```\n\n    a=1.000, b=2.0e+00\n\n\n```python\nprint(f'a={a}, b={b:.3f}')\n```\n\n    a=1.0, b=2.000\n\n\n```python\n%%python2\nprint('xxx'),\nprint('yyy')\n```\n\n    xxx yyy\n\n\n```python\n%%python3\nprint('xxx', end=' ')\nprint('yyy')\n```\n\n    xxx yyy\n\n\næ›´å¤šæ ¼å¼åŒ–å‚è€ƒ <https://pyformat.info/>\n\n### åŸºæœ¬è¿ç®—\n\nè¿ç®—ç¬¦å‚è€ƒ:<br>\n<https://en.wikibooks.org/wiki/Python_Programming/Basic_Math><br>\n<https://www.tutorialspoint.com/python/python_basic_operators.htm>\n\n```python\na = 1\na += 1  # æ²¡æœ‰ a++ è¿™ç§è¯­æ³•\na\n```\n\n\n\n\n    2\n\n\n\n```python\n3. ** 2  # è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»åž‹\n```\n\n\n\n\n    9.0\n\n\n\n```python\n1 < 2 != 3  # åˆ¤æ–­, å¯ä»¥è¿žå†™\n```\n\n\n\n\n    True\n\n\n\n```python\na = None\na is None  # æ³¨æ„è¿™æ—¶ä¸ç”¨ `==`\n```\n\n\n\n\n    True\n\n\n\n### å­—ç¬¦ä¸²\n\nç”¨åŒå¼•å·å’Œå•å¼•å·çš†å¯ (å–å†³äºŽæ‰€å¼•å†…å®¹).<br>\nå­—ç¬¦ä¸²å…·æœ‰å’Œåˆ—è¡¨ (list) ç±»ä¼¼çš„è¿ç®—è§„åˆ™ (è§ä¹‹åŽçš„ list è¯´æ˜Ž):\n\n```python\n'a' * 10\n```\n\n\n\n\n    'aaaaaaaaaa'\n\n\n\n```python\n'a' + 'b'\n```\n\n\n\n\n    'ab'\n\n\n\n```python\n'abc'[0]\n```\n\n\n\n\n    'a'\n\n\n\n```python\nprint('\\n')\n```\n\n    \n    \n\n\n```python\nprint(r'\\n')  # same as '\\\\n'\n```\n\n    \\n\n\n\n### list, tuple, dict, set\n\n* æœ‰åºè¡¨ list, tuple\n\n```python\nl = [0, 1, 2, 3, 4, 5]  # list, å…ƒç´ å¯å˜\nt = (0, 1, 2, 3, 4, 5)  # tuple, å…ƒç´ ä¸å¯å˜\n```\n\n```python\nl[0:3]  # ä¸€ä¸ªåˆ‡ç‰‡(slice)\n```\n\n\n\n\n    [0, 1, 2]\n\n\n\n```python\nt[0:3]\n```\n\n\n\n\n    (0, 1, 2)\n\n\n\n```python\nl[1:5:2]  # ç´¢å¼•: [start, stop, step] (ç»“æžœä¸åŒ…å« stop)\n```\n\n\n\n\n    [1, 3]\n\n\n\n```python\nl[5:1:-1]  # step < 0, ä»ç„¶ä¸åŒ…å« stop (æ­¤ä¾‹ä¸­ stop=1)\n```\n\n\n\n\n    [5, 4, 3, 2]\n\n\n\nlist å¸¸ç”¨è¿ç®—\n\n```python\nl = [0, 1, 2, 3, 4, 5]\nl.append('x')  # æ·»åŠ åœ¨æœ€åŽ\nprint(l)\nl.insert(3, 'y')  # æ·»åŠ åœ¨ l[i] ä¹‹å‰\nprint(l)\nprint(l.pop(1))  # åˆ é™¤æŸå…ƒç´ å¹¶è¿”å›žè¯¥å€¼\nprint(l)\n```\n\n    [0, 1, 2, 3, 4, 5, 'x']\n    [0, 1, 2, 'y', 3, 4, 5, 'x']\n    1\n    [0, 2, 'y', 3, 4, 5, 'x']\n\n\n```python\nprint(l * 2)  # é‡å¤Né\nprint(l + [6, 7])  # åˆå¹¶ä¸¤ä¸ªlist\n```\n\n    [1, 'y', 2, 3, 4, 5, 'x', 1, 'y', 2, 3, 4, 5, 'x']\n    [1, 'y', 2, 3, 4, 5, 'x', 6, 7]\n\n\nlist å¯ä»¥æŽ’åº (å½“å…ƒç´ ä¸ºåŒä¸€ç±»åž‹ä¸”å¯æ¯”è¾ƒå¤§å°æ—¶), è¿”å›žåˆ°åŽŸåˆ—è¡¨\n\n```python\nl = ['b', 'a']\nl.sort()\nl\n```\n\n\n\n\n    ['a', 'b']\n\n\n\n```python\nl = [2, 1]\nl.sort()\nl\n```\n\n\n\n\n    [1, 2]\n\n\n\n* å­—å…¸ dict\n\n```python\nd = {'a' : 1, 'b' : 2}\n```\n\n```python\nd = dict(a=1, b=2) # æ³¨æ„è¿™æ—¶æ²¡æœ‰å¼•å·\n```\n\n```python\nd['a']\n```\n\n\n\n\n    1\n\n\n\n* é›†åˆ set\n\n```python\ns = {3, 2, 1, 3}  # set, å°†è‡ªåŠ¨æŽ’åºå¹¶åŽ»é™¤é‡å¤, å¸¸ç”¨äºŽ for å¾ªçŽ¯\ns  # ä¸èƒ½ç”¨ s[i] æ¥ç´¢å¼•\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\nset ä¸å¯ç´¢å¼•, ä½†å¯ç”¨ä½œ for å¾ªçŽ¯. è§ [Python è¿›é˜¶#è¿­ä»£å™¨](advance.html#å¾ªçŽ¯,-è¿­ä»£å™¨,-ç”Ÿæˆå™¨)\n\n```python\nfor i in s:\n    print(i)\n```\n\n    1\n    2\n    3\n\n\n```python\nl2 = [i for i in s]\nprint(l2)\n```\n\n    [1, 2, 3]\n\n\n### if è¯­å¥\n\npython é‡Œæ²¡æœ‰ `case`, åªæœ‰ `if` (éžé›¶æ•°å€¼ã€éžç©ºå­—ç¬¦ä¸²ã€éžç©º list ç­‰çš†ä¸º True)\n```python\nif <æ¡ä»¶åˆ¤æ–­1>:\n    <æ‰§è¡Œ1>\nelif <æ¡ä»¶åˆ¤æ–­2>:\n    <æ‰§è¡Œ2>\nelif <æ¡ä»¶åˆ¤æ–­3>:\n    <æ‰§è¡Œ3>\nelse:\n    <æ‰§è¡Œ4>\n```\n\n### ç›¸å…³å·¥å…·\n\n#### pip\n\n<img src='/main/logo-large.72ad8bf1.svg' />\n\n> The **Python Package Index (PyPI)** is a repository of software for the Python programming language.<br/>\nPyPI helps you find and install software developed and shared by the Python community.<br/>\n<https://pypi.org/>\n\n```\n$ pip install <pkg_name>\n```\n&nbsp;&nbsp;&nbsp;&nbsp;(å…¶ä»–å‘½ä»¤è§ [Python å®‰è£…å’Œé…ç½®#ç”¨ pip å®‰è£… python åŒ…](installpy.html#ç”¨-pip-å®‰è£…-python-åŒ…))\n\n#### Anaconda\n\n<img src='/main/DataScienceLibraries-01.png' />\n<img src='/main/Conda-DistributionDiagram-01.png' />\n\n<img src='/main/Conda â€” Conda documentation.png' />\n\n**Anaconda** (https://www.anaconda.com/)<br>\nå®‰è£…å¥½çš„ conda åŒ…å«ç‹¬ç«‹äºŽç³»ç»Ÿçš„ python ç‰ˆæœ¬, ä¸€éƒ¨åˆ†å·²ç¼–è¯‘å¥½çš„åŒ…, pip å·¥å…·, ä»¥åŠä¸åŒçŽ¯å¢ƒçš„å­ç›®å½•.<br/>\nå¯æ ¹æ®éœ€è¦åˆ‡æ¢ä¸åŒçš„ conda çŽ¯å¢ƒä»¥ä½¿ç”¨ä¸åŒçš„ python ç‰ˆæœ¬æˆ–ä¸åŒçš„åŒ…çš„ç»„åˆ.\n\n```\n$ conda install <pkg_name>\n```\nå…¶ä»–å‘½ä»¤è§ [Python å®‰è£…å’Œé…ç½®#ä½¿ç”¨ conda å‘½ä»¤](installpy.html#ä½¿ç”¨-conda-å‘½ä»¤)<br>\nè¯¦ç»†è¯´æ˜Žè§ [Python è¿›é˜¶#Anaconda](advance.html#Anaconda)\n\n#### IPython & Jupyter\n\n<img style='float: center;' src='/main/IPython.png' />\n\n```python\n# Have a look (ipython)\n!cd && gnome-terminal --window-with-profile='lydia_white'\n!sleep 0.5 && xdotool type --delay 200 \"ipython\" && xdotool key Return\n!sleep 3 && xdotool type --delay 200 \"!idl\" && xdotool key Return\n!sleep 3 && xdotool key Ctrl+d\n!sleep 1 && xdotool type --delay 200 \"!csh -c sswidl\" && xdotool key Return\n```\n\n<center><http://jupyter.org/></center>\n<img style='float: center;' src='/main/jupyterlogo.png' />\n\n<center><https://nbviewer.jupyter.org/></center>\n<img style='float: center;' src='/main/nbviewer.png' />\n\nå‚è€ƒæ–‡æ¡£\n<http://jupyter-notebook.readthedocs.io/en/stable/>\n\n* æ‰“å¼€ `jupyter notebook`:\n\n```\n$ jupyter notebook [filename]\n```\n\n## å¸¸ç”¨åŒ…ä»‹ç»\n\n### Python è‡ªå¸¦åŒ…å’Œæ¨¡å—\n\n```python\nfrom math import * # åŒ…å« pi ç­‰, ä½†æ›´æŽ¨è numpy\nfrom copy import deepcopy\nfrom pprint import pprint  # æ‰“å° list, dict ç­‰æ›´å¥½çœ‹\nimport requests\nimport os\nimport sys\n```\n\n### NumPy, SciPy\n\n#### æ¦‚è§ˆ\n\n<center><https://www.scipy.org></center>\n<img src='/main/SciPy.png' />\n\n<center><http://scikit-image.org></center>\n<img src='/main/scikitlogo.png' />\n<img src='/main/skimage01.png' />\n\n```python\nimport numpy as np\n```\n\nå¯¼å…¥åŒ…çš„ä¸åŒæ–¹å¼å°†åœ¨å„ä¾‹å­ä¸­çœ‹åˆ°.\n\nå‚è€ƒ:\n\n  - NumPy User Guide <https://docs.scipy.org/doc/numpy/user/>\n  - NumPy Reference <https://docs.scipy.org/doc/numpy/reference/>\n  - ndarray<br><https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html>\n  - Array manipulation routines<br><https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html>\n  - SciPy Cookbook <http://scipy-cookbook.readthedocs.io/>\n  - ä¸Ž IDL çš„è¯­æ³•å¯¹ç…§\n    - <http://mathesaurus.sourceforge.net/idl-numpy.html>\n    - <http://blog.rtwilson.com/ten-little-idl-programs-in-python/>\n    - <http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/>\n\n#### ç”Ÿæˆ numpy.ndarray æ•°ç»„\n\nå°† list æˆ– tuple è½¬æ¢ä¸º `numpy.ndarray`\n```python\nimport numpy as np\na = np.array([0, 1, 2, 3, 4])\n# åˆ‡ç‰‡(slice), ç´¢å¼•å¯ä»¥æ˜¯ int æˆ– list (python list åªæ”¯æŒ listä½œä¸ºç´¢å¼•)\na[0]          # 0\na[-1]         # 4\na[0:3]        # array([0, 1, 2]) æ³¨æ„!\na[:3]         # array([0, 1, 2])\na[2:4]        # array([2, 3])\na[2:-1]       # array([2, 3]) æ³¨æ„!\na[2:]         # array([2, 3, 4])\na[0:4:2]      # array([0, 2])\na[4:2:-1]     # array([4, 3])\na[[1, 4, 3]]  # array([1, 4, 3]) èŠ±å¼åˆ‡ç‰‡, ç´¢å¼•æ˜¯ä¸€ä¸ª list (ä¸èƒ½æ˜¯tuple)\n```\n\nå¤šç»´:\n\n```python\na = np.array([[0, 1, 2], [3, 4, 5]]); a\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5]])\n\n\n\n```python\na = np.array(((0, 1, 2), (3, 4, 5))); a\n# è¿™é‡Œçš„tupleå·²è½¬æˆndarray, äºŽæ˜¯ç»“æžœæ˜¯å¯å˜çš„\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5]])\n\n\n\n```python\na[0, 1]\n```\n\n\n\n\n    1\n\n\n\n```python\na[0][1]\n```\n\n\n\n\n    1\n\n\n\nä»Žä¸€ç»´æ•°ç»„è½¬å˜ä¸ºå¤šç»´:\n\n```python\na = np.arange(12).reshape((3, -1)); a\n# reshape çš„å‚æ•°ä¸º < 0 è¡¨ç¤ºè¯¥ç»´åº¦è‡ªåŠ¨åˆ¤æ–­å…ƒç´ ä¸ªæ•°\n# reshape çš„å‚æ•°æ˜¯ä¸€ä¸ª list æˆ– tuple, æ‹¬å·å¯ä»¥å±•å¼€ (è¯¦è§å¸®åŠ©æ–‡æ¡£)\n# æ­¤ä¾‹ä¸­ reshape((3, 2)), reshape(3, 2), reshape((3, -1)), reshape(3, -1) ç­‰ä»·\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\nb = a.reshape(-1); b  # reshape çš„å‚æ•°åªæœ‰ä¸€ä¸ªç»´åº¦ä¸” < 0(è‡ªåŠ¨)  => å±•å¼€æˆä¸€ç»´\n```\n\n\n\n\n    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])\n\n\n\nèŠ±å¼åˆ‡ç‰‡çš„å¤šç»´ä¾‹å­:\n\n```python\na = np.arange(12).reshape(3, -1)\na[[0, 1],[0, 2]]\n# a[col_inds, row_inds], æ­¤ä¾‹ç­‰ä»·äºŽ a[[[0, 1], [0, 2]]], a[([0, 1], [0, 2])]\n```\n\n\n\n\n    array([0, 6])\n\n\n\n* **np.zeros**(shape, dtype=float),&ensp;**np.ones**(shape, dtype=float)\n\n```python\nnp.zeros((2, 3))  # é»˜è®¤æµ®ç‚¹åž‹\n```\n\n\n\n\n    array([[0., 0., 0.],\n           [0., 0., 0.]])\n\n\n\n```python\nnp.ones((2, 3))  # é»˜è®¤æµ®ç‚¹åž‹\n```\n\n\n\n\n    array([[1., 1., 1.],\n           [1., 1., 1.]])\n\n\n\n* **np.arange**([start,] stop[, step,], dtype=None)\n\nç”Ÿæˆçš„æ•°ç»„å…ƒç´ æ•°æ®ç±»åž‹å’Œå‚æ•°ä¸€è‡´.<br><br>\næ–¹ä¾¿è®°å¿†: æœ€ç®€å½¢å¼ `np.arange`(*N*) ä¸­çš„æ•´æ•° *N* å³ä¸º *å…ƒç´ ä¸ªæ•°*.\n\n```python\nnp.arange(6).reshape((3, 2))\n```\n\n\n\n\n    array([[0, 1],\n           [2, 3],\n           [4, 5]])\n\n\n\n```python\nnp.arange(6).reshape((3, -1))\n```\n\n\n\n\n    array([[0, 1],\n           [2, 3],\n           [4, 5]])\n\n\n\n* **np.linspace**(start, stop, num=50, **endpoint=True**, retstep=False, dtype=None)<br>\né»˜è®¤ç”Ÿæˆçš„å…ƒç´ æ˜¯æµ®ç‚¹åž‹<br>\næ³¨æ„ `np.linspace` å’Œ `np.arange` çš„ä¸åŒè§„åˆ™\n\n```python\nnp.linspace(0, 1, 2)\n```\n\n\n\n\n    array([0., 1.])\n\n\n\n```python\nnp.linspace(0, 1, 2, endpoint=False) \n```\n\n\n\n\n    array([0. , 0.5])\n\n\n\næ›´å¤šæ•°ç»„åˆ›å»ºæ–¹æ³•è§ numpy å®˜ç½‘:<br>\n<https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html><br>\n<https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation>\n\n* è½¬ç½®\n\n```python\na = np.arange(12).reshape(3, -1); a\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\na.T\n```\n\n\n\n\n    array([[ 0,  4,  8],\n           [ 1,  5,  9],\n           [ 2,  6, 10],\n           [ 3,  7, 11]])\n\n\n\næ›´å¤šæ•°ç»„æ“ä½œè§ numpy å®˜ç½‘ <https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html>\nçŸ©é˜µæ“ä½œè§ [Python è¿›é˜¶#çŸ©é˜µ](advance.html#çŸ©é˜µ)\n\n### Matplotlib\n\n* å®˜æ–¹ç¤ºä¾‹ <https://matplotlib.org/tutorials/index.html>\n<img src='/main/Matplotlib.png' />\n<img src='/main/annotation_demo2_00.png' />\n<img src='/main/contour_demo_05.png' />\n\n* å®˜æ–¹æ•™ç¨‹ <https://matplotlib.org/tutorials/introductory/usage.html>\n\n```python\nimport matplotlib.pyplot as plt\n```\n\nåˆ›å»ºä¸€ä¸ªå›¾åƒ (ä¸‰ç§å†™æ³•çš†å¯):\n\n```python\nfig, ax = plt.subplots()\n```\n\n```python\nfig = plt.figure(1, (12, 6), dpi=100)\nax = fig.add_subplot(111)  # æ•°å­— (ijk) è¡¨ç¤º: è¿™æ˜¯ä¸€å…±iè¡Œjåˆ—ä¸­çš„ç»„å›¾ä¸­çš„ç¬¬kä¸ªå›¾\n```\n\n```python\nfig = plt.gcf()\nax = plt.gca()\n```\n\nèŽ·å–å¸®åŠ©:\n\n```python\nhelp(ax)\n```\n\n```python\n# æŸ¥çœ‹æŸå¯¹è±¡åŒ…å«çš„æ–¹æ³•\nax.# <Tab>, <Shift-Tab>\nplt.# <Tab>, <Shift-Tab>\n```\n\nä¾‹:\n\n```python\n%matplotlib?\n```\n\n```python\n%matplotlib\n%run -e 'examples/test_plot.py'\n```\n\n```python\n%matplotlib\n%run -e 'examples/test_imshow.py'\n```\n\n* é¢œè‰² <https://matplotlib.org/examples/color/colormaps_reference.html>\n* legend <https://matplotlib.org/users/legend_guide.html>\n<br>\n<img src='/main/named_colors.png' />\n\n### å¤©æ–‡ç›¸å…³åŒ…\n\n#### Astropy\n\n<img src='/main/astropy_banner.svg' />\n\nå®˜æ–¹æ–‡æ¡£ <http://docs.astropy.org/en/stable/index.html>\n\nåæ ‡ç³»ç»Ÿ <http://docs.astropy.org/en/stable/coordinates/index.html>\n\n```python\nfrom astropy import units as u\nfrom astropy.coordinates import SkyCoord\n```\n\nå‚è€ƒ <https://python4astronomers.github.io/astropy/astropy.html>\n\n#### SunPy\n\n<img src='/main/Screenshot_20180625-005924.png' />\n<img src='/main/sphx_glr_lat_lon_lines_001.png' />\n<img src='/main/sphx_glr_submaps_and_cropping_001.png' />\n\n<br>\nHMI ç¤ºä¾‹è§ [Python è¿›é˜¶#SunPy ç¤ºä¾‹](advance.html#SunPy-ç¤ºä¾‹)<br>\n<https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true>\n\n<br><br>\nå‚è€ƒ:\n\n  - Gallery <http://docs.sunpy.org/en/stable/generated/gallery/index.html>\n  - SunPy Guide <http://docs.sunpy.org/en/stable/guide/index.html>\n  - SunPy Map<br><http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap>\n  - Example Gallery <http://docs.sunpy.org/en/stable/generated/gallery/index.html>\n  - A brief tour of SunPy <http://docs.sunpy.org/en/stable/guide/tour.html>\n  - Finding and Downloading Data using Fido<br><http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html>\n\nç®€å•çš„ä¾‹å­ (æ¥è‡ªå®˜ç½‘):\n\n```python\n%matplotlib inline\n\nimport sunpy.map\nimport matplotlib.pyplot as plt\nimport sunpy.data.sample\n\naia = sunpy.map.Map(sunpy.data.sample.AIA_171_IMAGE)\n\nfig = plt.figure(1, (5, 5), dpi=100)\nax = plt.subplot(111, projection=aia)\n\naia.plot()\naia.draw_limb()\naia.draw_grid()\naia.draw_limb()\nplt.colorbar();\n\n# plt.show()\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/sources/sdo.py:48: SunpyDeprecationWarning: Use Matplotlib to load the colormaps\n      self.plot_settings['cmap'] = cm.get_cmap(self._get_cmap_name())\n\n\n\n    \n![png](/main/main_126_1.png)\n    \n\n\nèŽ·å–ä¸€äº›å¸¸æ•°:\n\n```python\nfrom sunpy.sun import constants as con\n# one astronomical unit (the average distance between the Sun and Earth)\nprint(con.au)\n```\n\n      Name   = Astronomical Unit\n      Value  = 149597870700.0\n      Uncertainty  = 0.0\n      Unit  = m\n      Reference = IAU 2012 Resolution B2\n\n\n```python\n# the solar radius\nprint(con.radius)\n```\n\n      Name   = Solar radius\n      Value  = 695508000.0\n      Uncertainty  = 26000.0\n      Unit  = m\n      Reference = Allen's Astrophysical Quantities 4th Ed.\n\n\n## å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\n\n### ä¸€èˆ¬æƒ…å†µ\n\n```python\nf = open(filename, 'w')  # 'w', 'r', ...\n...\n...\nf.close()\n```\næ›´å¥½çš„ç”¨æ³•:\n```python\nwith open(filename, 'w') as f:  # 'w', 'r', ...\n    ...\n    ...\n```\n\n### txt, csv æ–‡ä»¶è¯»å†™\n\n* é€è¡Œè¯»å–æ•´è¡Œçš„æ–¹å¼:<br>\nä½¿ç”¨ `strip` å¯ä»¥ç”¨æ¥åŽ»æŽ‰è¯»å…¥çš„æ¯è¡Œæœ«å°¾çš„ '\\n'\n\n```python\nlines = []\nwith open('data/data.csv', 'r') as f:\n    for line in f:\n        lines.append(line.strip().split(','))\nlines\n```\n\n\n\n\n    [['col1', 'col2', 'col3'],\n     ['row1', '1', '1e1'],\n     ['row2', '2', '2e-1'],\n     ['row3', '3', '3e+2']]\n\n\n\n* ä½¿ç”¨ numpy, è¯»å–åŽç›´æŽ¥è½¬æˆæ•°ç»„çš„æ–¹å¼ (æŽ¨è):<br>\n`np.loadtxt`,&ensp;`np.genfromtxt` (å†™æ–‡ä»¶æ˜¯ `np.savetxt`)<br>\nè¶…å¤§æ–‡ä»¶è¯»å–å»ºè®®ç”¨ pandas åŒ….\n\ne.g.\n\n```python\n>>> import numpy as np\n>>> arr = np.loadtxt(fname, skiprows=1, delimiter=',') # é»˜è®¤åˆ†å‰²ç¬¦ä¸ºç©ºæ ¼\n>>> col1, col2 = np.loadtxt(fname, skiprows=1, usecols=(1, 2), unpack=True)\n```\n`np.genfromtxt` å’Œ `np.loadtxt` ç±»ä¼¼, å¢žåŠ äº†å¤„ç† missing values çš„åŠŸèƒ½.<br>\n(ä½†å‚æ•° skiprows=1 éœ€æ›¿æ¢ä¸º skip_header=1)\n\nä¾‹ (è¿™é‡Œä½¿ç”¨åŠŸèƒ½æ›´å¤šçš„ `np.genfromtxt` ä»£æ›¿ `np.loadtxt`):\n\n```python\narr = np.genfromtxt('data/data.csv',\n                    skip_header=1,\n                    names=('col1', 'col2', 'col3'),\n                    dtype=('U15', 'int', 'float'),\n                    delimiter=',')\nprint(arr[['col1', 'col2']])  # è®¾å®šäº† names ä¹‹åŽ, å¯ä»¥ç”¨åç§°ç´¢å¼•\n```\n\n    [('row1', 1) ('row2', 2) ('row3', 3)]\n\n\n```python\narr = np.genfromtxt('data/data2.csv',\n                    skip_header=1,\n                    names=('col1', 'col2', 'col3'),\n                    dtype=('U15', 'int', 'float'),\n                    missing_values=None,\n                    filling_values=('', 0, np.nan),  # åˆ†å¼€æŒ‡å®š\n                    delimiter=',')\nprint(arr)\n```\n\n    [('row1', 0, 10. ) ('', 2,  0.2) ('row3', 3,  nan)]\n\n\n* ä¸€èˆ¬è€Œè¨€, å¯¹äºŽä¸€ä¸ªç”±åˆ†éš”ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸², è½¬æˆä¸€ä¸ªæ•°ç»„çš„æ–¹å¼:<br>\n`np.fromstring(string, dtype=float, count=-1, sep='')`\n\n```python\nnp.fromstring('0 1 2', dtype=int, sep=' ')\n```\n\n\n\n\n    array([0, 1, 2])\n\n\n\n```python\nnp.fromstring('0., 1., 2.', sep=',')\n```\n\n\n\n\n    array([0., 1., 2.])\n\n\n\n### numpy save æ–‡ä»¶è¯»å†™\n\n```python\nnp.save('fname', arr)  # 'fname.npy'\nnp.savez('fname', arr)  # 'fname.npz', å¤šä¸ªå˜é‡\nnp.savez_compressed('fname', arr)  # 'fname.npz', å¤šä¸ªå˜é‡ & åŽ‹ç¼©\nnp.load('fname.npz')  # Load the files created by savez_compressed.\n```\n\n```python\n# å­˜å…¥\narr = np.ones(5)  # é»˜è®¤ `float64`\nnp.savez('data/np_array', a=arr, b=0)\n```\n\n```python\nls data/*.npz\n```\n\n    data/np_array.npz\n\n\n```python\n# è½½å…¥\ndata = np.load('data/np_array.npz')\nprint((data['a'], data['b'], int(data['b'])))  # é»˜è®¤ä»¥`ndarray`è¯»å–\n```\n\n    (array([1., 1., 1., 1., 1.]), array(0), 0)\n\n\n### IDL sav æ–‡ä»¶è¯»å–\n\n```python\nfrom scipy.io.idl import readsav\ndata = readsav('dname.sav', verbose=True, python_dict=False)\n```\né»˜è®¤è¯»å‡ºçš„æ˜¯`scipy.io.idl.AttrDict`ç±»åž‹, å³ key çš„å¤§å°å†™ä¸æ•æ„Ÿ.<br>\næƒ³è¦å¾—åˆ°å¤§å°å†™æ•æ„Ÿçš„ python dict, è®¾ç½® `python_dict=True` å³å¯.\n<br><br>\nä¾‹:\n\n```python\nfrom scipy.io.idl import readsav\ndata = readsav('data/myidlfile.sav')\nprint(type(data))\nprint(data.keys())  # æ³¨æ„è¿”å›žçš„æ˜¯ä¸€ä¸ª`dict_keys`å¯¹è±¡, å¦‚éœ€ç´¢å¼•éœ€è¦æ‰‹åŠ¨è½¬ä¸ºlist\nprint(data['X'].shape)  # å¤§å°å†™ä¸æ•æ„Ÿ\ndata = readsav('data/myidlfile.sav', python_dict=True)\nprint(type(data))\nprint(data['x'].shape)  # å¤§å°å†™æ•æ„Ÿ\n```\n\n    <class 'scipy.io.idl.AttrDict'>\n    dict_keys(['x', 'y', 'str'])\n    (25,)\n    <class 'dict'>\n    (25,)\n\n\n### FITS æ–‡ä»¶è¯»å–\n\n* Astropy\n\nå‚è€ƒ:<br>\n<http://docs.astropy.org/en/stable/io/fits><br>\n<https://python4astronomers.github.io/astropy/fits.html>\n\n> [Note]<br>\nIf you are already familiar with PyFITS, astropy.io.fits is in fact the same code as the latest version of PyFITS, and you can adapt old scripts that use PyFITS to use Astropy by simply doing:\n```python\nfrom astropy.io import fits as pyfits\n```\nHowever, for new scripts, we recommend the following import:\n```python\nfrom astropy.io import fits\n```\n\n`fits.open`\n```python\n>>> from astropy.io import fits\n>>> hdulist = fits.open('<filename>.fit')\n>>> hdulist.info()  # hdulist æ˜¯ä¸€ä¸ªç”± HDU objects ç»„æˆçš„ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡\nFilename: <filename>.fit\nNo.    Name         Type      Cards   Dimensions   Format\n0    PRIMARY     PrimaryHDU    ...       ...        ...\n1    ENERGIES    BinTableHDU   ...       ...        ...\n>>> hdu = hdulist[0]\n>>> hdu.data  # ndarray\n>>> hdu.header['<key>']  # å¾—åˆ°æŸä¸ª header keyword\n# ä¿®æ”¹æ•°æ®åŽ\n>>> hdu.writeto('<filename>.fits') # ä¿å­˜ HDU object\n>>> hdulist.writeto('<filename>.fits')  # æˆ–ä¿å­˜æ•´ä¸ªè¡¨\n```\n```python\n# åˆ›å»ºä¸€ä¸ª fits Primary HDU object\n>>> hdu = fits.PrimaryHDU()\n>>> hdu.writeto('<filename>.fits')  # ä¿å­˜ HDU object\n>>> hdu.writeto('<filename>.fits', clobber=True)  # ä¿å­˜åˆ°å·²å­˜åœ¨æ–‡ä»¶\n```\n`fits.getdata`, `fits.getheader`\n```python\n>>> data = fits.getdata('<filename>.fit')\n>>> header = fits.getheader('<filename>.fit')\n```\n<br>\n* SunPy\n\n```python\n>>> import sunpy.io\n>>> hdulist = sunpy.io.read_file('<filename>.fits')  # è‡ªåŠ¨åˆ¤æ–­æ–‡ä»¶ç±»åž‹\n# or use `hdulist = sunpy.io.fits.read('<filename>.fits')`\n>>> hdu = hdulist[1]\n>>> hdu.data  # ndarray\n```\n```python\n>>> import sunpy.map\n>>> smap = sunpy.map.Map('<filename>.fits')\n# å¾—åˆ°ä¸€ä¸ª sunpy `GenericMap` object\n```\n\nä¾‹:\n\n```python\nfrom astropy.io import fits\nfname = 'scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits'\nhdulist = fits.open(fname)\n```\n\n```python\nhdulist.info()\n```\n\n    Filename: scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits\n    No.    Name      Ver    Type      Cards   Dimensions   Format\n      0  PRIMARY       1 PrimaryHDU       6   ()      \n      1                1 CompImageHDU    155   (4096, 4096)   int32   \n\n\n```python\nhdulist.verify('silentfix+warn')\nhdu = hdulist[1]\nhdu.data.shape\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n```python\nimport sunpy.io\nhdulist = sunpy.io.read_file(fname)\nhdu = hdulist[1]\nhdu.data.shape\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n## å…¶ä»–åŒ…å’Œè½¯ä»¶\n\n* Astroconda <https://astroconda.readthedocs.io/en/latest/>\n> AstroConda is a free Conda channel maintained by the Space Telescope Science Institute (STScI) in Baltimore, Maryland. This channel provides tools and utilities required to process and analyze data from the Hubble Space Telescope (HST), James Webb Space Telescope (JWST), and others.\n<br><br>\n* Canopy <https://www.enthought.com/product/canopy/>\n> Enthought Canopy provides a proven scientific and analytic Python package distribution plus key integrated tools for iterative data analysis, data visualization, and application development. Users have the ability to extend and innovate with scripting and open platform APIs, driving the creation and sharing of innovative workflows, tools, and applications.\n<img src='/main/Canopy-Packages-min-1.png' >\n<br><br>\n* PyCharm <https://www.jetbrains.com/pycharm/>\n<img src='/main/pycharm.jpg' >\n<br><br>\n* Jupyterlab <http://jupyterlab.readthedocs.io/en/stable/>\n<img src='/main/jupyterlab.png' >\n","source":"_posts/2018-07-02-main.md","raw":"---\ntitle: \"Python ç®€æ˜“æ•™ç¨‹ (lecture for Solar Group)\"\npermalink: main.html\ncategories: 'Solar Physics'\ntags: [python, jupyter]\ndate: 2018-07-02 20:56:13\n---\n[<i class=\"fas fa-download\"></i> Jupyter Notebook](/downloads/notebooks/python-intro.zip)\n\n## ç®€ä»‹\n\nä¼˜åŠ¿: å¼€æº, ç”¨æˆ·å¹¿, ç”¨é€”å¹¿, ç¤¾åŒºå®Œå–„, æ–°æ‰‹å‹å¥½\n\n<https://www.jetbrains.com/research/python-developers-survey-2017/>\n<br><br>\n2017å¹´çš„ python ä½¿ç”¨è°ƒæŸ¥æŠ¥å‘Š <https://www.jetbrains.com/research/python-developers-survey-2017/>\n<img src='/main/Python Developers Survey 2017 - Results-018.png' >\n<img src='/main/Python Developers Survey 2017 - Results-019.png' >\n<img src='/main/Python Developers Survey 2017 - Results-020.png' >\n\nå‚è€ƒç½‘ç«™:\n\n  - å®˜æ–¹ç½‘ç«™: <https://www.python.org/>\n  - stackoverflow <https://stackoverflow.com/questions/tagged/python>\n  - å®˜æ–¹æ–‡æ¡£ <https://docs.python.org>\n  - å»–é›ªå³°çš„ç½‘ç«™ (åŒ…å« python2.7 å’Œ python3 çš„æ•™ç¨‹) <https://www.liaoxuefeng.com>\n  - wikibooks <https://en.wikibooks.org/wiki/Python_Programming>\n  - æ¼”ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹çš„å·¥å…· <http://pythontutor.com/>\n  - å¤©æ–‡ç›¸å…³æ•™ç¨‹ (è¾ƒæ–°) <https://python4astronomers.github.io>\n\n<br>\nèŽ·å– python åŒ…/æ¨¡å—/å‡½æ•°çš„å¸®åŠ©:\n\n```python\n# python\n>>> help(name)\n```\n```sh\n# shell\n$ pydoc <name>\n$ pydoc -w <name>  # ç”Ÿæˆä¸€ä¸ª html å¸®åŠ©æ–‡ä»¶\n```\n```python\n# ipython/jupyter\nname?  # å¼¹å‡ºå¸®åŠ©æ–‡æ¡£, `Esc` é€€å‡ºæ–‡æ¡£\n```\n<!-- more -->\n\n## åŸºæœ¬è¯­æ³•\n\n### è¯­æ³•ç‰¹ç‚¹\n\n* å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µ<br>\n  ç±» -> åˆ›å»ºä¸€ä¸ªå®žä¾‹ -> ä½¿ç”¨è¯¥å®žä¾‹æ‰€å±žçš„ç±»ä¸‹é¢çš„æ–¹æ³•\n```python\nl = [3, 2, 1]  # l æ˜¯ list çš„ä¸€ä¸ªå®žä¾‹\nl.reverse()  # reverse æ˜¯ä¸€ä¸ªæ–¹æ³•(å‡½æ•°), reverse() æ˜¯ä¸€ä¸ªå®žä¾‹\nl.__dir__()  # æŸ¥çœ‹ l çš„æ‰€æœ‰æ–¹æ³•(å‡½æ•°)\n```\n<br>\n* ä¸¥æ ¼ç¼©è¿› (é€šå¸¸é‡‡ç”¨4ä¸ªåŠè§’ç©ºæ ¼)\n```py\nif a > 0:\n      a += 1\nprint(a)\n```\n<br>\n* ç©ºæ ¼ä¸æ•æ„Ÿ\n```python\na + b * c ** 2 / d\nf (a, b)\n```\n<br>\n* å¤§å°å†™æ•æ„Ÿ, ä½¿ç”¨å¤§å°å†™ç»„åˆçš„å˜é‡åé£Žæ ¼ (ä¸‹åˆ’çº¿ä»æ˜¯åˆæ³•å˜é‡åå­—ç¬¦,ä½†æœ‰ç‰¹æ®Šå«ä¹‰, è§ [Python è¿›é˜¶#è„šæœ¬ç›¸å…³](advance.html#è„šæœ¬ç›¸å…³))\n```python\nfrom scipy.interpolate import BSpline\n```\n```python\nimport pandas as pd\ndataFrame = pd.DataFrame(array)\n```\nè§ [IDL sav æ–‡ä»¶è¯»å–](#IDL-sav-æ–‡ä»¶è¯»å–)\n<br><br>\n* æ‹¬å·å†…æ¢è¡Œä¸ç”¨æ¢è¡Œç¬¦\n<br><br>\n* å•è¡Œæ³¨é‡Š `# ...`\n<br><br>\n* å¤šè¡Œæ³¨é‡Š<br>\nå‡½æ•°æˆ–æ¨¡å—çš„å¼€å¤´çš„å¤šè¡Œæ³¨é‡Š (å°†å­˜å‚¨åœ¨`__doc__`å˜é‡), å¯ä»¥ç”¨ `help()` æ‰“å°\n```python\n\"\"\"\nè¿™æ˜¯ä¸€ä¸ª\nå¤šè¡Œæ³¨é‡Š\n\"\"\"\n```\n<br>\n* åŒä¸€è¡Œä¸åŒè¯­å¥ä¹‹é—´å¯ç”¨åˆ†å·åˆ†éš”\n```python\nx = 1; print(x)\n```\n<br>\n* åˆ—è¡¨å’Œæ•°ç»„çš„ç´¢å¼•é»˜è®¤ä»Ž<font color=red>0</font>å¼€å§‹\n<br><br>\n* åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ å¯ä»¥åŠ é€—å·\n```python\n[1, 2,]\n{'a' : 1, 'b' : 2,}\n```\n<br>\n* *etc.*\n\n### printå‡½æ•°\n\n```python\na = 1.; b = 2.\n```\n\n```python\nprint('a=%.3f, b=%.1e' % (a, b))\n```\n\n    a=1.000, b=2.0e+00\n\n\n```python\nprint(f'a={a}, b={b:.3f}')\n```\n\n    a=1.0, b=2.000\n\n\n```python\n%%python2\nprint('xxx'),\nprint('yyy')\n```\n\n    xxx yyy\n\n\n```python\n%%python3\nprint('xxx', end=' ')\nprint('yyy')\n```\n\n    xxx yyy\n\n\næ›´å¤šæ ¼å¼åŒ–å‚è€ƒ <https://pyformat.info/>\n\n### åŸºæœ¬è¿ç®—\n\nè¿ç®—ç¬¦å‚è€ƒ:<br>\n<https://en.wikibooks.org/wiki/Python_Programming/Basic_Math><br>\n<https://www.tutorialspoint.com/python/python_basic_operators.htm>\n\n```python\na = 1\na += 1  # æ²¡æœ‰ a++ è¿™ç§è¯­æ³•\na\n```\n\n\n\n\n    2\n\n\n\n```python\n3. ** 2  # è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»åž‹\n```\n\n\n\n\n    9.0\n\n\n\n```python\n1 < 2 != 3  # åˆ¤æ–­, å¯ä»¥è¿žå†™\n```\n\n\n\n\n    True\n\n\n\n```python\na = None\na is None  # æ³¨æ„è¿™æ—¶ä¸ç”¨ `==`\n```\n\n\n\n\n    True\n\n\n\n### å­—ç¬¦ä¸²\n\nç”¨åŒå¼•å·å’Œå•å¼•å·çš†å¯ (å–å†³äºŽæ‰€å¼•å†…å®¹).<br>\nå­—ç¬¦ä¸²å…·æœ‰å’Œåˆ—è¡¨ (list) ç±»ä¼¼çš„è¿ç®—è§„åˆ™ (è§ä¹‹åŽçš„ list è¯´æ˜Ž):\n\n```python\n'a' * 10\n```\n\n\n\n\n    'aaaaaaaaaa'\n\n\n\n```python\n'a' + 'b'\n```\n\n\n\n\n    'ab'\n\n\n\n```python\n'abc'[0]\n```\n\n\n\n\n    'a'\n\n\n\n```python\nprint('\\n')\n```\n\n    \n    \n\n\n```python\nprint(r'\\n')  # same as '\\\\n'\n```\n\n    \\n\n\n\n### list, tuple, dict, set\n\n* æœ‰åºè¡¨ list, tuple\n\n```python\nl = [0, 1, 2, 3, 4, 5]  # list, å…ƒç´ å¯å˜\nt = (0, 1, 2, 3, 4, 5)  # tuple, å…ƒç´ ä¸å¯å˜\n```\n\n```python\nl[0:3]  # ä¸€ä¸ªåˆ‡ç‰‡(slice)\n```\n\n\n\n\n    [0, 1, 2]\n\n\n\n```python\nt[0:3]\n```\n\n\n\n\n    (0, 1, 2)\n\n\n\n```python\nl[1:5:2]  # ç´¢å¼•: [start, stop, step] (ç»“æžœä¸åŒ…å« stop)\n```\n\n\n\n\n    [1, 3]\n\n\n\n```python\nl[5:1:-1]  # step < 0, ä»ç„¶ä¸åŒ…å« stop (æ­¤ä¾‹ä¸­ stop=1)\n```\n\n\n\n\n    [5, 4, 3, 2]\n\n\n\nlist å¸¸ç”¨è¿ç®—\n\n```python\nl = [0, 1, 2, 3, 4, 5]\nl.append('x')  # æ·»åŠ åœ¨æœ€åŽ\nprint(l)\nl.insert(3, 'y')  # æ·»åŠ åœ¨ l[i] ä¹‹å‰\nprint(l)\nprint(l.pop(1))  # åˆ é™¤æŸå…ƒç´ å¹¶è¿”å›žè¯¥å€¼\nprint(l)\n```\n\n    [0, 1, 2, 3, 4, 5, 'x']\n    [0, 1, 2, 'y', 3, 4, 5, 'x']\n    1\n    [0, 2, 'y', 3, 4, 5, 'x']\n\n\n```python\nprint(l * 2)  # é‡å¤Né\nprint(l + [6, 7])  # åˆå¹¶ä¸¤ä¸ªlist\n```\n\n    [1, 'y', 2, 3, 4, 5, 'x', 1, 'y', 2, 3, 4, 5, 'x']\n    [1, 'y', 2, 3, 4, 5, 'x', 6, 7]\n\n\nlist å¯ä»¥æŽ’åº (å½“å…ƒç´ ä¸ºåŒä¸€ç±»åž‹ä¸”å¯æ¯”è¾ƒå¤§å°æ—¶), è¿”å›žåˆ°åŽŸåˆ—è¡¨\n\n```python\nl = ['b', 'a']\nl.sort()\nl\n```\n\n\n\n\n    ['a', 'b']\n\n\n\n```python\nl = [2, 1]\nl.sort()\nl\n```\n\n\n\n\n    [1, 2]\n\n\n\n* å­—å…¸ dict\n\n```python\nd = {'a' : 1, 'b' : 2}\n```\n\n```python\nd = dict(a=1, b=2) # æ³¨æ„è¿™æ—¶æ²¡æœ‰å¼•å·\n```\n\n```python\nd['a']\n```\n\n\n\n\n    1\n\n\n\n* é›†åˆ set\n\n```python\ns = {3, 2, 1, 3}  # set, å°†è‡ªåŠ¨æŽ’åºå¹¶åŽ»é™¤é‡å¤, å¸¸ç”¨äºŽ for å¾ªçŽ¯\ns  # ä¸èƒ½ç”¨ s[i] æ¥ç´¢å¼•\n```\n\n\n\n\n    {1, 2, 3}\n\n\n\nset ä¸å¯ç´¢å¼•, ä½†å¯ç”¨ä½œ for å¾ªçŽ¯. è§ [Python è¿›é˜¶#è¿­ä»£å™¨](advance.html#å¾ªçŽ¯,-è¿­ä»£å™¨,-ç”Ÿæˆå™¨)\n\n```python\nfor i in s:\n    print(i)\n```\n\n    1\n    2\n    3\n\n\n```python\nl2 = [i for i in s]\nprint(l2)\n```\n\n    [1, 2, 3]\n\n\n### if è¯­å¥\n\npython é‡Œæ²¡æœ‰ `case`, åªæœ‰ `if` (éžé›¶æ•°å€¼ã€éžç©ºå­—ç¬¦ä¸²ã€éžç©º list ç­‰çš†ä¸º True)\n```python\nif <æ¡ä»¶åˆ¤æ–­1>:\n    <æ‰§è¡Œ1>\nelif <æ¡ä»¶åˆ¤æ–­2>:\n    <æ‰§è¡Œ2>\nelif <æ¡ä»¶åˆ¤æ–­3>:\n    <æ‰§è¡Œ3>\nelse:\n    <æ‰§è¡Œ4>\n```\n\n### ç›¸å…³å·¥å…·\n\n#### pip\n\n<img src='/main/logo-large.72ad8bf1.svg' />\n\n> The **Python Package Index (PyPI)** is a repository of software for the Python programming language.<br/>\nPyPI helps you find and install software developed and shared by the Python community.<br/>\n<https://pypi.org/>\n\n```\n$ pip install <pkg_name>\n```\n&nbsp;&nbsp;&nbsp;&nbsp;(å…¶ä»–å‘½ä»¤è§ [Python å®‰è£…å’Œé…ç½®#ç”¨ pip å®‰è£… python åŒ…](installpy.html#ç”¨-pip-å®‰è£…-python-åŒ…))\n\n#### Anaconda\n\n<img src='/main/DataScienceLibraries-01.png' />\n<img src='/main/Conda-DistributionDiagram-01.png' />\n\n<img src='/main/Conda â€” Conda documentation.png' />\n\n**Anaconda** (https://www.anaconda.com/)<br>\nå®‰è£…å¥½çš„ conda åŒ…å«ç‹¬ç«‹äºŽç³»ç»Ÿçš„ python ç‰ˆæœ¬, ä¸€éƒ¨åˆ†å·²ç¼–è¯‘å¥½çš„åŒ…, pip å·¥å…·, ä»¥åŠä¸åŒçŽ¯å¢ƒçš„å­ç›®å½•.<br/>\nå¯æ ¹æ®éœ€è¦åˆ‡æ¢ä¸åŒçš„ conda çŽ¯å¢ƒä»¥ä½¿ç”¨ä¸åŒçš„ python ç‰ˆæœ¬æˆ–ä¸åŒçš„åŒ…çš„ç»„åˆ.\n\n```\n$ conda install <pkg_name>\n```\nå…¶ä»–å‘½ä»¤è§ [Python å®‰è£…å’Œé…ç½®#ä½¿ç”¨ conda å‘½ä»¤](installpy.html#ä½¿ç”¨-conda-å‘½ä»¤)<br>\nè¯¦ç»†è¯´æ˜Žè§ [Python è¿›é˜¶#Anaconda](advance.html#Anaconda)\n\n#### IPython & Jupyter\n\n<img style='float: center;' src='/main/IPython.png' />\n\n```python\n# Have a look (ipython)\n!cd && gnome-terminal --window-with-profile='lydia_white'\n!sleep 0.5 && xdotool type --delay 200 \"ipython\" && xdotool key Return\n!sleep 3 && xdotool type --delay 200 \"!idl\" && xdotool key Return\n!sleep 3 && xdotool key Ctrl+d\n!sleep 1 && xdotool type --delay 200 \"!csh -c sswidl\" && xdotool key Return\n```\n\n<center><http://jupyter.org/></center>\n<img style='float: center;' src='/main/jupyterlogo.png' />\n\n<center><https://nbviewer.jupyter.org/></center>\n<img style='float: center;' src='/main/nbviewer.png' />\n\nå‚è€ƒæ–‡æ¡£\n<http://jupyter-notebook.readthedocs.io/en/stable/>\n\n* æ‰“å¼€ `jupyter notebook`:\n\n```\n$ jupyter notebook [filename]\n```\n\n## å¸¸ç”¨åŒ…ä»‹ç»\n\n### Python è‡ªå¸¦åŒ…å’Œæ¨¡å—\n\n```python\nfrom math import * # åŒ…å« pi ç­‰, ä½†æ›´æŽ¨è numpy\nfrom copy import deepcopy\nfrom pprint import pprint  # æ‰“å° list, dict ç­‰æ›´å¥½çœ‹\nimport requests\nimport os\nimport sys\n```\n\n### NumPy, SciPy\n\n#### æ¦‚è§ˆ\n\n<center><https://www.scipy.org></center>\n<img src='/main/SciPy.png' />\n\n<center><http://scikit-image.org></center>\n<img src='/main/scikitlogo.png' />\n<img src='/main/skimage01.png' />\n\n```python\nimport numpy as np\n```\n\nå¯¼å…¥åŒ…çš„ä¸åŒæ–¹å¼å°†åœ¨å„ä¾‹å­ä¸­çœ‹åˆ°.\n\nå‚è€ƒ:\n\n  - NumPy User Guide <https://docs.scipy.org/doc/numpy/user/>\n  - NumPy Reference <https://docs.scipy.org/doc/numpy/reference/>\n  - ndarray<br><https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html>\n  - Array manipulation routines<br><https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html>\n  - SciPy Cookbook <http://scipy-cookbook.readthedocs.io/>\n  - ä¸Ž IDL çš„è¯­æ³•å¯¹ç…§\n    - <http://mathesaurus.sourceforge.net/idl-numpy.html>\n    - <http://blog.rtwilson.com/ten-little-idl-programs-in-python/>\n    - <http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/>\n\n#### ç”Ÿæˆ numpy.ndarray æ•°ç»„\n\nå°† list æˆ– tuple è½¬æ¢ä¸º `numpy.ndarray`\n```python\nimport numpy as np\na = np.array([0, 1, 2, 3, 4])\n# åˆ‡ç‰‡(slice), ç´¢å¼•å¯ä»¥æ˜¯ int æˆ– list (python list åªæ”¯æŒ listä½œä¸ºç´¢å¼•)\na[0]          # 0\na[-1]         # 4\na[0:3]        # array([0, 1, 2]) æ³¨æ„!\na[:3]         # array([0, 1, 2])\na[2:4]        # array([2, 3])\na[2:-1]       # array([2, 3]) æ³¨æ„!\na[2:]         # array([2, 3, 4])\na[0:4:2]      # array([0, 2])\na[4:2:-1]     # array([4, 3])\na[[1, 4, 3]]  # array([1, 4, 3]) èŠ±å¼åˆ‡ç‰‡, ç´¢å¼•æ˜¯ä¸€ä¸ª list (ä¸èƒ½æ˜¯tuple)\n```\n\nå¤šç»´:\n\n```python\na = np.array([[0, 1, 2], [3, 4, 5]]); a\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5]])\n\n\n\n```python\na = np.array(((0, 1, 2), (3, 4, 5))); a\n# è¿™é‡Œçš„tupleå·²è½¬æˆndarray, äºŽæ˜¯ç»“æžœæ˜¯å¯å˜çš„\n```\n\n\n\n\n    array([[0, 1, 2],\n           [3, 4, 5]])\n\n\n\n```python\na[0, 1]\n```\n\n\n\n\n    1\n\n\n\n```python\na[0][1]\n```\n\n\n\n\n    1\n\n\n\nä»Žä¸€ç»´æ•°ç»„è½¬å˜ä¸ºå¤šç»´:\n\n```python\na = np.arange(12).reshape((3, -1)); a\n# reshape çš„å‚æ•°ä¸º < 0 è¡¨ç¤ºè¯¥ç»´åº¦è‡ªåŠ¨åˆ¤æ–­å…ƒç´ ä¸ªæ•°\n# reshape çš„å‚æ•°æ˜¯ä¸€ä¸ª list æˆ– tuple, æ‹¬å·å¯ä»¥å±•å¼€ (è¯¦è§å¸®åŠ©æ–‡æ¡£)\n# æ­¤ä¾‹ä¸­ reshape((3, 2)), reshape(3, 2), reshape((3, -1)), reshape(3, -1) ç­‰ä»·\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\nb = a.reshape(-1); b  # reshape çš„å‚æ•°åªæœ‰ä¸€ä¸ªç»´åº¦ä¸” < 0(è‡ªåŠ¨)  => å±•å¼€æˆä¸€ç»´\n```\n\n\n\n\n    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])\n\n\n\nèŠ±å¼åˆ‡ç‰‡çš„å¤šç»´ä¾‹å­:\n\n```python\na = np.arange(12).reshape(3, -1)\na[[0, 1],[0, 2]]\n# a[col_inds, row_inds], æ­¤ä¾‹ç­‰ä»·äºŽ a[[[0, 1], [0, 2]]], a[([0, 1], [0, 2])]\n```\n\n\n\n\n    array([0, 6])\n\n\n\n* **np.zeros**(shape, dtype=float),&ensp;**np.ones**(shape, dtype=float)\n\n```python\nnp.zeros((2, 3))  # é»˜è®¤æµ®ç‚¹åž‹\n```\n\n\n\n\n    array([[0., 0., 0.],\n           [0., 0., 0.]])\n\n\n\n```python\nnp.ones((2, 3))  # é»˜è®¤æµ®ç‚¹åž‹\n```\n\n\n\n\n    array([[1., 1., 1.],\n           [1., 1., 1.]])\n\n\n\n* **np.arange**([start,] stop[, step,], dtype=None)\n\nç”Ÿæˆçš„æ•°ç»„å…ƒç´ æ•°æ®ç±»åž‹å’Œå‚æ•°ä¸€è‡´.<br><br>\næ–¹ä¾¿è®°å¿†: æœ€ç®€å½¢å¼ `np.arange`(*N*) ä¸­çš„æ•´æ•° *N* å³ä¸º *å…ƒç´ ä¸ªæ•°*.\n\n```python\nnp.arange(6).reshape((3, 2))\n```\n\n\n\n\n    array([[0, 1],\n           [2, 3],\n           [4, 5]])\n\n\n\n```python\nnp.arange(6).reshape((3, -1))\n```\n\n\n\n\n    array([[0, 1],\n           [2, 3],\n           [4, 5]])\n\n\n\n* **np.linspace**(start, stop, num=50, **endpoint=True**, retstep=False, dtype=None)<br>\né»˜è®¤ç”Ÿæˆçš„å…ƒç´ æ˜¯æµ®ç‚¹åž‹<br>\næ³¨æ„ `np.linspace` å’Œ `np.arange` çš„ä¸åŒè§„åˆ™\n\n```python\nnp.linspace(0, 1, 2)\n```\n\n\n\n\n    array([0., 1.])\n\n\n\n```python\nnp.linspace(0, 1, 2, endpoint=False) \n```\n\n\n\n\n    array([0. , 0.5])\n\n\n\næ›´å¤šæ•°ç»„åˆ›å»ºæ–¹æ³•è§ numpy å®˜ç½‘:<br>\n<https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html><br>\n<https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation>\n\n* è½¬ç½®\n\n```python\na = np.arange(12).reshape(3, -1); a\n```\n\n\n\n\n    array([[ 0,  1,  2,  3],\n           [ 4,  5,  6,  7],\n           [ 8,  9, 10, 11]])\n\n\n\n```python\na.T\n```\n\n\n\n\n    array([[ 0,  4,  8],\n           [ 1,  5,  9],\n           [ 2,  6, 10],\n           [ 3,  7, 11]])\n\n\n\næ›´å¤šæ•°ç»„æ“ä½œè§ numpy å®˜ç½‘ <https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html>\nçŸ©é˜µæ“ä½œè§ [Python è¿›é˜¶#çŸ©é˜µ](advance.html#çŸ©é˜µ)\n\n### Matplotlib\n\n* å®˜æ–¹ç¤ºä¾‹ <https://matplotlib.org/tutorials/index.html>\n<img src='/main/Matplotlib.png' />\n<img src='/main/annotation_demo2_00.png' />\n<img src='/main/contour_demo_05.png' />\n\n* å®˜æ–¹æ•™ç¨‹ <https://matplotlib.org/tutorials/introductory/usage.html>\n\n```python\nimport matplotlib.pyplot as plt\n```\n\nåˆ›å»ºä¸€ä¸ªå›¾åƒ (ä¸‰ç§å†™æ³•çš†å¯):\n\n```python\nfig, ax = plt.subplots()\n```\n\n```python\nfig = plt.figure(1, (12, 6), dpi=100)\nax = fig.add_subplot(111)  # æ•°å­— (ijk) è¡¨ç¤º: è¿™æ˜¯ä¸€å…±iè¡Œjåˆ—ä¸­çš„ç»„å›¾ä¸­çš„ç¬¬kä¸ªå›¾\n```\n\n```python\nfig = plt.gcf()\nax = plt.gca()\n```\n\nèŽ·å–å¸®åŠ©:\n\n```python\nhelp(ax)\n```\n\n```python\n# æŸ¥çœ‹æŸå¯¹è±¡åŒ…å«çš„æ–¹æ³•\nax.# <Tab>, <Shift-Tab>\nplt.# <Tab>, <Shift-Tab>\n```\n\nä¾‹:\n\n```python\n%matplotlib?\n```\n\n```python\n%matplotlib\n%run -e 'examples/test_plot.py'\n```\n\n```python\n%matplotlib\n%run -e 'examples/test_imshow.py'\n```\n\n* é¢œè‰² <https://matplotlib.org/examples/color/colormaps_reference.html>\n* legend <https://matplotlib.org/users/legend_guide.html>\n<br>\n<img src='/main/named_colors.png' />\n\n### å¤©æ–‡ç›¸å…³åŒ…\n\n#### Astropy\n\n<img src='/main/astropy_banner.svg' />\n\nå®˜æ–¹æ–‡æ¡£ <http://docs.astropy.org/en/stable/index.html>\n\nåæ ‡ç³»ç»Ÿ <http://docs.astropy.org/en/stable/coordinates/index.html>\n\n```python\nfrom astropy import units as u\nfrom astropy.coordinates import SkyCoord\n```\n\nå‚è€ƒ <https://python4astronomers.github.io/astropy/astropy.html>\n\n#### SunPy\n\n<img src='/main/Screenshot_20180625-005924.png' />\n<img src='/main/sphx_glr_lat_lon_lines_001.png' />\n<img src='/main/sphx_glr_submaps_and_cropping_001.png' />\n\n<br>\nHMI ç¤ºä¾‹è§ [Python è¿›é˜¶#SunPy ç¤ºä¾‹](advance.html#SunPy-ç¤ºä¾‹)<br>\n<https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true>\n\n<br><br>\nå‚è€ƒ:\n\n  - Gallery <http://docs.sunpy.org/en/stable/generated/gallery/index.html>\n  - SunPy Guide <http://docs.sunpy.org/en/stable/guide/index.html>\n  - SunPy Map<br><http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap>\n  - Example Gallery <http://docs.sunpy.org/en/stable/generated/gallery/index.html>\n  - A brief tour of SunPy <http://docs.sunpy.org/en/stable/guide/tour.html>\n  - Finding and Downloading Data using Fido<br><http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html>\n\nç®€å•çš„ä¾‹å­ (æ¥è‡ªå®˜ç½‘):\n\n```python\n%matplotlib inline\n\nimport sunpy.map\nimport matplotlib.pyplot as plt\nimport sunpy.data.sample\n\naia = sunpy.map.Map(sunpy.data.sample.AIA_171_IMAGE)\n\nfig = plt.figure(1, (5, 5), dpi=100)\nax = plt.subplot(111, projection=aia)\n\naia.plot()\naia.draw_limb()\naia.draw_grid()\naia.draw_limb()\nplt.colorbar();\n\n# plt.show()\n```\n\n    /home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/sources/sdo.py:48: SunpyDeprecationWarning: Use Matplotlib to load the colormaps\n      self.plot_settings['cmap'] = cm.get_cmap(self._get_cmap_name())\n\n\n\n    \n![png](/main/main_126_1.png)\n    \n\n\nèŽ·å–ä¸€äº›å¸¸æ•°:\n\n```python\nfrom sunpy.sun import constants as con\n# one astronomical unit (the average distance between the Sun and Earth)\nprint(con.au)\n```\n\n      Name   = Astronomical Unit\n      Value  = 149597870700.0\n      Uncertainty  = 0.0\n      Unit  = m\n      Reference = IAU 2012 Resolution B2\n\n\n```python\n# the solar radius\nprint(con.radius)\n```\n\n      Name   = Solar radius\n      Value  = 695508000.0\n      Uncertainty  = 26000.0\n      Unit  = m\n      Reference = Allen's Astrophysical Quantities 4th Ed.\n\n\n## å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\n\n### ä¸€èˆ¬æƒ…å†µ\n\n```python\nf = open(filename, 'w')  # 'w', 'r', ...\n...\n...\nf.close()\n```\næ›´å¥½çš„ç”¨æ³•:\n```python\nwith open(filename, 'w') as f:  # 'w', 'r', ...\n    ...\n    ...\n```\n\n### txt, csv æ–‡ä»¶è¯»å†™\n\n* é€è¡Œè¯»å–æ•´è¡Œçš„æ–¹å¼:<br>\nä½¿ç”¨ `strip` å¯ä»¥ç”¨æ¥åŽ»æŽ‰è¯»å…¥çš„æ¯è¡Œæœ«å°¾çš„ '\\n'\n\n```python\nlines = []\nwith open('data/data.csv', 'r') as f:\n    for line in f:\n        lines.append(line.strip().split(','))\nlines\n```\n\n\n\n\n    [['col1', 'col2', 'col3'],\n     ['row1', '1', '1e1'],\n     ['row2', '2', '2e-1'],\n     ['row3', '3', '3e+2']]\n\n\n\n* ä½¿ç”¨ numpy, è¯»å–åŽç›´æŽ¥è½¬æˆæ•°ç»„çš„æ–¹å¼ (æŽ¨è):<br>\n`np.loadtxt`,&ensp;`np.genfromtxt` (å†™æ–‡ä»¶æ˜¯ `np.savetxt`)<br>\nè¶…å¤§æ–‡ä»¶è¯»å–å»ºè®®ç”¨ pandas åŒ….\n\ne.g.\n\n```python\n>>> import numpy as np\n>>> arr = np.loadtxt(fname, skiprows=1, delimiter=',') # é»˜è®¤åˆ†å‰²ç¬¦ä¸ºç©ºæ ¼\n>>> col1, col2 = np.loadtxt(fname, skiprows=1, usecols=(1, 2), unpack=True)\n```\n`np.genfromtxt` å’Œ `np.loadtxt` ç±»ä¼¼, å¢žåŠ äº†å¤„ç† missing values çš„åŠŸèƒ½.<br>\n(ä½†å‚æ•° skiprows=1 éœ€æ›¿æ¢ä¸º skip_header=1)\n\nä¾‹ (è¿™é‡Œä½¿ç”¨åŠŸèƒ½æ›´å¤šçš„ `np.genfromtxt` ä»£æ›¿ `np.loadtxt`):\n\n```python\narr = np.genfromtxt('data/data.csv',\n                    skip_header=1,\n                    names=('col1', 'col2', 'col3'),\n                    dtype=('U15', 'int', 'float'),\n                    delimiter=',')\nprint(arr[['col1', 'col2']])  # è®¾å®šäº† names ä¹‹åŽ, å¯ä»¥ç”¨åç§°ç´¢å¼•\n```\n\n    [('row1', 1) ('row2', 2) ('row3', 3)]\n\n\n```python\narr = np.genfromtxt('data/data2.csv',\n                    skip_header=1,\n                    names=('col1', 'col2', 'col3'),\n                    dtype=('U15', 'int', 'float'),\n                    missing_values=None,\n                    filling_values=('', 0, np.nan),  # åˆ†å¼€æŒ‡å®š\n                    delimiter=',')\nprint(arr)\n```\n\n    [('row1', 0, 10. ) ('', 2,  0.2) ('row3', 3,  nan)]\n\n\n* ä¸€èˆ¬è€Œè¨€, å¯¹äºŽä¸€ä¸ªç”±åˆ†éš”ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸², è½¬æˆä¸€ä¸ªæ•°ç»„çš„æ–¹å¼:<br>\n`np.fromstring(string, dtype=float, count=-1, sep='')`\n\n```python\nnp.fromstring('0 1 2', dtype=int, sep=' ')\n```\n\n\n\n\n    array([0, 1, 2])\n\n\n\n```python\nnp.fromstring('0., 1., 2.', sep=',')\n```\n\n\n\n\n    array([0., 1., 2.])\n\n\n\n### numpy save æ–‡ä»¶è¯»å†™\n\n```python\nnp.save('fname', arr)  # 'fname.npy'\nnp.savez('fname', arr)  # 'fname.npz', å¤šä¸ªå˜é‡\nnp.savez_compressed('fname', arr)  # 'fname.npz', å¤šä¸ªå˜é‡ & åŽ‹ç¼©\nnp.load('fname.npz')  # Load the files created by savez_compressed.\n```\n\n```python\n# å­˜å…¥\narr = np.ones(5)  # é»˜è®¤ `float64`\nnp.savez('data/np_array', a=arr, b=0)\n```\n\n```python\nls data/*.npz\n```\n\n    data/np_array.npz\n\n\n```python\n# è½½å…¥\ndata = np.load('data/np_array.npz')\nprint((data['a'], data['b'], int(data['b'])))  # é»˜è®¤ä»¥`ndarray`è¯»å–\n```\n\n    (array([1., 1., 1., 1., 1.]), array(0), 0)\n\n\n### IDL sav æ–‡ä»¶è¯»å–\n\n```python\nfrom scipy.io.idl import readsav\ndata = readsav('dname.sav', verbose=True, python_dict=False)\n```\né»˜è®¤è¯»å‡ºçš„æ˜¯`scipy.io.idl.AttrDict`ç±»åž‹, å³ key çš„å¤§å°å†™ä¸æ•æ„Ÿ.<br>\næƒ³è¦å¾—åˆ°å¤§å°å†™æ•æ„Ÿçš„ python dict, è®¾ç½® `python_dict=True` å³å¯.\n<br><br>\nä¾‹:\n\n```python\nfrom scipy.io.idl import readsav\ndata = readsav('data/myidlfile.sav')\nprint(type(data))\nprint(data.keys())  # æ³¨æ„è¿”å›žçš„æ˜¯ä¸€ä¸ª`dict_keys`å¯¹è±¡, å¦‚éœ€ç´¢å¼•éœ€è¦æ‰‹åŠ¨è½¬ä¸ºlist\nprint(data['X'].shape)  # å¤§å°å†™ä¸æ•æ„Ÿ\ndata = readsav('data/myidlfile.sav', python_dict=True)\nprint(type(data))\nprint(data['x'].shape)  # å¤§å°å†™æ•æ„Ÿ\n```\n\n    <class 'scipy.io.idl.AttrDict'>\n    dict_keys(['x', 'y', 'str'])\n    (25,)\n    <class 'dict'>\n    (25,)\n\n\n### FITS æ–‡ä»¶è¯»å–\n\n* Astropy\n\nå‚è€ƒ:<br>\n<http://docs.astropy.org/en/stable/io/fits><br>\n<https://python4astronomers.github.io/astropy/fits.html>\n\n> [Note]<br>\nIf you are already familiar with PyFITS, astropy.io.fits is in fact the same code as the latest version of PyFITS, and you can adapt old scripts that use PyFITS to use Astropy by simply doing:\n```python\nfrom astropy.io import fits as pyfits\n```\nHowever, for new scripts, we recommend the following import:\n```python\nfrom astropy.io import fits\n```\n\n`fits.open`\n```python\n>>> from astropy.io import fits\n>>> hdulist = fits.open('<filename>.fit')\n>>> hdulist.info()  # hdulist æ˜¯ä¸€ä¸ªç”± HDU objects ç»„æˆçš„ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡\nFilename: <filename>.fit\nNo.    Name         Type      Cards   Dimensions   Format\n0    PRIMARY     PrimaryHDU    ...       ...        ...\n1    ENERGIES    BinTableHDU   ...       ...        ...\n>>> hdu = hdulist[0]\n>>> hdu.data  # ndarray\n>>> hdu.header['<key>']  # å¾—åˆ°æŸä¸ª header keyword\n# ä¿®æ”¹æ•°æ®åŽ\n>>> hdu.writeto('<filename>.fits') # ä¿å­˜ HDU object\n>>> hdulist.writeto('<filename>.fits')  # æˆ–ä¿å­˜æ•´ä¸ªè¡¨\n```\n```python\n# åˆ›å»ºä¸€ä¸ª fits Primary HDU object\n>>> hdu = fits.PrimaryHDU()\n>>> hdu.writeto('<filename>.fits')  # ä¿å­˜ HDU object\n>>> hdu.writeto('<filename>.fits', clobber=True)  # ä¿å­˜åˆ°å·²å­˜åœ¨æ–‡ä»¶\n```\n`fits.getdata`, `fits.getheader`\n```python\n>>> data = fits.getdata('<filename>.fit')\n>>> header = fits.getheader('<filename>.fit')\n```\n<br>\n* SunPy\n\n```python\n>>> import sunpy.io\n>>> hdulist = sunpy.io.read_file('<filename>.fits')  # è‡ªåŠ¨åˆ¤æ–­æ–‡ä»¶ç±»åž‹\n# or use `hdulist = sunpy.io.fits.read('<filename>.fits')`\n>>> hdu = hdulist[1]\n>>> hdu.data  # ndarray\n```\n```python\n>>> import sunpy.map\n>>> smap = sunpy.map.Map('<filename>.fits')\n# å¾—åˆ°ä¸€ä¸ª sunpy `GenericMap` object\n```\n\nä¾‹:\n\n```python\nfrom astropy.io import fits\nfname = 'scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits'\nhdulist = fits.open(fname)\n```\n\n```python\nhdulist.info()\n```\n\n    Filename: scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits\n    No.    Name      Ver    Type      Cards   Dimensions   Format\n      0  PRIMARY       1 PrimaryHDU       6   ()      \n      1                1 CompImageHDU    155   (4096, 4096)   int32   \n\n\n```python\nhdulist.verify('silentfix+warn')\nhdu = hdulist[1]\nhdu.data.shape\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n```python\nimport sunpy.io\nhdulist = sunpy.io.read_file(fname)\nhdu = hdulist[1]\nhdu.data.shape\n```\n\n\n\n\n    (4096, 4096)\n\n\n\n## å…¶ä»–åŒ…å’Œè½¯ä»¶\n\n* Astroconda <https://astroconda.readthedocs.io/en/latest/>\n> AstroConda is a free Conda channel maintained by the Space Telescope Science Institute (STScI) in Baltimore, Maryland. This channel provides tools and utilities required to process and analyze data from the Hubble Space Telescope (HST), James Webb Space Telescope (JWST), and others.\n<br><br>\n* Canopy <https://www.enthought.com/product/canopy/>\n> Enthought Canopy provides a proven scientific and analytic Python package distribution plus key integrated tools for iterative data analysis, data visualization, and application development. Users have the ability to extend and innovate with scripting and open platform APIs, driving the creation and sharing of innovative workflows, tools, and applications.\n<img src='/main/Canopy-Packages-min-1.png' >\n<br><br>\n* PyCharm <https://www.jetbrains.com/pycharm/>\n<img src='/main/pycharm.jpg' >\n<br><br>\n* Jupyterlab <http://jupyterlab.readthedocs.io/en/stable/>\n<img src='/main/jupyterlab.png' >\n","slug":"main","published":1,"updated":"2018-07-02T12:56:13.000Z","__permalink":"main.html","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegawe000xvxgv8jcbb1cn","content":"<p><a\nhref=\"/downloads/notebooks/python-intro.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<h2 id=\"ç®€ä»‹\">ç®€ä»‹</h2>\n<p>ä¼˜åŠ¿: å¼€æº, ç”¨æˆ·å¹¿, ç”¨é€”å¹¿, ç¤¾åŒºå®Œå–„, æ–°æ‰‹å‹å¥½</p>\n<p><a\nhref=\"https://www.jetbrains.com/research/python-developers-survey-2017/\"\nclass=\"uri\">https://www.jetbrains.com/research/python-developers-survey-2017/</a>\n<br><br> 2017å¹´çš„ python ä½¿ç”¨è°ƒæŸ¥æŠ¥å‘Š <a\nhref=\"https://www.jetbrains.com/research/python-developers-survey-2017/\"\nclass=\"uri\">https://www.jetbrains.com/research/python-developers-survey-2017/</a>\n<img src='/main/Python Developers Survey 2017 - Results-018.png' >\n<img src='/main/Python Developers Survey 2017 - Results-019.png' >\n<img src='/main/Python Developers Survey 2017 - Results-020.png' ></p>\n<p>å‚è€ƒç½‘ç«™:</p>\n<ul>\n<li>å®˜æ–¹ç½‘ç«™: <a href=\"https://www.python.org/\"\nclass=\"uri\">https://www.python.org/</a></li>\n<li>stackoverflow <a\nhref=\"https://stackoverflow.com/questions/tagged/python\"\nclass=\"uri\">https://stackoverflow.com/questions/tagged/python</a></li>\n<li>å®˜æ–¹æ–‡æ¡£ <a href=\"https://docs.python.org\"\nclass=\"uri\">https://docs.python.org</a></li>\n<li>å»–é›ªå³°çš„ç½‘ç«™ (åŒ…å« python2.7 å’Œ python3 çš„æ•™ç¨‹) <a\nhref=\"https://www.liaoxuefeng.com\"\nclass=\"uri\">https://www.liaoxuefeng.com</a></li>\n<li>wikibooks <a href=\"https://en.wikibooks.org/wiki/Python_Programming\"\nclass=\"uri\">https://en.wikibooks.org/wiki/Python_Programming</a></li>\n<li>æ¼”ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹çš„å·¥å…· <a href=\"http://pythontutor.com/\"\nclass=\"uri\">http://pythontutor.com/</a></li>\n<li>å¤©æ–‡ç›¸å…³æ•™ç¨‹ (è¾ƒæ–°) <a href=\"https://python4astronomers.github.io\"\nclass=\"uri\">https://python4astronomers.github.io</a></li>\n</ul>\n<p><br> èŽ·å– python åŒ…/æ¨¡å—/å‡½æ•°çš„å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># shell\n$ pydoc &lt;name&gt;\n$ pydoc -w &lt;name&gt;  # ç”Ÿæˆä¸€ä¸ª html å¸®åŠ©æ–‡ä»¶<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\nname?  <span class=\"token comment\"># å¼¹å‡ºå¸®åŠ©æ–‡æ¡£, `Esc` é€€å‡ºæ–‡æ¡£</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<span id=\"more\"></span>\n<h2 id=\"åŸºæœ¬è¯­æ³•\">åŸºæœ¬è¯­æ³•</h2>\n<h3 id=\"è¯­æ³•ç‰¹ç‚¹\">è¯­æ³•ç‰¹ç‚¹</h3>\n<ul>\n<li>å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µ<br> ç±» -&gt; åˆ›å»ºä¸€ä¸ªå®žä¾‹ -&gt;\nä½¿ç”¨è¯¥å®žä¾‹æ‰€å±žçš„ç±»ä¸‹é¢çš„æ–¹æ³• <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># l æ˜¯ list çš„ä¸€ä¸ªå®žä¾‹</span>\nl<span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># reverse æ˜¯ä¸€ä¸ªæ–¹æ³•(å‡½æ•°), reverse() æ˜¯ä¸€ä¸ªå®žä¾‹</span>\nl<span class=\"token punctuation\">.</span>__dir__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æŸ¥çœ‹ l çš„æ‰€æœ‰æ–¹æ³•(å‡½æ•°)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>ä¸¥æ ¼ç¼©è¿› (é€šå¸¸é‡‡ç”¨4ä¸ªåŠè§’ç©ºæ ¼) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n      a <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>ç©ºæ ¼ä¸æ•æ„Ÿ <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">+</span> b <span class=\"token operator\">*</span> c <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token operator\">/</span> d\nf <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <br></li>\n<li>å¤§å°å†™æ•æ„Ÿ, ä½¿ç”¨å¤§å°å†™ç»„åˆçš„å˜é‡åé£Žæ ¼\n(ä¸‹åˆ’çº¿ä»æ˜¯åˆæ³•å˜é‡åå­—ç¬¦,ä½†æœ‰ç‰¹æ®Šå«ä¹‰, è§ <a\nhref=\"advance.html#è„šæœ¬ç›¸å…³\">Python è¿›é˜¶#è„šæœ¬ç›¸å…³</a>) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>interpolate <span class=\"token keyword\">import</span> BSpline<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\ndataFrame <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> è§ <a href=\"#IDL-sav-æ–‡ä»¶è¯»å–\">IDL sav æ–‡ä»¶è¯»å–</a>\n<br><br></li>\n<li>æ‹¬å·å†…æ¢è¡Œä¸ç”¨æ¢è¡Œç¬¦ <br><br></li>\n<li>å•è¡Œæ³¨é‡Š <code># ...</code> <br><br></li>\n<li>å¤šè¡Œæ³¨é‡Š<br> å‡½æ•°æˆ–æ¨¡å—çš„å¼€å¤´çš„å¤šè¡Œæ³¨é‡Š\n(å°†å­˜å‚¨åœ¨<code>__doc__</code>å˜é‡), å¯ä»¥ç”¨ <code>help()</code> æ‰“å°\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token triple-quoted-string string\">\"\"\"\nè¿™æ˜¯ä¸€ä¸ª\nå¤šè¡Œæ³¨é‡Š\n\"\"\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>åŒä¸€è¡Œä¸åŒè¯­å¥ä¹‹é—´å¯ç”¨åˆ†å·åˆ†éš” <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> <br></li>\n<li>åˆ—è¡¨å’Œæ•°ç»„çš„ç´¢å¼•é»˜è®¤ä»Ž<font color=red>0</font>å¼€å§‹ <br><br></li>\n<li>åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ å¯ä»¥åŠ é€—å· <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <br></li>\n<li><em>etc.</em></li>\n</ul>\n<h3 id=\"printå‡½æ•°\">printå‡½æ•°</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">;</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a=%.3f, b=%.1e'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>a=1.000, b=2.0e+00</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'a=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>a<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">, b=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>b<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>a=1.0, b=2.000</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python2\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xxx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyy'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>xxx yyy</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python3\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xxx'</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyy'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>xxx yyy</code></pre>\n<p>æ›´å¤šæ ¼å¼åŒ–å‚è€ƒ <a href=\"https://pyformat.info/\"\nclass=\"uri\">https://pyformat.info/</a></p>\n<h3 id=\"åŸºæœ¬è¿ç®—\">åŸºæœ¬è¿ç®—</h3>\n<p>è¿ç®—ç¬¦å‚è€ƒ:<br> <a\nhref=\"https://en.wikibooks.org/wiki/Python_Programming/Basic_Math\"\nclass=\"uri\">https://en.wikibooks.org/wiki/Python_Programming/Basic_Math</a><br>\n<a\nhref=\"https://www.tutorialspoint.com/python/python_basic_operators.htm\"\nclass=\"uri\">https://www.tutorialspoint.com/python/python_basic_operators.htm</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\na <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>  <span class=\"token comment\"># æ²¡æœ‰ a++ è¿™ç§è¯­æ³•</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>2</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">3.</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span>  <span class=\"token comment\"># è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>9.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span> <span class=\"token operator\">!=</span> <span class=\"token number\">3</span>  <span class=\"token comment\"># åˆ¤æ–­, å¯ä»¥è¿žå†™</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\na <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span>  <span class=\"token comment\"># æ³¨æ„è¿™æ—¶ä¸ç”¨ `==`</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<h3 id=\"å­—ç¬¦ä¸²\">å­—ç¬¦ä¸²</h3>\n<p>ç”¨åŒå¼•å·å’Œå•å¼•å·çš†å¯ (å–å†³äºŽæ‰€å¼•å†…å®¹).<br> å­—ç¬¦ä¸²å…·æœ‰å’Œåˆ—è¡¨ (list)\nç±»ä¼¼çš„è¿ç®—è§„åˆ™ (è§ä¹‹åŽçš„ list è¯´æ˜Ž):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'a'</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;aaaaaaaaaa&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'a'</span> <span class=\"token operator\">+</span> <span class=\"token string\">'b'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;ab&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'abc'</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;a&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">r'\\n'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># same as '\\\\n'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>\\n</code></pre>\n<h3 id=\"list-tuple-dict-set\">list, tuple, dict, set</h3>\n<ul>\n<li>æœ‰åºè¡¨ list, tuple</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># list, å…ƒç´ å¯å˜</span>\nt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># tuple, å…ƒç´ ä¸å¯å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸€ä¸ªåˆ‡ç‰‡(slice)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[0, 1, 2]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">t<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(0, 1, 2)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ç´¢å¼•: [start, stop, step] (ç»“æžœä¸åŒ…å« stop)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[1, 3]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># step &lt; 0, ä»ç„¶ä¸åŒ…å« stop (æ­¤ä¾‹ä¸­ stop=1)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[5, 4, 3, 2]</code></pre>\n<p>list å¸¸ç”¨è¿ç®—</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·»åŠ åœ¨æœ€åŽ</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>\nl<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'y'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·»åŠ åœ¨ l[i] ä¹‹å‰</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ é™¤æŸå…ƒç´ å¹¶è¿”å›žè¯¥å€¼</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[0, 1, 2, 3, 4, 5, &#39;x&#39;]\n[0, 1, 2, &#39;y&#39;, 3, 4, 5, &#39;x&#39;]\n1\n[0, 2, &#39;y&#39;, 3, 4, 5, &#39;x&#39;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é‡å¤Né</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆå¹¶ä¸¤ä¸ªlist</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;, 1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;]\n[1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;, 6, 7]</code></pre>\n<p>list å¯ä»¥æŽ’åº (å½“å…ƒç´ ä¸ºåŒä¸€ç±»åž‹ä¸”å¯æ¯”è¾ƒå¤§å°æ—¶), è¿”å›žåˆ°åŽŸåˆ—è¡¨</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>[&#39;a&#39;, &#39;b&#39;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>[1, 2]</code></pre>\n<ul>\n<li>å­—å…¸ dict</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ³¨æ„è¿™æ—¶æ²¡æœ‰å¼•å·</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<ul>\n<li>é›†åˆ set</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># set, å°†è‡ªåŠ¨æŽ’åºå¹¶åŽ»é™¤é‡å¤, å¸¸ç”¨äºŽ for å¾ªçŽ¯</span>\ns  <span class=\"token comment\"># ä¸èƒ½ç”¨ s[i] æ¥ç´¢å¼•</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<p>set ä¸å¯ç´¢å¼•, ä½†å¯ç”¨ä½œ for å¾ªçŽ¯. è§ <a\nhref=\"advance.html#å¾ªçŽ¯,-è¿­ä»£å™¨,-ç”Ÿæˆå™¨\">Python è¿›é˜¶#è¿­ä»£å™¨</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> s<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>1\n2\n3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> s<span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l2<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[1, 2, 3]</code></pre>\n<h3 id=\"if-è¯­å¥\">if è¯­å¥</h3>\n<p>python é‡Œæ²¡æœ‰ <code>case</code>, åªæœ‰ <code>if</code>\n(éžé›¶æ•°å€¼ã€éžç©ºå­—ç¬¦ä¸²ã€éžç©º list ç­‰çš†ä¸º True) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">1</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">1</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">elif</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">2</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">2</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">elif</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">3</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">3</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">4</span><span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"ç›¸å…³å·¥å…·\">ç›¸å…³å·¥å…·</h3>\n<h4 id=\"pip\">pip</h4>\n<p><img src='/main/logo-large.72ad8bf1.svg' /></p>\n<blockquote>\n<p>The <strong>Python Package Index (PyPI)</strong> is a repository of\nsoftware for the Python programming language.<br/> PyPI helps you find\nand install software developed and shared by the Python community.<br/>\n<a href=\"https://pypi.org/\" class=\"uri\">https://pypi.org/</a></p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ pip install &lt;pkg_name&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>Â Â Â Â (å…¶ä»–å‘½ä»¤è§ <a href=\"installpy.html#ç”¨-pip-å®‰è£…-python-åŒ…\">Python\nå®‰è£…å’Œé…ç½®#ç”¨ pip å®‰è£… python åŒ…</a>)</p>\n<h4 id=\"anaconda\">Anaconda</h4>\n<p><img src='/main/DataScienceLibraries-01.png' />\n<img src='/main/Conda-DistributionDiagram-01.png' /></p>\n<p><img src='/main/Conda â€” Conda documentation.png' /></p>\n<p><strong>Anaconda</strong> (https://www.anaconda.com/)<br> å®‰è£…å¥½çš„\nconda åŒ…å«ç‹¬ç«‹äºŽç³»ç»Ÿçš„ python ç‰ˆæœ¬, ä¸€éƒ¨åˆ†å·²ç¼–è¯‘å¥½çš„åŒ…, pip å·¥å…·,\nä»¥åŠä¸åŒçŽ¯å¢ƒçš„å­ç›®å½•.<br/> å¯æ ¹æ®éœ€è¦åˆ‡æ¢ä¸åŒçš„ conda çŽ¯å¢ƒä»¥ä½¿ç”¨ä¸åŒçš„\npython ç‰ˆæœ¬æˆ–ä¸åŒçš„åŒ…çš„ç»„åˆ.</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ conda install &lt;pkg_name&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å…¶ä»–å‘½ä»¤è§ <a href=\"installpy.html#ä½¿ç”¨-conda-å‘½ä»¤\">Python\nå®‰è£…å’Œé…ç½®#ä½¿ç”¨ conda å‘½ä»¤</a><br> è¯¦ç»†è¯´æ˜Žè§ <a\nhref=\"advance.html#Anaconda\">Python è¿›é˜¶#Anaconda</a></p>\n<h4 id=\"ipython-jupyter\">IPython &amp; Jupyter</h4>\n<p><img style='float: center;' src='/main/IPython.png' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Have a look (ipython)</span>\n!cd <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> gnome<span class=\"token operator\">-</span>terminal <span class=\"token operator\">-</span><span class=\"token operator\">-</span>window<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>profile<span class=\"token operator\">=</span><span class=\"token string\">'lydia_white'</span>\n!sleep <span class=\"token number\">0.5</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"ipython\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return\n!sleep <span class=\"token number\">3</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"!idl\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return\n!sleep <span class=\"token number\">3</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Ctrl<span class=\"token operator\">+</span>d\n!sleep <span class=\"token number\">1</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"!csh -c sswidl\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<center>\n<a href=\"http://jupyter.org/\" class=\"uri\">http://jupyter.org/</a>\n</center>\n<p><img style='float: center;' src='/main/jupyterlogo.png' /></p>\n<center>\n<a href=\"https://nbviewer.jupyter.org/\"\nclass=\"uri\">https://nbviewer.jupyter.org/</a>\n</center>\n<p><img style='float: center;' src='/main/nbviewer.png' /></p>\n<p>å‚è€ƒæ–‡æ¡£ <a href=\"http://jupyter-notebook.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyter-notebook.readthedocs.io/en/stable/</a></p>\n<ul>\n<li>æ‰“å¼€ <code>jupyter notebook</code>:</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ jupyter notebook [filename]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"å¸¸ç”¨åŒ…ä»‹ç»\">å¸¸ç”¨åŒ…ä»‹ç»</h2>\n<h3 id=\"python-è‡ªå¸¦åŒ…å’Œæ¨¡å—\">Python è‡ªå¸¦åŒ…å’Œæ¨¡å—</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> math <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token comment\"># åŒ…å« pi ç­‰, ä½†æ›´æŽ¨è numpy</span>\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\n<span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint  <span class=\"token comment\"># æ‰“å° list, dict ç­‰æ›´å¥½çœ‹</span>\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> sys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"numpy-scipy\">NumPy, SciPy</h3>\n<h4 id=\"æ¦‚è§ˆ\">æ¦‚è§ˆ</h4>\n<center>\n<a href=\"https://www.scipy.org\" class=\"uri\">https://www.scipy.org</a>\n</center>\n<p><img src='/main/SciPy.png' /></p>\n<center>\n<a href=\"http://scikit-image.org\"\nclass=\"uri\">http://scikit-image.org</a>\n</center>\n<p><img src='/main/scikitlogo.png' />\n<img src='/main/skimage01.png' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¯¼å…¥åŒ…çš„ä¸åŒæ–¹å¼å°†åœ¨å„ä¾‹å­ä¸­çœ‹åˆ°.</p>\n<p>å‚è€ƒ:</p>\n<ul>\n<li>NumPy User Guide <a href=\"https://docs.scipy.org/doc/numpy/user/\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/</a></li>\n<li>NumPy Reference <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/</a></li>\n<li>ndarray<br><a\nhref=\"https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html</a></li>\n<li>Array manipulation routines<br><a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html</a></li>\n<li>SciPy Cookbook <a href=\"http://scipy-cookbook.readthedocs.io/\"\nclass=\"uri\">http://scipy-cookbook.readthedocs.io/</a></li>\n<li>ä¸Ž IDL çš„è¯­æ³•å¯¹ç…§\n<ul>\n<li><a href=\"http://mathesaurus.sourceforge.net/idl-numpy.html\"\nclass=\"uri\">http://mathesaurus.sourceforge.net/idl-numpy.html</a></li>\n<li><a\nhref=\"http://blog.rtwilson.com/ten-little-idl-programs-in-python/\"\nclass=\"uri\">http://blog.rtwilson.com/ten-little-idl-programs-in-python/</a></li>\n<li><a href=\"http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/\"\nclass=\"uri\">http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/</a></li>\n</ul></li>\n</ul>\n<h4 id=\"ç”Ÿæˆ-numpy.ndarray-æ•°ç»„\">ç”Ÿæˆ numpy.ndarray æ•°ç»„</h4>\n<p>å°† list æˆ– tuple è½¬æ¢ä¸º <code>numpy.ndarray</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\na <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ‡ç‰‡(slice), ç´¢å¼•å¯ä»¥æ˜¯ int æˆ– list (python list åªæ”¯æŒ listä½œä¸ºç´¢å¼•)</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>          <span class=\"token comment\"># 0</span>\na<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># 4</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>        <span class=\"token comment\"># array([0, 1, 2]) æ³¨æ„!</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># array([0, 1, 2])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>        <span class=\"token comment\"># array([2, 3])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>       <span class=\"token comment\"># array([2, 3]) æ³¨æ„!</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># array([2, 3, 4])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>      <span class=\"token comment\"># array([0, 2])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>     <span class=\"token comment\"># array([4, 3])</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># array([1, 4, 3]) èŠ±å¼åˆ‡ç‰‡, ç´¢å¼•æ˜¯ä¸€ä¸ª list (ä¸èƒ½æ˜¯tuple)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>å¤šç»´:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a\n<span class=\"token comment\"># è¿™é‡Œçš„tupleå·²è½¬æˆndarray, äºŽæ˜¯ç»“æžœæ˜¯å¯å˜çš„</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<p>ä»Žä¸€ç»´æ•°ç»„è½¬å˜ä¸ºå¤šç»´:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a\n<span class=\"token comment\"># reshape çš„å‚æ•°ä¸º &lt; 0 è¡¨ç¤ºè¯¥ç»´åº¦è‡ªåŠ¨åˆ¤æ–­å…ƒç´ ä¸ªæ•°</span>\n<span class=\"token comment\"># reshape çš„å‚æ•°æ˜¯ä¸€ä¸ª list æˆ– tuple, æ‹¬å·å¯ä»¥å±•å¼€ (è¯¦è§å¸®åŠ©æ–‡æ¡£)</span>\n<span class=\"token comment\"># æ­¤ä¾‹ä¸­ reshape((3, 2)), reshape(3, 2), reshape((3, -1)), reshape(3, -1) ç­‰ä»·</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b  <span class=\"token comment\"># reshape çš„å‚æ•°åªæœ‰ä¸€ä¸ªç»´åº¦ä¸” &lt; 0(è‡ªåŠ¨)  => å±•å¼€æˆä¸€ç»´</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])</code></pre>\n<p>èŠ±å¼åˆ‡ç‰‡çš„å¤šç»´ä¾‹å­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># a[col_inds, row_inds], æ­¤ä¾‹ç­‰ä»·äºŽ a[[[0, 1], [0, 2]]], a[([0, 1], [0, 2])]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([0, 6])</code></pre>\n<ul>\n<li><strong>np.zeros</strong>(shape,\ndtype=float),â€‚<strong>np.ones</strong>(shape, dtype=float)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤æµ®ç‚¹åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0., 0., 0.],\n       [0., 0., 0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤æµ®ç‚¹åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[1., 1., 1.],\n       [1., 1., 1.]])</code></pre>\n<ul>\n<li><strong>np.arange</strong>([start,] stop[, step,], dtype=None)</li>\n</ul>\n<p>ç”Ÿæˆçš„æ•°ç»„å…ƒç´ æ•°æ®ç±»åž‹å’Œå‚æ•°ä¸€è‡´.<br><br> æ–¹ä¾¿è®°å¿†: æœ€ç®€å½¢å¼\n<code>np.arange</code>(<em>N</em>) ä¸­çš„æ•´æ•° <em>N</em> å³ä¸º\n<em>å…ƒç´ ä¸ªæ•°</em>.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1],\n       [2, 3],\n       [4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1],\n       [2, 3],\n       [4, 5]])</code></pre>\n<ul>\n<li><strong>np.linspace</strong>(start, stop, num=50,\n<strong>endpoint=True</strong>, retstep=False, dtype=None)<br>\né»˜è®¤ç”Ÿæˆçš„å…ƒç´ æ˜¯æµ®ç‚¹åž‹<br> æ³¨æ„ <code>np.linspace</code> å’Œ\n<code>np.arange</code> çš„ä¸åŒè§„åˆ™</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0., 1.])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> endpoint<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.5])</code></pre>\n<p>æ›´å¤šæ•°ç»„åˆ›å»ºæ–¹æ³•è§ numpy å®˜ç½‘:<br> <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html</a><br>\n<a\nhref=\"https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation</a></p>\n<ul>\n<li>è½¬ç½®</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>T<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  4,  8],\n       [ 1,  5,  9],\n       [ 2,  6, 10],\n       [ 3,  7, 11]])</code></pre>\n<p>æ›´å¤šæ•°ç»„æ“ä½œè§ numpy å®˜ç½‘ <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html</a>\nçŸ©é˜µæ“ä½œè§ <a href=\"advance.html#çŸ©é˜µ\">Python è¿›é˜¶#çŸ©é˜µ</a></p>\n<h3 id=\"matplotlib\">Matplotlib</h3>\n<ul>\n<li><p>å®˜æ–¹ç¤ºä¾‹ <a href=\"https://matplotlib.org/tutorials/index.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/index.html</a>\n<img src='/main/Matplotlib.png' />\n<img src='/main/annotation_demo2_00.png' />\n<img src='/main/contour_demo_05.png' /></p></li>\n<li><p>å®˜æ–¹æ•™ç¨‹ <a\nhref=\"https://matplotlib.org/tutorials/introductory/usage.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/introductory/usage.html</a></p></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>åˆ›å»ºä¸€ä¸ªå›¾åƒ (ä¸‰ç§å†™æ³•çš†å¯):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig<span class=\"token punctuation\">,</span> ax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>subplots<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dpi<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> fig<span class=\"token punctuation\">.</span>add_subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ•°å­— (ijk) è¡¨ç¤º: è¿™æ˜¯ä¸€å…±iè¡Œjåˆ—ä¸­çš„ç»„å›¾ä¸­çš„ç¬¬kä¸ªå›¾</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gcf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>èŽ·å–å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># æŸ¥çœ‹æŸå¯¹è±¡åŒ…å«çš„æ–¹æ³•</span>\nax<span class=\"token punctuation\">.</span><span class=\"token comment\"># &lt;Tab>, &lt;Shift-Tab></span>\nplt<span class=\"token punctuation\">.</span><span class=\"token comment\"># &lt;Tab>, &lt;Shift-Tab></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib?<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_plot.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_imshow.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>é¢œè‰² <a\nhref=\"https://matplotlib.org/examples/color/colormaps_reference.html\"\nclass=\"uri\">https://matplotlib.org/examples/color/colormaps_reference.html</a></li>\n<li>legend <a href=\"https://matplotlib.org/users/legend_guide.html\"\nclass=\"uri\">https://matplotlib.org/users/legend_guide.html</a> <br>\n<img src='/main/named_colors.png' /></li>\n</ul>\n<h3 id=\"å¤©æ–‡ç›¸å…³åŒ…\">å¤©æ–‡ç›¸å…³åŒ…</h3>\n<h4 id=\"astropy\">Astropy</h4>\n<p><img src='/main/astropy_banner.svg' /></p>\n<p>å®˜æ–¹æ–‡æ¡£ <a href=\"http://docs.astropy.org/en/stable/index.html\"\nclass=\"uri\">http://docs.astropy.org/en/stable/index.html</a></p>\n<p>åæ ‡ç³»ç»Ÿ <a\nhref=\"http://docs.astropy.org/en/stable/coordinates/index.html\"\nclass=\"uri\">http://docs.astropy.org/en/stable/coordinates/index.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy <span class=\"token keyword\">import</span> units <span class=\"token keyword\">as</span> u\n<span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>coordinates <span class=\"token keyword\">import</span> SkyCoord<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>å‚è€ƒ <a\nhref=\"https://python4astronomers.github.io/astropy/astropy.html\"\nclass=\"uri\">https://python4astronomers.github.io/astropy/astropy.html</a></p>\n<h4 id=\"sunpy\">SunPy</h4>\n<p><img src='/main/Screenshot_20180625-005924.png' />\n<img src='/main/sphx_glr_lat_lon_lines_001.png' />\n<img src='/main/sphx_glr_submaps_and_cropping_001.png' /></p>\n<p><br> HMI ç¤ºä¾‹è§ <a href=\"advance.html#SunPy-ç¤ºä¾‹\">Python è¿›é˜¶#SunPy\nç¤ºä¾‹</a><br> <a\nhref=\"https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true\"\nclass=\"uri\">https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true</a></p>\n<p><br><br> å‚è€ƒ:</p>\n<ul>\n<li>Gallery <a\nhref=\"http://docs.sunpy.org/en/stable/generated/gallery/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/generated/gallery/index.html</a></li>\n<li>SunPy Guide <a\nhref=\"http://docs.sunpy.org/en/stable/guide/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/index.html</a></li>\n<li>SunPy Map<br><a\nhref=\"http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap</a></li>\n<li>Example Gallery <a\nhref=\"http://docs.sunpy.org/en/stable/generated/gallery/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/generated/gallery/index.html</a></li>\n<li>A brief tour of SunPy <a\nhref=\"http://docs.sunpy.org/en/stable/guide/tour.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/tour.html</a></li>\n<li>Finding and Downloading Data using Fido<br><a\nhref=\"http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html</a></li>\n</ul>\n<p>ç®€å•çš„ä¾‹å­ (æ¥è‡ªå®˜ç½‘):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>sample\n\naia <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span>sunpy<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">.</span>AIA_171_IMAGE<span class=\"token punctuation\">)</span>\n\nfig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dpi<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">,</span> projection<span class=\"token operator\">=</span>aia<span class=\"token punctuation\">)</span>\n\naia<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_limb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_grid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_limb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># plt.show()</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/sources/sdo.py:48: SunpyDeprecationWarning: Use Matplotlib to load the colormaps\n  self.plot_settings[&#39;cmap&#39;] = cm.get_cmap(self._get_cmap_name())</code></pre>\n<figure>\n<img src=\"/main/main_126_1.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>èŽ·å–ä¸€äº›å¸¸æ•°:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> sunpy<span class=\"token punctuation\">.</span>sun <span class=\"token keyword\">import</span> constants <span class=\"token keyword\">as</span> con\n<span class=\"token comment\"># one astronomical unit (the average distance between the Sun and Earth)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span>au<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>  Name   = Astronomical Unit\n  Value  = 149597870700.0\n  Uncertainty  = 0.0\n  Unit  = m\n  Reference = IAU 2012 Resolution B2</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># the solar radius</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>  Name   = Solar radius\n  Value  = 695508000.0\n  Uncertainty  = 26000.0\n  Unit  = m\n  Reference = Allen&#39;s Astrophysical Quantities 4th Ed.</code></pre>\n<h2 id=\"å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\">å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™</h2>\n<h3 id=\"ä¸€èˆ¬æƒ…å†µ\">ä¸€èˆ¬æƒ…å†µ</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'w', 'r', ...</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>æ›´å¥½çš„ç”¨æ³•: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>  <span class=\"token comment\"># 'w', 'r', ...</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"txt-csv-æ–‡ä»¶è¯»å†™\">txt, csv æ–‡ä»¶è¯»å†™</h3>\n<ul>\n<li>é€è¡Œè¯»å–æ•´è¡Œçš„æ–¹å¼:<br> ä½¿ç”¨ <code>strip</code>\nå¯ä»¥ç”¨æ¥åŽ»æŽ‰è¯»å…¥çš„æ¯è¡Œæœ«å°¾çš„ ''</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">lines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data.csv'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">:</span>\n        lines<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nlines<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[[&#39;col1&#39;, &#39;col2&#39;, &#39;col3&#39;],\n [&#39;row1&#39;, &#39;1&#39;, &#39;1e1&#39;],\n [&#39;row2&#39;, &#39;2&#39;, &#39;2e-1&#39;],\n [&#39;row3&#39;, &#39;3&#39;, &#39;3e+2&#39;]]</code></pre>\n<ul>\n<li>ä½¿ç”¨ numpy, è¯»å–åŽç›´æŽ¥è½¬æˆæ•°ç»„çš„æ–¹å¼ (æŽ¨è):<br>\n<code>np.loadtxt</code>,â€‚<code>np.genfromtxt</code> (å†™æ–‡ä»¶æ˜¯\n<code>np.savetxt</code>)<br> è¶…å¤§æ–‡ä»¶è¯»å–å»ºè®®ç”¨ pandas åŒ….</li>\n</ul>\n<p>e.g.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">,</span> skiprows<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># é»˜è®¤åˆ†å‰²ç¬¦ä¸ºç©ºæ ¼</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> col1<span class=\"token punctuation\">,</span> col2 <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">,</span> skiprows<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> usecols<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> unpack<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><code>np.genfromtxt</code> å’Œ <code>np.loadtxt</code> ç±»ä¼¼,\nå¢žåŠ äº†å¤„ç† missing values çš„åŠŸèƒ½.<br> (ä½†å‚æ•° skiprows=1 éœ€æ›¿æ¢ä¸º\nskip_header=1)</p>\n<p>ä¾‹ (è¿™é‡Œä½¿ç”¨åŠŸèƒ½æ›´å¤šçš„ <code>np.genfromtxt</code> ä»£æ›¿\n<code>np.loadtxt</code>):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>genfromtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data.csv'</span><span class=\"token punctuation\">,</span>\n                    skip_header<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                    names<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    dtype<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'U15'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è®¾å®šäº† names ä¹‹åŽ, å¯ä»¥ç”¨åç§°ç´¢å¼•</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[(&#39;row1&#39;, 1) (&#39;row2&#39;, 2) (&#39;row3&#39;, 3)]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>genfromtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data2.csv'</span><span class=\"token punctuation\">,</span>\n                    skip_header<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                    names<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    dtype<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'U15'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    missing_values<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                    filling_values<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>nan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># åˆ†å¼€æŒ‡å®š</span>\n                    delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[(&#39;row1&#39;, 0, 10. ) (&#39;&#39;, 2,  0.2) (&#39;row3&#39;, 3,  nan)]</code></pre>\n<ul>\n<li>ä¸€èˆ¬è€Œè¨€, å¯¹äºŽä¸€ä¸ªç”±åˆ†éš”ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸², è½¬æˆä¸€ä¸ªæ•°ç»„çš„æ–¹å¼:<br>\n<code>np.fromstring(string, dtype=float, count=-1, sep='')</code></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>fromstring<span class=\"token punctuation\">(</span><span class=\"token string\">'0 1 2'</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0, 1, 2])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>fromstring<span class=\"token punctuation\">(</span><span class=\"token string\">'0., 1., 2.'</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0., 1., 2.])</code></pre>\n<h3 id=\"numpy-save-æ–‡ä»¶è¯»å†™\">numpy save æ–‡ä»¶è¯»å†™</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npy'</span>\nnp<span class=\"token punctuation\">.</span>savez<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npz', å¤šä¸ªå˜é‡</span>\nnp<span class=\"token punctuation\">.</span>savez_compressed<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npz', å¤šä¸ªå˜é‡ &amp; åŽ‹ç¼©</span>\nnp<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'fname.npz'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Load the files created by savez_compressed.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># å­˜å…¥</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ `float64`</span>\nnp<span class=\"token punctuation\">.</span>savez<span class=\"token punctuation\">(</span><span class=\"token string\">'data/np_array'</span><span class=\"token punctuation\">,</span> a<span class=\"token operator\">=</span>arr<span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">ls data<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>npz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>data/np_array.npz</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># è½½å…¥</span>\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'data/np_array.npz'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ä»¥`ndarray`è¯»å–</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>(array([1., 1., 1., 1., 1.]), array(0), 0)</code></pre>\n<h3 id=\"idl-sav-æ–‡ä»¶è¯»å–\">IDL sav æ–‡ä»¶è¯»å–</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>idl <span class=\"token keyword\">import</span> readsav\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'dname.sav'</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> python_dict<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>é»˜è®¤è¯»å‡ºçš„æ˜¯<code>scipy.io.idl.AttrDict</code>ç±»åž‹, å³ key\nçš„å¤§å°å†™ä¸æ•æ„Ÿ.<br> æƒ³è¦å¾—åˆ°å¤§å°å†™æ•æ„Ÿçš„ python dict, è®¾ç½®\n<code>python_dict=True</code> å³å¯. <br><br> ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>idl <span class=\"token keyword\">import</span> readsav\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'data/myidlfile.sav'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„è¿”å›žçš„æ˜¯ä¸€ä¸ª`dict_keys`å¯¹è±¡, å¦‚éœ€ç´¢å¼•éœ€è¦æ‰‹åŠ¨è½¬ä¸ºlist</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'X'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¤§å°å†™ä¸æ•æ„Ÿ</span>\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'data/myidlfile.sav'</span><span class=\"token punctuation\">,</span> python_dict<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¤§å°å†™æ•æ„Ÿ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>&lt;class &#39;scipy.io.idl.AttrDict&#39;&gt;\ndict_keys([&#39;x&#39;, &#39;y&#39;, &#39;str&#39;])\n(25,)\n&lt;class &#39;dict&#39;&gt;\n(25,)</code></pre>\n<h3 id=\"fits-æ–‡ä»¶è¯»å–\">FITS æ–‡ä»¶è¯»å–</h3>\n<ul>\n<li>Astropy</li>\n</ul>\n<p>å‚è€ƒ:<br> <a href=\"http://docs.astropy.org/en/stable/io/fits\"\nclass=\"uri\">http://docs.astropy.org/en/stable/io/fits</a><br> <a\nhref=\"https://python4astronomers.github.io/astropy/fits.html\"\nclass=\"uri\">https://python4astronomers.github.io/astropy/fits.html</a></p>\n<blockquote>\n<p>[Note]<br> If you are already familiar with PyFITS, astropy.io.fits\nis in fact the same code as the latest version of PyFITS, and you can\nadapt old scripts that use PyFITS to use Astropy by simply doing:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits <span class=\"token keyword\">as</span> pyfits<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> However, for new scripts, we recommend the following\nimport: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n</blockquote>\n<p><code>fits.open</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># hdulist æ˜¯ä¸€ä¸ªç”± HDU objects ç»„æˆçš„ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡</span>\nFilename<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span><span class=\"token punctuation\">.</span>fit\nNo<span class=\"token punctuation\">.</span>    Name         Type      Cards   Dimensions   Format\n<span class=\"token number\">0</span>    PRIMARY     PrimaryHDU    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">1</span>    ENERGIES    BinTableHDU   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>data  <span class=\"token comment\"># ndarray</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å¾—åˆ°æŸä¸ª header keyword</span>\n<span class=\"token comment\"># ä¿®æ”¹æ•°æ®åŽ</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ä¿å­˜ HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æˆ–ä¿å­˜æ•´ä¸ªè¡¨</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># åˆ›å»ºä¸€ä¸ª fits Primary HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>PrimaryHDU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¿å­˜ HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">,</span> clobber<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¿å­˜åˆ°å·²å­˜åœ¨æ–‡ä»¶</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<code>fits.getdata</code>, <code>fits.getheader</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> data <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>getdata<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> header <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>getheader<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<br> * SunPy</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>io\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>read_file<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è‡ªåŠ¨åˆ¤æ–­æ–‡ä»¶ç±»åž‹</span>\n<span class=\"token comment\"># or use `hdulist = sunpy.io.fits.read('&lt;filename>.fits')`</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>data  <span class=\"token comment\"># ndarray</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> smap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å¾—åˆ°ä¸€ä¸ª sunpy `GenericMap` object</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\nfname <span class=\"token operator\">=</span> <span class=\"token string\">'scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\nhdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>Filename: scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU       6   ()      \n  1                1 CompImageHDU    155   (4096, 4096)   int32   </code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>verify<span class=\"token punctuation\">(</span><span class=\"token string\">'silentfix+warn'</span><span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nhdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>io\nhdulist <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>read_file<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nhdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<h2 id=\"å…¶ä»–åŒ…å’Œè½¯ä»¶\">å…¶ä»–åŒ…å’Œè½¯ä»¶</h2>\n<ul>\n<li>Astroconda <a href=\"https://astroconda.readthedocs.io/en/latest/\"\nclass=\"uri\">https://astroconda.readthedocs.io/en/latest/</a> &gt;\nAstroConda is a free Conda channel maintained by the Space Telescope\nScience Institute (STScI) in Baltimore, Maryland. This channel provides\ntools and utilities required to process and analyze data from the Hubble\nSpace Telescope (HST), James Webb Space Telescope (JWST), and others.\n<br><br></li>\n<li>Canopy <a href=\"https://www.enthought.com/product/canopy/\"\nclass=\"uri\">https://www.enthought.com/product/canopy/</a> &gt; Enthought\nCanopy provides a proven scientific and analytic Python package\ndistribution plus key integrated tools for iterative data analysis, data\nvisualization, and application development. Users have the ability to\nextend and innovate with scripting and open platform APIs, driving the\ncreation and sharing of innovative workflows, tools, and applications.\n<img src='/main/Canopy-Packages-min-1.png' > <br><br></li>\n<li>PyCharm <a href=\"https://www.jetbrains.com/pycharm/\"\nclass=\"uri\">https://www.jetbrains.com/pycharm/</a>\n<img src='/main/pycharm.jpg' > <br><br></li>\n<li>Jupyterlab <a href=\"http://jupyterlab.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyterlab.readthedocs.io/en/stable/</a>\n<img src='/main/jupyterlab.png' ></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><a\nhref=\"/downloads/notebooks/python-intro.zip\"><i class=\"fas fa-download\"></i>\nJupyter Notebook</a></p>\n<h2 id=\"ç®€ä»‹\">ç®€ä»‹</h2>\n<p>ä¼˜åŠ¿: å¼€æº, ç”¨æˆ·å¹¿, ç”¨é€”å¹¿, ç¤¾åŒºå®Œå–„, æ–°æ‰‹å‹å¥½</p>\n<p><a\nhref=\"https://www.jetbrains.com/research/python-developers-survey-2017/\"\nclass=\"uri\">https://www.jetbrains.com/research/python-developers-survey-2017/</a>\n<br><br> 2017å¹´çš„ python ä½¿ç”¨è°ƒæŸ¥æŠ¥å‘Š <a\nhref=\"https://www.jetbrains.com/research/python-developers-survey-2017/\"\nclass=\"uri\">https://www.jetbrains.com/research/python-developers-survey-2017/</a>\n<img src='/main/Python Developers Survey 2017 - Results-018.png' >\n<img src='/main/Python Developers Survey 2017 - Results-019.png' >\n<img src='/main/Python Developers Survey 2017 - Results-020.png' ></p>\n<p>å‚è€ƒç½‘ç«™:</p>\n<ul>\n<li>å®˜æ–¹ç½‘ç«™: <a href=\"https://www.python.org/\"\nclass=\"uri\">https://www.python.org/</a></li>\n<li>stackoverflow <a\nhref=\"https://stackoverflow.com/questions/tagged/python\"\nclass=\"uri\">https://stackoverflow.com/questions/tagged/python</a></li>\n<li>å®˜æ–¹æ–‡æ¡£ <a href=\"https://docs.python.org\"\nclass=\"uri\">https://docs.python.org</a></li>\n<li>å»–é›ªå³°çš„ç½‘ç«™ (åŒ…å« python2.7 å’Œ python3 çš„æ•™ç¨‹) <a\nhref=\"https://www.liaoxuefeng.com\"\nclass=\"uri\">https://www.liaoxuefeng.com</a></li>\n<li>wikibooks <a href=\"https://en.wikibooks.org/wiki/Python_Programming\"\nclass=\"uri\">https://en.wikibooks.org/wiki/Python_Programming</a></li>\n<li>æ¼”ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹çš„å·¥å…· <a href=\"http://pythontutor.com/\"\nclass=\"uri\">http://pythontutor.com/</a></li>\n<li>å¤©æ–‡ç›¸å…³æ•™ç¨‹ (è¾ƒæ–°) <a href=\"https://python4astronomers.github.io\"\nclass=\"uri\">https://python4astronomers.github.io</a></li>\n</ul>\n<p><br> èŽ·å– python åŒ…/æ¨¡å—/å‡½æ•°çš„å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># shell\n$ pydoc &lt;name&gt;\n$ pydoc -w &lt;name&gt;  # ç”Ÿæˆä¸€ä¸ª html å¸®åŠ©æ–‡ä»¶<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython/jupyter</span>\nname?  <span class=\"token comment\"># å¼¹å‡ºå¸®åŠ©æ–‡æ¡£, `Esc` é€€å‡ºæ–‡æ¡£</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>","more":"<h2 id=\"åŸºæœ¬è¯­æ³•\">åŸºæœ¬è¯­æ³•</h2>\n<h3 id=\"è¯­æ³•ç‰¹ç‚¹\">è¯­æ³•ç‰¹ç‚¹</h3>\n<ul>\n<li>å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µ<br> ç±» -&gt; åˆ›å»ºä¸€ä¸ªå®žä¾‹ -&gt;\nä½¿ç”¨è¯¥å®žä¾‹æ‰€å±žçš„ç±»ä¸‹é¢çš„æ–¹æ³• <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># l æ˜¯ list çš„ä¸€ä¸ªå®žä¾‹</span>\nl<span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># reverse æ˜¯ä¸€ä¸ªæ–¹æ³•(å‡½æ•°), reverse() æ˜¯ä¸€ä¸ªå®žä¾‹</span>\nl<span class=\"token punctuation\">.</span>__dir__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æŸ¥çœ‹ l çš„æ‰€æœ‰æ–¹æ³•(å‡½æ•°)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>ä¸¥æ ¼ç¼©è¿› (é€šå¸¸é‡‡ç”¨4ä¸ªåŠè§’ç©ºæ ¼) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n      a <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>ç©ºæ ¼ä¸æ•æ„Ÿ <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">+</span> b <span class=\"token operator\">*</span> c <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token operator\">/</span> d\nf <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <br></li>\n<li>å¤§å°å†™æ•æ„Ÿ, ä½¿ç”¨å¤§å°å†™ç»„åˆçš„å˜é‡åé£Žæ ¼\n(ä¸‹åˆ’çº¿ä»æ˜¯åˆæ³•å˜é‡åå­—ç¬¦,ä½†æœ‰ç‰¹æ®Šå«ä¹‰, è§ <a\nhref=\"advance.html#è„šæœ¬ç›¸å…³\">Python è¿›é˜¶#è„šæœ¬ç›¸å…³</a>) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>interpolate <span class=\"token keyword\">import</span> BSpline<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\ndataFrame <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> è§ <a href=\"#IDL-sav-æ–‡ä»¶è¯»å–\">IDL sav æ–‡ä»¶è¯»å–</a>\n<br><br></li>\n<li>æ‹¬å·å†…æ¢è¡Œä¸ç”¨æ¢è¡Œç¬¦ <br><br></li>\n<li>å•è¡Œæ³¨é‡Š <code># ...</code> <br><br></li>\n<li>å¤šè¡Œæ³¨é‡Š<br> å‡½æ•°æˆ–æ¨¡å—çš„å¼€å¤´çš„å¤šè¡Œæ³¨é‡Š\n(å°†å­˜å‚¨åœ¨<code>__doc__</code>å˜é‡), å¯ä»¥ç”¨ <code>help()</code> æ‰“å°\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token triple-quoted-string string\">\"\"\"\nè¿™æ˜¯ä¸€ä¸ª\nå¤šè¡Œæ³¨é‡Š\n\"\"\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre> <br></li>\n<li>åŒä¸€è¡Œä¸åŒè¯­å¥ä¹‹é—´å¯ç”¨åˆ†å·åˆ†éš” <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> <br></li>\n<li>åˆ—è¡¨å’Œæ•°ç»„çš„ç´¢å¼•é»˜è®¤ä»Ž<font color=red>0</font>å¼€å§‹ <br><br></li>\n<li>åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ å¯ä»¥åŠ é€—å· <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre> <br></li>\n<li><em>etc.</em></li>\n</ul>\n<h3 id=\"printå‡½æ•°\">printå‡½æ•°</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">;</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a=%.3f, b=%.1e'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>a=1.000, b=2.0e+00</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'a=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>a<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">, b=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>b<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>a=1.0, b=2.000</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python2\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xxx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyy'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>xxx yyy</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>python3\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xxx'</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyy'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>xxx yyy</code></pre>\n<p>æ›´å¤šæ ¼å¼åŒ–å‚è€ƒ <a href=\"https://pyformat.info/\"\nclass=\"uri\">https://pyformat.info/</a></p>\n<h3 id=\"åŸºæœ¬è¿ç®—\">åŸºæœ¬è¿ç®—</h3>\n<p>è¿ç®—ç¬¦å‚è€ƒ:<br> <a\nhref=\"https://en.wikibooks.org/wiki/Python_Programming/Basic_Math\"\nclass=\"uri\">https://en.wikibooks.org/wiki/Python_Programming/Basic_Math</a><br>\n<a\nhref=\"https://www.tutorialspoint.com/python/python_basic_operators.htm\"\nclass=\"uri\">https://www.tutorialspoint.com/python/python_basic_operators.htm</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\na <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>  <span class=\"token comment\"># æ²¡æœ‰ a++ è¿™ç§è¯­æ³•</span>\na<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>2</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">3.</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span>  <span class=\"token comment\"># è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>9.0</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span> <span class=\"token operator\">!=</span> <span class=\"token number\">3</span>  <span class=\"token comment\"># åˆ¤æ–­, å¯ä»¥è¿žå†™</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\na <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span>  <span class=\"token comment\"># æ³¨æ„è¿™æ—¶ä¸ç”¨ `==`</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>True</code></pre>\n<h3 id=\"å­—ç¬¦ä¸²\">å­—ç¬¦ä¸²</h3>\n<p>ç”¨åŒå¼•å·å’Œå•å¼•å·çš†å¯ (å–å†³äºŽæ‰€å¼•å†…å®¹).<br> å­—ç¬¦ä¸²å…·æœ‰å’Œåˆ—è¡¨ (list)\nç±»ä¼¼çš„è¿ç®—è§„åˆ™ (è§ä¹‹åŽçš„ list è¯´æ˜Ž):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'a'</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;aaaaaaaaaa&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'a'</span> <span class=\"token operator\">+</span> <span class=\"token string\">'b'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;ab&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token string\">'abc'</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>&#39;a&#39;</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">r'\\n'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># same as '\\\\n'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>\\n</code></pre>\n<h3 id=\"list-tuple-dict-set\">list, tuple, dict, set</h3>\n<ul>\n<li>æœ‰åºè¡¨ list, tuple</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># list, å…ƒç´ å¯å˜</span>\nt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># tuple, å…ƒç´ ä¸å¯å˜</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ä¸€ä¸ªåˆ‡ç‰‡(slice)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[0, 1, 2]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">t<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>(0, 1, 2)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># ç´¢å¼•: [start, stop, step] (ç»“æžœä¸åŒ…å« stop)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[1, 3]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># step &lt; 0, ä»ç„¶ä¸åŒ…å« stop (æ­¤ä¾‹ä¸­ stop=1)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>[5, 4, 3, 2]</code></pre>\n<p>list å¸¸ç”¨è¿ç®—</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·»åŠ åœ¨æœ€åŽ</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>\nl<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'y'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ·»åŠ åœ¨ l[i] ä¹‹å‰</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆ é™¤æŸå…ƒç´ å¹¶è¿”å›žè¯¥å€¼</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[0, 1, 2, 3, 4, 5, &#39;x&#39;]\n[0, 1, 2, &#39;y&#39;, 3, 4, 5, &#39;x&#39;]\n1\n[0, 2, &#39;y&#39;, 3, 4, 5, &#39;x&#39;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é‡å¤Né</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># åˆå¹¶ä¸¤ä¸ªlist</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;, 1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;]\n[1, &#39;y&#39;, 2, 3, 4, 5, &#39;x&#39;, 6, 7]</code></pre>\n<p>list å¯ä»¥æŽ’åº (å½“å…ƒç´ ä¸ºåŒä¸€ç±»åž‹ä¸”å¯æ¯”è¾ƒå¤§å°æ—¶), è¿”å›žåˆ°åŽŸåˆ—è¡¨</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>[&#39;a&#39;, &#39;b&#39;]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nl<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>[1, 2]</code></pre>\n<ul>\n<li>å­—å…¸ dict</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ³¨æ„è¿™æ—¶æ²¡æœ‰å¼•å·</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">d<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<ul>\n<li>é›†åˆ set</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># set, å°†è‡ªåŠ¨æŽ’åºå¹¶åŽ»é™¤é‡å¤, å¸¸ç”¨äºŽ for å¾ªçŽ¯</span>\ns  <span class=\"token comment\"># ä¸èƒ½ç”¨ s[i] æ¥ç´¢å¼•</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>&#123;1, 2, 3&#125;</code></pre>\n<p>set ä¸å¯ç´¢å¼•, ä½†å¯ç”¨ä½œ for å¾ªçŽ¯. è§ <a\nhref=\"advance.html#å¾ªçŽ¯,-è¿­ä»£å™¨,-ç”Ÿæˆå™¨\">Python è¿›é˜¶#è¿­ä»£å™¨</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> s<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>1\n2\n3</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">l2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> s<span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l2<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>[1, 2, 3]</code></pre>\n<h3 id=\"if-è¯­å¥\">if è¯­å¥</h3>\n<p>python é‡Œæ²¡æœ‰ <code>case</code>, åªæœ‰ <code>if</code>\n(éžé›¶æ•°å€¼ã€éžç©ºå­—ç¬¦ä¸²ã€éžç©º list ç­‰çš†ä¸º True) <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">1</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">1</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">elif</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">2</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">2</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">elif</span> <span class=\"token operator\">&lt;</span>æ¡ä»¶åˆ¤æ–­<span class=\"token number\">3</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">3</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">&lt;</span>æ‰§è¡Œ<span class=\"token number\">4</span><span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"ç›¸å…³å·¥å…·\">ç›¸å…³å·¥å…·</h3>\n<h4 id=\"pip\">pip</h4>\n<p><img src='/main/logo-large.72ad8bf1.svg' /></p>\n<blockquote>\n<p>The <strong>Python Package Index (PyPI)</strong> is a repository of\nsoftware for the Python programming language.<br/> PyPI helps you find\nand install software developed and shared by the Python community.<br/>\n<a href=\"https://pypi.org/\" class=\"uri\">https://pypi.org/</a></p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ pip install &lt;pkg_name&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>Â Â Â Â (å…¶ä»–å‘½ä»¤è§ <a href=\"installpy.html#ç”¨-pip-å®‰è£…-python-åŒ…\">Python\nå®‰è£…å’Œé…ç½®#ç”¨ pip å®‰è£… python åŒ…</a>)</p>\n<h4 id=\"anaconda\">Anaconda</h4>\n<p><img src='/main/DataScienceLibraries-01.png' />\n<img src='/main/Conda-DistributionDiagram-01.png' /></p>\n<p><img src='/main/Conda â€” Conda documentation.png' /></p>\n<p><strong>Anaconda</strong> (https://www.anaconda.com/)<br> å®‰è£…å¥½çš„\nconda åŒ…å«ç‹¬ç«‹äºŽç³»ç»Ÿçš„ python ç‰ˆæœ¬, ä¸€éƒ¨åˆ†å·²ç¼–è¯‘å¥½çš„åŒ…, pip å·¥å…·,\nä»¥åŠä¸åŒçŽ¯å¢ƒçš„å­ç›®å½•.<br/> å¯æ ¹æ®éœ€è¦åˆ‡æ¢ä¸åŒçš„ conda çŽ¯å¢ƒä»¥ä½¿ç”¨ä¸åŒçš„\npython ç‰ˆæœ¬æˆ–ä¸åŒçš„åŒ…çš„ç»„åˆ.</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ conda install &lt;pkg_name&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å…¶ä»–å‘½ä»¤è§ <a href=\"installpy.html#ä½¿ç”¨-conda-å‘½ä»¤\">Python\nå®‰è£…å’Œé…ç½®#ä½¿ç”¨ conda å‘½ä»¤</a><br> è¯¦ç»†è¯´æ˜Žè§ <a\nhref=\"advance.html#Anaconda\">Python è¿›é˜¶#Anaconda</a></p>\n<h4 id=\"ipython-jupyter\">IPython &amp; Jupyter</h4>\n<p><img style='float: center;' src='/main/IPython.png' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># Have a look (ipython)</span>\n!cd <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> gnome<span class=\"token operator\">-</span>terminal <span class=\"token operator\">-</span><span class=\"token operator\">-</span>window<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>profile<span class=\"token operator\">=</span><span class=\"token string\">'lydia_white'</span>\n!sleep <span class=\"token number\">0.5</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"ipython\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return\n!sleep <span class=\"token number\">3</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"!idl\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return\n!sleep <span class=\"token number\">3</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Ctrl<span class=\"token operator\">+</span>d\n!sleep <span class=\"token number\">1</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool <span class=\"token builtin\">type</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>delay <span class=\"token number\">200</span> <span class=\"token string\">\"!csh -c sswidl\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> xdotool key Return<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<center>\n<a href=\"http://jupyter.org/\" class=\"uri\">http://jupyter.org/</a>\n</center>\n<p><img style='float: center;' src='/main/jupyterlogo.png' /></p>\n<center>\n<a href=\"https://nbviewer.jupyter.org/\"\nclass=\"uri\">https://nbviewer.jupyter.org/</a>\n</center>\n<p><img style='float: center;' src='/main/nbviewer.png' /></p>\n<p>å‚è€ƒæ–‡æ¡£ <a href=\"http://jupyter-notebook.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyter-notebook.readthedocs.io/en/stable/</a></p>\n<ul>\n<li>æ‰“å¼€ <code>jupyter notebook</code>:</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$ jupyter notebook [filename]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"å¸¸ç”¨åŒ…ä»‹ç»\">å¸¸ç”¨åŒ…ä»‹ç»</h2>\n<h3 id=\"python-è‡ªå¸¦åŒ…å’Œæ¨¡å—\">Python è‡ªå¸¦åŒ…å’Œæ¨¡å—</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> math <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token comment\"># åŒ…å« pi ç­‰, ä½†æ›´æŽ¨è numpy</span>\n<span class=\"token keyword\">from</span> copy <span class=\"token keyword\">import</span> deepcopy\n<span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint  <span class=\"token comment\"># æ‰“å° list, dict ç­‰æ›´å¥½çœ‹</span>\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> sys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"numpy-scipy\">NumPy, SciPy</h3>\n<h4 id=\"æ¦‚è§ˆ\">æ¦‚è§ˆ</h4>\n<center>\n<a href=\"https://www.scipy.org\" class=\"uri\">https://www.scipy.org</a>\n</center>\n<p><img src='/main/SciPy.png' /></p>\n<center>\n<a href=\"http://scikit-image.org\"\nclass=\"uri\">http://scikit-image.org</a>\n</center>\n<p><img src='/main/scikitlogo.png' />\n<img src='/main/skimage01.png' /></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¯¼å…¥åŒ…çš„ä¸åŒæ–¹å¼å°†åœ¨å„ä¾‹å­ä¸­çœ‹åˆ°.</p>\n<p>å‚è€ƒ:</p>\n<ul>\n<li>NumPy User Guide <a href=\"https://docs.scipy.org/doc/numpy/user/\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/</a></li>\n<li>NumPy Reference <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/</a></li>\n<li>ndarray<br><a\nhref=\"https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html</a></li>\n<li>Array manipulation routines<br><a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html</a></li>\n<li>SciPy Cookbook <a href=\"http://scipy-cookbook.readthedocs.io/\"\nclass=\"uri\">http://scipy-cookbook.readthedocs.io/</a></li>\n<li>ä¸Ž IDL çš„è¯­æ³•å¯¹ç…§\n<ul>\n<li><a href=\"http://mathesaurus.sourceforge.net/idl-numpy.html\"\nclass=\"uri\">http://mathesaurus.sourceforge.net/idl-numpy.html</a></li>\n<li><a\nhref=\"http://blog.rtwilson.com/ten-little-idl-programs-in-python/\"\nclass=\"uri\">http://blog.rtwilson.com/ten-little-idl-programs-in-python/</a></li>\n<li><a href=\"http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/\"\nclass=\"uri\">http://www.astrobetter.com/blog/2009/05/04/idl-vs-python/</a></li>\n</ul></li>\n</ul>\n<h4 id=\"ç”Ÿæˆ-numpy.ndarray-æ•°ç»„\">ç”Ÿæˆ numpy.ndarray æ•°ç»„</h4>\n<p>å°† list æˆ– tuple è½¬æ¢ä¸º <code>numpy.ndarray</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\na <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ‡ç‰‡(slice), ç´¢å¼•å¯ä»¥æ˜¯ int æˆ– list (python list åªæ”¯æŒ listä½œä¸ºç´¢å¼•)</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>          <span class=\"token comment\"># 0</span>\na<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># 4</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>        <span class=\"token comment\"># array([0, 1, 2]) æ³¨æ„!</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># array([0, 1, 2])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>        <span class=\"token comment\"># array([2, 3])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>       <span class=\"token comment\"># array([2, 3]) æ³¨æ„!</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># array([2, 3, 4])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>      <span class=\"token comment\"># array([0, 2])</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>     <span class=\"token comment\"># array([4, 3])</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># array([1, 4, 3]) èŠ±å¼åˆ‡ç‰‡, ç´¢å¼•æ˜¯ä¸€ä¸ª list (ä¸èƒ½æ˜¯tuple)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>\n<p>å¤šç»´:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a\n<span class=\"token comment\"># è¿™é‡Œçš„tupleå·²è½¬æˆndarray, äºŽæ˜¯ç»“æžœæ˜¯å¯å˜çš„</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>array([[0, 1, 2],\n       [3, 4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>1</code></pre>\n<p>ä»Žä¸€ç»´æ•°ç»„è½¬å˜ä¸ºå¤šç»´:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a\n<span class=\"token comment\"># reshape çš„å‚æ•°ä¸º &lt; 0 è¡¨ç¤ºè¯¥ç»´åº¦è‡ªåŠ¨åˆ¤æ–­å…ƒç´ ä¸ªæ•°</span>\n<span class=\"token comment\"># reshape çš„å‚æ•°æ˜¯ä¸€ä¸ª list æˆ– tuple, æ‹¬å·å¯ä»¥å±•å¼€ (è¯¦è§å¸®åŠ©æ–‡æ¡£)</span>\n<span class=\"token comment\"># æ­¤ä¾‹ä¸­ reshape((3, 2)), reshape(3, 2), reshape((3, -1)), reshape(3, -1) ç­‰ä»·</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">b <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> b  <span class=\"token comment\"># reshape çš„å‚æ•°åªæœ‰ä¸€ä¸ªç»´åº¦ä¸” &lt; 0(è‡ªåŠ¨)  => å±•å¼€æˆä¸€ç»´</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])</code></pre>\n<p>èŠ±å¼åˆ‡ç‰‡çš„å¤šç»´ä¾‹å­:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\na<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># a[col_inds, row_inds], æ­¤ä¾‹ç­‰ä»·äºŽ a[[[0, 1], [0, 2]]], a[([0, 1], [0, 2])]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>array([0, 6])</code></pre>\n<ul>\n<li><strong>np.zeros</strong>(shape,\ndtype=float),â€‚<strong>np.ones</strong>(shape, dtype=float)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤æµ®ç‚¹åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0., 0., 0.],\n       [0., 0., 0.]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤æµ®ç‚¹åž‹</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[1., 1., 1.],\n       [1., 1., 1.]])</code></pre>\n<ul>\n<li><strong>np.arange</strong>([start,] stop[, step,], dtype=None)</li>\n</ul>\n<p>ç”Ÿæˆçš„æ•°ç»„å…ƒç´ æ•°æ®ç±»åž‹å’Œå‚æ•°ä¸€è‡´.<br><br> æ–¹ä¾¿è®°å¿†: æœ€ç®€å½¢å¼\n<code>np.arange</code>(<em>N</em>) ä¸­çš„æ•´æ•° <em>N</em> å³ä¸º\n<em>å…ƒç´ ä¸ªæ•°</em>.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1],\n       [2, 3],\n       [4, 5]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[0, 1],\n       [2, 3],\n       [4, 5]])</code></pre>\n<ul>\n<li><strong>np.linspace</strong>(start, stop, num=50,\n<strong>endpoint=True</strong>, retstep=False, dtype=None)<br>\né»˜è®¤ç”Ÿæˆçš„å…ƒç´ æ˜¯æµ®ç‚¹åž‹<br> æ³¨æ„ <code>np.linspace</code> å’Œ\n<code>np.arange</code> çš„ä¸åŒè§„åˆ™</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0., 1.])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> endpoint<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0. , 0.5])</code></pre>\n<p>æ›´å¤šæ•°ç»„åˆ›å»ºæ–¹æ³•è§ numpy å®˜ç½‘:<br> <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-creation.html</a><br>\n<a\nhref=\"https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation</a></p>\n<ul>\n<li>è½¬ç½®</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>T<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([[ 0,  4,  8],\n       [ 1,  5,  9],\n       [ 2,  6, 10],\n       [ 3,  7, 11]])</code></pre>\n<p>æ›´å¤šæ•°ç»„æ“ä½œè§ numpy å®˜ç½‘ <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html\"\nclass=\"uri\">https://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html</a>\nçŸ©é˜µæ“ä½œè§ <a href=\"advance.html#çŸ©é˜µ\">Python è¿›é˜¶#çŸ©é˜µ</a></p>\n<h3 id=\"matplotlib\">Matplotlib</h3>\n<ul>\n<li><p>å®˜æ–¹ç¤ºä¾‹ <a href=\"https://matplotlib.org/tutorials/index.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/index.html</a>\n<img src='/main/Matplotlib.png' />\n<img src='/main/annotation_demo2_00.png' />\n<img src='/main/contour_demo_05.png' /></p></li>\n<li><p>å®˜æ–¹æ•™ç¨‹ <a\nhref=\"https://matplotlib.org/tutorials/introductory/usage.html\"\nclass=\"uri\">https://matplotlib.org/tutorials/introductory/usage.html</a></p></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>åˆ›å»ºä¸€ä¸ªå›¾åƒ (ä¸‰ç§å†™æ³•çš†å¯):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig<span class=\"token punctuation\">,</span> ax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>subplots<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dpi<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> fig<span class=\"token punctuation\">.</span>add_subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ•°å­— (ijk) è¡¨ç¤º: è¿™æ˜¯ä¸€å…±iè¡Œjåˆ—ä¸­çš„ç»„å›¾ä¸­çš„ç¬¬kä¸ªå›¾</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gcf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>èŽ·å–å¸®åŠ©:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>ax<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># æŸ¥çœ‹æŸå¯¹è±¡åŒ…å«çš„æ–¹æ³•</span>\nax<span class=\"token punctuation\">.</span><span class=\"token comment\"># &lt;Tab>, &lt;Shift-Tab></span>\nplt<span class=\"token punctuation\">.</span><span class=\"token comment\"># &lt;Tab>, &lt;Shift-Tab></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib?<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_plot.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib\n<span class=\"token operator\">%</span>run <span class=\"token operator\">-</span>e <span class=\"token string\">'examples/test_imshow.py'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>é¢œè‰² <a\nhref=\"https://matplotlib.org/examples/color/colormaps_reference.html\"\nclass=\"uri\">https://matplotlib.org/examples/color/colormaps_reference.html</a></li>\n<li>legend <a href=\"https://matplotlib.org/users/legend_guide.html\"\nclass=\"uri\">https://matplotlib.org/users/legend_guide.html</a> <br>\n<img src='/main/named_colors.png' /></li>\n</ul>\n<h3 id=\"å¤©æ–‡ç›¸å…³åŒ…\">å¤©æ–‡ç›¸å…³åŒ…</h3>\n<h4 id=\"astropy\">Astropy</h4>\n<p><img src='/main/astropy_banner.svg' /></p>\n<p>å®˜æ–¹æ–‡æ¡£ <a href=\"http://docs.astropy.org/en/stable/index.html\"\nclass=\"uri\">http://docs.astropy.org/en/stable/index.html</a></p>\n<p>åæ ‡ç³»ç»Ÿ <a\nhref=\"http://docs.astropy.org/en/stable/coordinates/index.html\"\nclass=\"uri\">http://docs.astropy.org/en/stable/coordinates/index.html</a></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy <span class=\"token keyword\">import</span> units <span class=\"token keyword\">as</span> u\n<span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>coordinates <span class=\"token keyword\">import</span> SkyCoord<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>å‚è€ƒ <a\nhref=\"https://python4astronomers.github.io/astropy/astropy.html\"\nclass=\"uri\">https://python4astronomers.github.io/astropy/astropy.html</a></p>\n<h4 id=\"sunpy\">SunPy</h4>\n<p><img src='/main/Screenshot_20180625-005924.png' />\n<img src='/main/sphx_glr_lat_lon_lines_001.png' />\n<img src='/main/sphx_glr_submaps_and_cropping_001.png' /></p>\n<p><br> HMI ç¤ºä¾‹è§ <a href=\"advance.html#SunPy-ç¤ºä¾‹\">Python è¿›é˜¶#SunPy\nç¤ºä¾‹</a><br> <a\nhref=\"https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true\"\nclass=\"uri\">https://coding.net/u/lydiazly/p/scripts-sunpy/git?public=true</a></p>\n<p><br><br> å‚è€ƒ:</p>\n<ul>\n<li>Gallery <a\nhref=\"http://docs.sunpy.org/en/stable/generated/gallery/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/generated/gallery/index.html</a></li>\n<li>SunPy Guide <a\nhref=\"http://docs.sunpy.org/en/stable/guide/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/index.html</a></li>\n<li>SunPy Map<br><a\nhref=\"http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/code_ref/map.html#sunpy.map.mapbase.GenericMap</a></li>\n<li>Example Gallery <a\nhref=\"http://docs.sunpy.org/en/stable/generated/gallery/index.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/generated/gallery/index.html</a></li>\n<li>A brief tour of SunPy <a\nhref=\"http://docs.sunpy.org/en/stable/guide/tour.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/tour.html</a></li>\n<li>Finding and Downloading Data using Fido<br><a\nhref=\"http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html\"\nclass=\"uri\">http://docs.sunpy.org/en/stable/guide/acquiring_data/fido.html</a></li>\n</ul>\n<p>ç®€å•çš„ä¾‹å­ (æ¥è‡ªå®˜ç½‘):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>sample\n\naia <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span>sunpy<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">.</span>AIA_171_IMAGE<span class=\"token punctuation\">)</span>\n\nfig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dpi<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">111</span><span class=\"token punctuation\">,</span> projection<span class=\"token operator\">=</span>aia<span class=\"token punctuation\">)</span>\n\naia<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_limb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_grid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naia<span class=\"token punctuation\">.</span>draw_limb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># plt.show()</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>/home/lydia/miniconda3/lib/python3.6/site-packages/sunpy/map/sources/sdo.py:48: SunpyDeprecationWarning: Use Matplotlib to load the colormaps\n  self.plot_settings[&#39;cmap&#39;] = cm.get_cmap(self._get_cmap_name())</code></pre>\n<figure>\n<img src=\"/main/main_126_1.png\" alt=\"png\" />\n<figcaption aria-hidden=\"true\">png</figcaption>\n</figure>\n<p>èŽ·å–ä¸€äº›å¸¸æ•°:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> sunpy<span class=\"token punctuation\">.</span>sun <span class=\"token keyword\">import</span> constants <span class=\"token keyword\">as</span> con\n<span class=\"token comment\"># one astronomical unit (the average distance between the Sun and Earth)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span>au<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>  Name   = Astronomical Unit\n  Value  = 149597870700.0\n  Uncertainty  = 0.0\n  Unit  = m\n  Reference = IAU 2012 Resolution B2</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># the solar radius</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre><code>  Name   = Solar radius\n  Value  = 695508000.0\n  Uncertainty  = 26000.0\n  Unit  = m\n  Reference = Allen&#39;s Astrophysical Quantities 4th Ed.</code></pre>\n<h2 id=\"å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\">å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™</h2>\n<h3 id=\"ä¸€èˆ¬æƒ…å†µ\">ä¸€èˆ¬æƒ…å†µ</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'w', 'r', ...</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>æ›´å¥½çš„ç”¨æ³•: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>  <span class=\"token comment\"># 'w', 'r', ...</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></p>\n<h3 id=\"txt-csv-æ–‡ä»¶è¯»å†™\">txt, csv æ–‡ä»¶è¯»å†™</h3>\n<ul>\n<li>é€è¡Œè¯»å–æ•´è¡Œçš„æ–¹å¼:<br> ä½¿ç”¨ <code>strip</code>\nå¯ä»¥ç”¨æ¥åŽ»æŽ‰è¯»å…¥çš„æ¯è¡Œæœ«å°¾çš„ ''</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">lines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data/data.csv'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">:</span>\n        lines<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nlines<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[[&#39;col1&#39;, &#39;col2&#39;, &#39;col3&#39;],\n [&#39;row1&#39;, &#39;1&#39;, &#39;1e1&#39;],\n [&#39;row2&#39;, &#39;2&#39;, &#39;2e-1&#39;],\n [&#39;row3&#39;, &#39;3&#39;, &#39;3e+2&#39;]]</code></pre>\n<ul>\n<li>ä½¿ç”¨ numpy, è¯»å–åŽç›´æŽ¥è½¬æˆæ•°ç»„çš„æ–¹å¼ (æŽ¨è):<br>\n<code>np.loadtxt</code>,â€‚<code>np.genfromtxt</code> (å†™æ–‡ä»¶æ˜¯\n<code>np.savetxt</code>)<br> è¶…å¤§æ–‡ä»¶è¯»å–å»ºè®®ç”¨ pandas åŒ….</li>\n</ul>\n<p>e.g.</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">,</span> skiprows<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># é»˜è®¤åˆ†å‰²ç¬¦ä¸ºç©ºæ ¼</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> col1<span class=\"token punctuation\">,</span> col2 <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>loadtxt<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">,</span> skiprows<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> usecols<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> unpack<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><code>np.genfromtxt</code> å’Œ <code>np.loadtxt</code> ç±»ä¼¼,\nå¢žåŠ äº†å¤„ç† missing values çš„åŠŸèƒ½.<br> (ä½†å‚æ•° skiprows=1 éœ€æ›¿æ¢ä¸º\nskip_header=1)</p>\n<p>ä¾‹ (è¿™é‡Œä½¿ç”¨åŠŸèƒ½æ›´å¤šçš„ <code>np.genfromtxt</code> ä»£æ›¿\n<code>np.loadtxt</code>):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>genfromtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data.csv'</span><span class=\"token punctuation\">,</span>\n                    skip_header<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                    names<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    dtype<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'U15'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è®¾å®šäº† names ä¹‹åŽ, å¯ä»¥ç”¨åç§°ç´¢å¼•</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[(&#39;row1&#39;, 1) (&#39;row2&#39;, 2) (&#39;row3&#39;, 3)]</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">arr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>genfromtxt<span class=\"token punctuation\">(</span><span class=\"token string\">'data/data2.csv'</span><span class=\"token punctuation\">,</span>\n                    skip_header<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                    names<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'col1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'col3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    dtype<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'U15'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    missing_values<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                    filling_values<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>nan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># åˆ†å¼€æŒ‡å®š</span>\n                    delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>[(&#39;row1&#39;, 0, 10. ) (&#39;&#39;, 2,  0.2) (&#39;row3&#39;, 3,  nan)]</code></pre>\n<ul>\n<li>ä¸€èˆ¬è€Œè¨€, å¯¹äºŽä¸€ä¸ªç”±åˆ†éš”ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸², è½¬æˆä¸€ä¸ªæ•°ç»„çš„æ–¹å¼:<br>\n<code>np.fromstring(string, dtype=float, count=-1, sep='')</code></li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>fromstring<span class=\"token punctuation\">(</span><span class=\"token string\">'0 1 2'</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0, 1, 2])</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>fromstring<span class=\"token punctuation\">(</span><span class=\"token string\">'0., 1., 2.'</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>array([0., 1., 2.])</code></pre>\n<h3 id=\"numpy-save-æ–‡ä»¶è¯»å†™\">numpy save æ–‡ä»¶è¯»å†™</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">np<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npy'</span>\nnp<span class=\"token punctuation\">.</span>savez<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npz', å¤šä¸ªå˜é‡</span>\nnp<span class=\"token punctuation\">.</span>savez_compressed<span class=\"token punctuation\">(</span><span class=\"token string\">'fname'</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 'fname.npz', å¤šä¸ªå˜é‡ &amp; åŽ‹ç¼©</span>\nnp<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'fname.npz'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Load the files created by savez_compressed.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># å­˜å…¥</span>\narr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ `float64`</span>\nnp<span class=\"token punctuation\">.</span>savez<span class=\"token punctuation\">(</span><span class=\"token string\">'data/np_array'</span><span class=\"token punctuation\">,</span> a<span class=\"token operator\">=</span>arr<span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">ls data<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>npz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>data/np_array.npz</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># è½½å…¥</span>\ndata <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'data/np_array.npz'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># é»˜è®¤ä»¥`ndarray`è¯»å–</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>(array([1., 1., 1., 1., 1.]), array(0), 0)</code></pre>\n<h3 id=\"idl-sav-æ–‡ä»¶è¯»å–\">IDL sav æ–‡ä»¶è¯»å–</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>idl <span class=\"token keyword\">import</span> readsav\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'dname.sav'</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> python_dict<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>é»˜è®¤è¯»å‡ºçš„æ˜¯<code>scipy.io.idl.AttrDict</code>ç±»åž‹, å³ key\nçš„å¤§å°å†™ä¸æ•æ„Ÿ.<br> æƒ³è¦å¾—åˆ°å¤§å°å†™æ•æ„Ÿçš„ python dict, è®¾ç½®\n<code>python_dict=True</code> å³å¯. <br><br> ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>idl <span class=\"token keyword\">import</span> readsav\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'data/myidlfile.sav'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æ³¨æ„è¿”å›žçš„æ˜¯ä¸€ä¸ª`dict_keys`å¯¹è±¡, å¦‚éœ€ç´¢å¼•éœ€è¦æ‰‹åŠ¨è½¬ä¸ºlist</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'X'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¤§å°å†™ä¸æ•æ„Ÿ</span>\ndata <span class=\"token operator\">=</span> readsav<span class=\"token punctuation\">(</span><span class=\"token string\">'data/myidlfile.sav'</span><span class=\"token punctuation\">,</span> python_dict<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¤§å°å†™æ•æ„Ÿ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>&lt;class &#39;scipy.io.idl.AttrDict&#39;&gt;\ndict_keys([&#39;x&#39;, &#39;y&#39;, &#39;str&#39;])\n(25,)\n&lt;class &#39;dict&#39;&gt;\n(25,)</code></pre>\n<h3 id=\"fits-æ–‡ä»¶è¯»å–\">FITS æ–‡ä»¶è¯»å–</h3>\n<ul>\n<li>Astropy</li>\n</ul>\n<p>å‚è€ƒ:<br> <a href=\"http://docs.astropy.org/en/stable/io/fits\"\nclass=\"uri\">http://docs.astropy.org/en/stable/io/fits</a><br> <a\nhref=\"https://python4astronomers.github.io/astropy/fits.html\"\nclass=\"uri\">https://python4astronomers.github.io/astropy/fits.html</a></p>\n<blockquote>\n<p>[Note]<br> If you are already familiar with PyFITS, astropy.io.fits\nis in fact the same code as the latest version of PyFITS, and you can\nadapt old scripts that use PyFITS to use Astropy by simply doing:\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits <span class=\"token keyword\">as</span> pyfits<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre> However, for new scripts, we recommend the following\nimport: <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n</blockquote>\n<p><code>fits.open</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># hdulist æ˜¯ä¸€ä¸ªç”± HDU objects ç»„æˆçš„ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡</span>\nFilename<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span><span class=\"token punctuation\">.</span>fit\nNo<span class=\"token punctuation\">.</span>    Name         Type      Cards   Dimensions   Format\n<span class=\"token number\">0</span>    PRIMARY     PrimaryHDU    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">1</span>    ENERGIES    BinTableHDU   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>data  <span class=\"token comment\"># ndarray</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;key>'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å¾—åˆ°æŸä¸ª header keyword</span>\n<span class=\"token comment\"># ä¿®æ”¹æ•°æ®åŽ</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ä¿å­˜ HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># æˆ–ä¿å­˜æ•´ä¸ªè¡¨</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># åˆ›å»ºä¸€ä¸ª fits Primary HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>PrimaryHDU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¿å­˜ HDU object</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>writeto<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">,</span> clobber<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¿å­˜åˆ°å·²å­˜åœ¨æ–‡ä»¶</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<code>fits.getdata</code>, <code>fits.getheader</code> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> data <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>getdata<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> header <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span>getheader<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fit'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<br> * SunPy</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>io\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdulist <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>read_file<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è‡ªåŠ¨åˆ¤æ–­æ–‡ä»¶ç±»åž‹</span>\n<span class=\"token comment\"># or use `hdulist = sunpy.io.fits.read('&lt;filename>.fits')`</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> hdu<span class=\"token punctuation\">.</span>data  <span class=\"token comment\"># ndarray</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> smap <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;filename>.fits'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å¾—åˆ°ä¸€ä¸ª sunpy `GenericMap` object</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>ä¾‹:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> astropy<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> fits\nfname <span class=\"token operator\">=</span> <span class=\"token string\">'scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits'</span>\nhdulist <span class=\"token operator\">=</span> fits<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre><code>Filename: scripts-sunpy/plothmi/data/hmi.B_720s.20150827_052400_TAI.field.fits\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU       6   ()      \n  1                1 CompImageHDU    155   (4096, 4096)   int32   </code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">hdulist<span class=\"token punctuation\">.</span>verify<span class=\"token punctuation\">(</span><span class=\"token string\">'silentfix+warn'</span><span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nhdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sunpy<span class=\"token punctuation\">.</span>io\nhdulist <span class=\"token operator\">=</span> sunpy<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>read_file<span class=\"token punctuation\">(</span>fname<span class=\"token punctuation\">)</span>\nhdu <span class=\"token operator\">=</span> hdulist<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nhdu<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>shape<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre><code>(4096, 4096)</code></pre>\n<h2 id=\"å…¶ä»–åŒ…å’Œè½¯ä»¶\">å…¶ä»–åŒ…å’Œè½¯ä»¶</h2>\n<ul>\n<li>Astroconda <a href=\"https://astroconda.readthedocs.io/en/latest/\"\nclass=\"uri\">https://astroconda.readthedocs.io/en/latest/</a> &gt;\nAstroConda is a free Conda channel maintained by the Space Telescope\nScience Institute (STScI) in Baltimore, Maryland. This channel provides\ntools and utilities required to process and analyze data from the Hubble\nSpace Telescope (HST), James Webb Space Telescope (JWST), and others.\n<br><br></li>\n<li>Canopy <a href=\"https://www.enthought.com/product/canopy/\"\nclass=\"uri\">https://www.enthought.com/product/canopy/</a> &gt; Enthought\nCanopy provides a proven scientific and analytic Python package\ndistribution plus key integrated tools for iterative data analysis, data\nvisualization, and application development. Users have the ability to\nextend and innovate with scripting and open platform APIs, driving the\ncreation and sharing of innovative workflows, tools, and applications.\n<img src='/main/Canopy-Packages-min-1.png' > <br><br></li>\n<li>PyCharm <a href=\"https://www.jetbrains.com/pycharm/\"\nclass=\"uri\">https://www.jetbrains.com/pycharm/</a>\n<img src='/main/pycharm.jpg' > <br><br></li>\n<li>Jupyterlab <a href=\"http://jupyterlab.readthedocs.io/en/stable/\"\nclass=\"uri\">http://jupyterlab.readthedocs.io/en/stable/</a>\n<img src='/main/jupyterlab.png' ></li>\n</ul>"},{"title":"Python çš„è„šæœ¬ä¸Žäº¤äº’å¼çŽ¯å¢ƒ","date":"2018-10-15T14:46:01.000Z","_content":"\nç›®çš„æ˜¯ä»Žäº¤äº’çŽ¯å¢ƒè°ƒç”¨è„šæœ¬äº§ç”Ÿçš„å˜é‡, å¯ç”¨äºŽè°ƒè¯•è„šæœ¬å’Œæµ‹è¯•æ•°æ®ç­‰ç­‰.\n\næ¯”å¦‚å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å†…å®¹çš„è„šæœ¬:\n\n``` python\n#!/usr/bin/env python\na=1\nprint('a =', a)\n```\n<!-- more -->\n\n### æ–¹æ³• 1. shell -> interactive mode (æŽ¨è)\n\nä½¿ç”¨ `-i` é€‰é¡¹:\n\n```bash\n# shell\n$ python -i test.py\n```\n\næ‰§è¡Œç»“æŸéšå³è¿›å…¥ python äº¤äº’çŽ¯å¢ƒ, å¹¶ä¸”ä¿ç•™äº†è„šæœ¬ä¸­å®šä¹‰çš„å˜é‡:\n\n```python\n# python\na = 1\n>>> a\n1\n```\n\n### æ–¹æ³• 2. In ipython / jupyter (ç¬¬äºŒæŽ¨è)\n\n```python\n# ipython\nIn [1]: %run test.py\na = 1\n\nIn [2]: a\nOut[2]: 1\n\nIn [3]: %who\na\n\nIn [4]: %whos\nVariable   Type    Data/Info\n----------------------------\na          int     1\n```\n\n### æ–¹æ³• 3. In interactive mode\n\n> **NOTE**: Python 3 å–æ¶ˆäº† `execfile()` è¿™ä¸ªå‡½æ•°! å¦‚ä»Šä½¿ç”¨ `exec()`.\n\n```python\n# python\n>>> exec(open('test.py').read())\na = 1\n>>> a\n1\n>>> 'a' in dir()\nTrue\n>>> globals()['a']  # same as vars()['a']\n1\n```\n\nä½†è¿™ä¹‹åŽæ–‡ä»¶å¹¶æ²¡æœ‰å…³é—­, è™½ç„¶å¤šæ•°æ—¶å€™æ²¡æœ‰å½±å“, ä½†å¦‚æžœå®žåœ¨è¦å…³é—­, å»ºè®®ä½¿ç”¨ `with` :\n\n```python\n# python\nwith open('test.py') as f:\n    exec(f.read())  # ctrl+D to exit the block\n```\n\næ€»ä¹‹ååˆ†ä¸æ–¹ä¾¿, å› æ­¤ä¸æŽ¨è.\n<br><br>\nå¯¹äºŽæ²¡æœ‰ä½¿ç”¨ `if __name__ == \"__main__\"` çš„è„šæœ¬, å½“è„šæœ¬å¤„åœ¨å½“å‰ç›®å½•æˆ– `$PYTHONPATH` ä¸­æ—¶, ä¹Ÿå¯ä»¥æœ‰æ¯”è¾ƒæ–¹ä¾¿çš„åŠžæ³•<br>(\næ³¨æ„è¿™é‡Œå› ä¸ºæ˜¯è°ƒç”¨ module çš„å½¢å¼, æ‰€ä»¥ä¸è¦åŠ  '.py' ):\n\n```python\n# python\n>>> import test\na = 1\n```\n\n<br>\nè¡¥å……è¯´æ˜Žåœ¨ python äº¤äº’çŽ¯å¢ƒä¸­æŸ¥çœ‹å½“å‰çŽ¯å¢ƒä¸­çš„å˜é‡çš„æ–¹æ³• (ipython / jupyter ä½¿ç”¨ `%who`, `%whos` å³å¯):\n\n```python\ndir()  # without an argument, return the names in the current scope\nglobals()  # a dictionary containing the current scope's global variables\nlocals()  # a dictionary containing the current scope's local variables\nvars()  # without arguments, equivalent to locals();\n        # with an argument, equivalent to object.__dict__.\n```\n","source":"_posts/2018-10-15-scripts-and-interactive-mode.md","raw":"---\ntitle: \"Python çš„è„šæœ¬ä¸Žäº¤äº’å¼çŽ¯å¢ƒ\"\ncategories: 'Solar Physics'\ntags: python\ndate: 2018-10-15 22:46:01\n---\n\nç›®çš„æ˜¯ä»Žäº¤äº’çŽ¯å¢ƒè°ƒç”¨è„šæœ¬äº§ç”Ÿçš„å˜é‡, å¯ç”¨äºŽè°ƒè¯•è„šæœ¬å’Œæµ‹è¯•æ•°æ®ç­‰ç­‰.\n\næ¯”å¦‚å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å†…å®¹çš„è„šæœ¬:\n\n``` python\n#!/usr/bin/env python\na=1\nprint('a =', a)\n```\n<!-- more -->\n\n### æ–¹æ³• 1. shell -> interactive mode (æŽ¨è)\n\nä½¿ç”¨ `-i` é€‰é¡¹:\n\n```bash\n# shell\n$ python -i test.py\n```\n\næ‰§è¡Œç»“æŸéšå³è¿›å…¥ python äº¤äº’çŽ¯å¢ƒ, å¹¶ä¸”ä¿ç•™äº†è„šæœ¬ä¸­å®šä¹‰çš„å˜é‡:\n\n```python\n# python\na = 1\n>>> a\n1\n```\n\n### æ–¹æ³• 2. In ipython / jupyter (ç¬¬äºŒæŽ¨è)\n\n```python\n# ipython\nIn [1]: %run test.py\na = 1\n\nIn [2]: a\nOut[2]: 1\n\nIn [3]: %who\na\n\nIn [4]: %whos\nVariable   Type    Data/Info\n----------------------------\na          int     1\n```\n\n### æ–¹æ³• 3. In interactive mode\n\n> **NOTE**: Python 3 å–æ¶ˆäº† `execfile()` è¿™ä¸ªå‡½æ•°! å¦‚ä»Šä½¿ç”¨ `exec()`.\n\n```python\n# python\n>>> exec(open('test.py').read())\na = 1\n>>> a\n1\n>>> 'a' in dir()\nTrue\n>>> globals()['a']  # same as vars()['a']\n1\n```\n\nä½†è¿™ä¹‹åŽæ–‡ä»¶å¹¶æ²¡æœ‰å…³é—­, è™½ç„¶å¤šæ•°æ—¶å€™æ²¡æœ‰å½±å“, ä½†å¦‚æžœå®žåœ¨è¦å…³é—­, å»ºè®®ä½¿ç”¨ `with` :\n\n```python\n# python\nwith open('test.py') as f:\n    exec(f.read())  # ctrl+D to exit the block\n```\n\næ€»ä¹‹ååˆ†ä¸æ–¹ä¾¿, å› æ­¤ä¸æŽ¨è.\n<br><br>\nå¯¹äºŽæ²¡æœ‰ä½¿ç”¨ `if __name__ == \"__main__\"` çš„è„šæœ¬, å½“è„šæœ¬å¤„åœ¨å½“å‰ç›®å½•æˆ– `$PYTHONPATH` ä¸­æ—¶, ä¹Ÿå¯ä»¥æœ‰æ¯”è¾ƒæ–¹ä¾¿çš„åŠžæ³•<br>(\næ³¨æ„è¿™é‡Œå› ä¸ºæ˜¯è°ƒç”¨ module çš„å½¢å¼, æ‰€ä»¥ä¸è¦åŠ  '.py' ):\n\n```python\n# python\n>>> import test\na = 1\n```\n\n<br>\nè¡¥å……è¯´æ˜Žåœ¨ python äº¤äº’çŽ¯å¢ƒä¸­æŸ¥çœ‹å½“å‰çŽ¯å¢ƒä¸­çš„å˜é‡çš„æ–¹æ³• (ipython / jupyter ä½¿ç”¨ `%who`, `%whos` å³å¯):\n\n```python\ndir()  # without an argument, return the names in the current scope\nglobals()  # a dictionary containing the current scope's global variables\nlocals()  # a dictionary containing the current scope's local variables\nvars()  # without arguments, equivalent to locals();\n        # with an argument, equivalent to object.__dict__.\n```\n","slug":"scripts-and-interactive-mode","published":1,"updated":"2018-10-15T14:46:01.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegawf000yvxgv46k4bg2k","content":"<p>ç›®çš„æ˜¯ä»Žäº¤äº’çŽ¯å¢ƒè°ƒç”¨è„šæœ¬äº§ç”Ÿçš„å˜é‡, å¯ç”¨äºŽè°ƒè¯•è„šæœ¬å’Œæµ‹è¯•æ•°æ®ç­‰ç­‰.</p>\n<p>æ¯”å¦‚å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å†…å®¹çš„è„šæœ¬:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\na<span class=\"token operator\">=</span><span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a ='</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<span id=\"more\"></span>\n<h3 id=\"æ–¹æ³•-1.-shell---interactive-mode-æŽ¨è\">æ–¹æ³• 1. shell -&gt;\ninteractive mode (æŽ¨è)</h3>\n<p>ä½¿ç”¨ <code>-i</code> é€‰é¡¹:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># shell</span>\n$ python -i test.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>æ‰§è¡Œç»“æŸéšå³è¿›å…¥ python äº¤äº’çŽ¯å¢ƒ, å¹¶ä¸”ä¿ç•™äº†è„šæœ¬ä¸­å®šä¹‰çš„å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ–¹æ³•-2.-in-ipython-jupyter-ç¬¬äºŒæŽ¨è\">æ–¹æ³• 2. In ipython /\njupyter (ç¬¬äºŒæŽ¨è)</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython</span>\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>run test<span class=\"token punctuation\">.</span>py\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> a\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>who\na\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>whos\nVariable   Type    Data<span class=\"token operator\">/</span>Info\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\na          <span class=\"token builtin\">int</span>     <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ–¹æ³•-3.-in-interactive-mode\">æ–¹æ³• 3. In interactive mode</h3>\n<blockquote>\n<p><strong>NOTE</strong>: Python 3 å–æ¶ˆäº† <code>execfile()</code>\nè¿™ä¸ªå‡½æ•°! å¦‚ä»Šä½¿ç”¨ <code>exec()</code>.</p>\n</blockquote>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">exec</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test.py'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token string\">'a'</span> <span class=\"token keyword\">in</span> <span class=\"token builtin\">dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># same as vars()['a']</span>\n<span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>ä½†è¿™ä¹‹åŽæ–‡ä»¶å¹¶æ²¡æœ‰å…³é—­, è™½ç„¶å¤šæ•°æ—¶å€™æ²¡æœ‰å½±å“, ä½†å¦‚æžœå®žåœ¨è¦å…³é—­,\nå»ºè®®ä½¿ç”¨ <code>with</code> :</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test.py'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">exec</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ctrl+D to exit the block</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>æ€»ä¹‹ååˆ†ä¸æ–¹ä¾¿, å› æ­¤ä¸æŽ¨è. <br><br> å¯¹äºŽæ²¡æœ‰ä½¿ç”¨\n<code>if __name__ == \"__main__\"</code> çš„è„šæœ¬, å½“è„šæœ¬å¤„åœ¨å½“å‰ç›®å½•æˆ–\n<code>$PYTHONPATH</code> ä¸­æ—¶, ä¹Ÿå¯ä»¥æœ‰æ¯”è¾ƒæ–¹ä¾¿çš„åŠžæ³•<br>(\næ³¨æ„è¿™é‡Œå› ä¸ºæ˜¯è°ƒç”¨ module çš„å½¢å¼, æ‰€ä»¥ä¸è¦åŠ  '.py' ):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> test\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><br> è¡¥å……è¯´æ˜Žåœ¨ python äº¤äº’çŽ¯å¢ƒä¸­æŸ¥çœ‹å½“å‰çŽ¯å¢ƒä¸­çš„å˜é‡çš„æ–¹æ³• (ipython\n/ jupyter ä½¿ç”¨ <code>%who</code>, <code>%whos</code> å³å¯):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># without an argument, return the names in the current scope</span>\n<span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># a dictionary containing the current scope's global variables</span>\n<span class=\"token builtin\">locals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># a dictionary containing the current scope's local variables</span>\n<span class=\"token builtin\">vars</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># without arguments, equivalent to locals();</span>\n        <span class=\"token comment\"># with an argument, equivalent to object.__dict__.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{}},"excerpt":"<p>ç›®çš„æ˜¯ä»Žäº¤äº’çŽ¯å¢ƒè°ƒç”¨è„šæœ¬äº§ç”Ÿçš„å˜é‡, å¯ç”¨äºŽè°ƒè¯•è„šæœ¬å’Œæµ‹è¯•æ•°æ®ç­‰ç­‰.</p>\n<p>æ¯”å¦‚å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å†…å®¹çš„è„šæœ¬:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/env python</span>\na<span class=\"token operator\">=</span><span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a ='</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>","more":"<h3 id=\"æ–¹æ³•-1.-shell---interactive-mode-æŽ¨è\">æ–¹æ³• 1. shell -&gt;\ninteractive mode (æŽ¨è)</h3>\n<p>ä½¿ç”¨ <code>-i</code> é€‰é¡¹:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># shell</span>\n$ python -i test.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>æ‰§è¡Œç»“æŸéšå³è¿›å…¥ python äº¤äº’çŽ¯å¢ƒ, å¹¶ä¸”ä¿ç•™äº†è„šæœ¬ä¸­å®šä¹‰çš„å˜é‡:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ–¹æ³•-2.-in-ipython-jupyter-ç¬¬äºŒæŽ¨è\">æ–¹æ³• 2. In ipython /\njupyter (ç¬¬äºŒæŽ¨è)</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ipython</span>\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>run test<span class=\"token punctuation\">.</span>py\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> a\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>who\na\n\nIn <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">%</span>whos\nVariable   Type    Data<span class=\"token operator\">/</span>Info\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\na          <span class=\"token builtin\">int</span>     <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"æ–¹æ³•-3.-in-interactive-mode\">æ–¹æ³• 3. In interactive mode</h3>\n<blockquote>\n<p><strong>NOTE</strong>: Python 3 å–æ¶ˆäº† <code>execfile()</code>\nè¿™ä¸ªå‡½æ•°! å¦‚ä»Šä½¿ç”¨ <code>exec()</code>.</p>\n</blockquote>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">exec</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test.py'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token number\">1</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token string\">'a'</span> <span class=\"token keyword\">in</span> <span class=\"token builtin\">dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">True</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># same as vars()['a']</span>\n<span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>ä½†è¿™ä¹‹åŽæ–‡ä»¶å¹¶æ²¡æœ‰å…³é—­, è™½ç„¶å¤šæ•°æ—¶å€™æ²¡æœ‰å½±å“, ä½†å¦‚æžœå®žåœ¨è¦å…³é—­,\nå»ºè®®ä½¿ç”¨ <code>with</code> :</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test.py'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">exec</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ctrl+D to exit the block</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>æ€»ä¹‹ååˆ†ä¸æ–¹ä¾¿, å› æ­¤ä¸æŽ¨è. <br><br> å¯¹äºŽæ²¡æœ‰ä½¿ç”¨\n<code>if __name__ == \"__main__\"</code> çš„è„šæœ¬, å½“è„šæœ¬å¤„åœ¨å½“å‰ç›®å½•æˆ–\n<code>$PYTHONPATH</code> ä¸­æ—¶, ä¹Ÿå¯ä»¥æœ‰æ¯”è¾ƒæ–¹ä¾¿çš„åŠžæ³•<br>(\næ³¨æ„è¿™é‡Œå› ä¸ºæ˜¯è°ƒç”¨ module çš„å½¢å¼, æ‰€ä»¥ä¸è¦åŠ  '.py' ):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># python</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> test\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><br> è¡¥å……è¯´æ˜Žåœ¨ python äº¤äº’çŽ¯å¢ƒä¸­æŸ¥çœ‹å½“å‰çŽ¯å¢ƒä¸­çš„å˜é‡çš„æ–¹æ³• (ipython\n/ jupyter ä½¿ç”¨ <code>%who</code>, <code>%whos</code> å³å¯):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token builtin\">dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># without an argument, return the names in the current scope</span>\n<span class=\"token builtin\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># a dictionary containing the current scope's global variables</span>\n<span class=\"token builtin\">locals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># a dictionary containing the current scope's local variables</span>\n<span class=\"token builtin\">vars</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># without arguments, equivalent to locals();</span>\n        <span class=\"token comment\"># with an argument, equivalent to object.__dict__.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"ä½¿ç”¨ pickle æ¨¡å—å­˜å– dict","date":"2018-10-20T08:41:13.000Z","_content":"\nPython è‡ªå¸¦ä¸€ä¸ªå­˜å– dict åˆ°äºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…· [pickle](https://docs.python.org/3/library/pickle.html), æ”¯æŒæ•°å€¼åž‹çš„ key ([numpy.savez](https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html) å’Œ [numpy.savez_compressed](https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez_compressed.html) åªæ”¯æŒå­—ç¬¦ä¸²ä½œä¸º key).\n\nç”¨æ³•:\n\n```python\nimport pickle\n# å­˜å…¥\npickle.dump(data, open(\"filename.p\", \"wb\"))  # type(data): dict\n# è¯»å–\ndata = pickle.load(open(\"filename.p\", \"rb\"))  # è¿”å›žä¸€ä¸ª dict\n```\n<!-- more -->\n\nä»¥ä¸‹ç¤ºä¾‹ç‰¹åœ°ä½¿ç”¨äº†æ•°å€¼åž‹çš„ key:\n\n```python\n>>> import pickle\n>>> a = {1.1:1.1, 2:2}  # ä»¥ float å’Œ int ä½œä¸º key\n>>> import pickle\n>>> pickle.dump(a, open(\"data.p\", \"wb\"))  # å¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å\n>>> b = pickle.load(open(\"data.p\", \"rb\"))\n>>> b.keys()\ndict_keys([1.1, 2])\n>>> b[1.1]\n1.1\n```\n\næ³¨æ„ `pickle.load()` è¿”å›žçš„ç±»åž‹æ˜¯ dict, ä½† `numpy.load()` è¯»å– '\\*.npz' æ–‡ä»¶æ‰€è¿”å›žæ˜¯ä¸€ä¸ªå¯ä»¥åƒ dict ä¸€æ ·ä½¿ç”¨ key æ¥ç´¢å¼•æ•°æ®çš„ `numpy.lib.npyio.NpzFile` å¯¹è±¡.\n\n'\\*.p' æ–‡ä»¶çš„å¤§å°å’ŒéžåŽ‹ç¼©çš„ '\\*.npz' (`numpy.savez()`) ä¸€è‡´, ç„¶è€ŒåŽ‹ç¼©è¿‡çš„ '\\*.npz' (`numpy.savez_compressed()`) æ˜¾ç„¶å ç”¨ç©ºé—´æ›´å°, å› æ­¤åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ (ä¾‹å¦‚ key æ˜¯å­—ç¬¦ä¸², è¯»å–åŽç›´æŽ¥æ“ä½œæ•°æ®è€Œä¸éœ€è¦å¾—åˆ°ä¸€ä¸ª dict), æŽ¨èä¼˜å…ˆä½¿ç”¨ numpy.\n<br><br>\nå¦‚æžœè¦å­˜å…¥ä¸Šè¿°ç¤ºä¾‹ä¸­åŒæ ·çš„æ•°æ®åˆ° '\\*.npz' æ ¼å¼, éœ€è¦è½¬æ¢ key çš„ç±»åž‹ (è¯»å–æ—¶ä¹Ÿéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²åž‹çš„ key):\n\n```python\n>>> a = {str(key):value for key, value in a.items()}\n>>> a\n{'1.1': 1.1, '2': 2}\n>>> np.savez_compressed('data2', **a)  # ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å, å¾—åˆ° 'data2.npz'\n```\n\n---\n\nå…¶ä»–æ•°æ®å­˜å–æ•™ç¨‹:\n\n- [Python ç®€æ˜“æ•™ç¨‹ (lecture for Solar Group)](main.html#4-å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™)\n  - [4.1. ä¸€èˆ¬æƒ…å†µ](main.html#41-ä¸€èˆ¬æƒ…å†µ)\n  - [4.2. txt, csv æ–‡ä»¶è¯»å†™](main.html#42-txt-csv-æ–‡ä»¶è¯»å†™)\n  - [4.3. numpy save æ–‡ä»¶è¯»å†™](main.html#43-numpy-save-æ–‡ä»¶è¯»å†™)\n  - [4.4. IDL sav æ–‡ä»¶è¯»å–](main.html#44-idl-sav-æ–‡ä»¶è¯»å–)\n  - [4.5. FITS æ–‡ä»¶è¯»å–](main.html#45-fits-æ–‡ä»¶è¯»å–)\n\n- [Python è¿›é˜¶ (lecture for Solar Group)](advance.html#9-å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™)\n  - [9.1. ç”¨ pandas è¯» csv](advance.html#91-ç”¨-pandas-è¯»-csv)\n  - [9.2. Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™](advance.html#92-fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™)\n  - [9.3. HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–](advance.html#93-hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–)\n  - [9.4. NumPy to VTK](advance.html#94-numpy-to-vtk)\n  - [9.5. Matlab mat æ–‡ä»¶è¯»å†™](advance.html#95-matlab-mat-æ–‡ä»¶è¯»å†™)\n","source":"_posts/2018-10-20-pickle.md","raw":"---\ntitle: \"ä½¿ç”¨ pickle æ¨¡å—å­˜å– dict\"\ncategories: 'Solar Physics'\ntags: python\ndate: 2018-10-20 16:41:13\n---\n\nPython è‡ªå¸¦ä¸€ä¸ªå­˜å– dict åˆ°äºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…· [pickle](https://docs.python.org/3/library/pickle.html), æ”¯æŒæ•°å€¼åž‹çš„ key ([numpy.savez](https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html) å’Œ [numpy.savez_compressed](https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez_compressed.html) åªæ”¯æŒå­—ç¬¦ä¸²ä½œä¸º key).\n\nç”¨æ³•:\n\n```python\nimport pickle\n# å­˜å…¥\npickle.dump(data, open(\"filename.p\", \"wb\"))  # type(data): dict\n# è¯»å–\ndata = pickle.load(open(\"filename.p\", \"rb\"))  # è¿”å›žä¸€ä¸ª dict\n```\n<!-- more -->\n\nä»¥ä¸‹ç¤ºä¾‹ç‰¹åœ°ä½¿ç”¨äº†æ•°å€¼åž‹çš„ key:\n\n```python\n>>> import pickle\n>>> a = {1.1:1.1, 2:2}  # ä»¥ float å’Œ int ä½œä¸º key\n>>> import pickle\n>>> pickle.dump(a, open(\"data.p\", \"wb\"))  # å¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å\n>>> b = pickle.load(open(\"data.p\", \"rb\"))\n>>> b.keys()\ndict_keys([1.1, 2])\n>>> b[1.1]\n1.1\n```\n\næ³¨æ„ `pickle.load()` è¿”å›žçš„ç±»åž‹æ˜¯ dict, ä½† `numpy.load()` è¯»å– '\\*.npz' æ–‡ä»¶æ‰€è¿”å›žæ˜¯ä¸€ä¸ªå¯ä»¥åƒ dict ä¸€æ ·ä½¿ç”¨ key æ¥ç´¢å¼•æ•°æ®çš„ `numpy.lib.npyio.NpzFile` å¯¹è±¡.\n\n'\\*.p' æ–‡ä»¶çš„å¤§å°å’ŒéžåŽ‹ç¼©çš„ '\\*.npz' (`numpy.savez()`) ä¸€è‡´, ç„¶è€ŒåŽ‹ç¼©è¿‡çš„ '\\*.npz' (`numpy.savez_compressed()`) æ˜¾ç„¶å ç”¨ç©ºé—´æ›´å°, å› æ­¤åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ (ä¾‹å¦‚ key æ˜¯å­—ç¬¦ä¸², è¯»å–åŽç›´æŽ¥æ“ä½œæ•°æ®è€Œä¸éœ€è¦å¾—åˆ°ä¸€ä¸ª dict), æŽ¨èä¼˜å…ˆä½¿ç”¨ numpy.\n<br><br>\nå¦‚æžœè¦å­˜å…¥ä¸Šè¿°ç¤ºä¾‹ä¸­åŒæ ·çš„æ•°æ®åˆ° '\\*.npz' æ ¼å¼, éœ€è¦è½¬æ¢ key çš„ç±»åž‹ (è¯»å–æ—¶ä¹Ÿéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²åž‹çš„ key):\n\n```python\n>>> a = {str(key):value for key, value in a.items()}\n>>> a\n{'1.1': 1.1, '2': 2}\n>>> np.savez_compressed('data2', **a)  # ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å, å¾—åˆ° 'data2.npz'\n```\n\n---\n\nå…¶ä»–æ•°æ®å­˜å–æ•™ç¨‹:\n\n- [Python ç®€æ˜“æ•™ç¨‹ (lecture for Solar Group)](main.html#4-å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™)\n  - [4.1. ä¸€èˆ¬æƒ…å†µ](main.html#41-ä¸€èˆ¬æƒ…å†µ)\n  - [4.2. txt, csv æ–‡ä»¶è¯»å†™](main.html#42-txt-csv-æ–‡ä»¶è¯»å†™)\n  - [4.3. numpy save æ–‡ä»¶è¯»å†™](main.html#43-numpy-save-æ–‡ä»¶è¯»å†™)\n  - [4.4. IDL sav æ–‡ä»¶è¯»å–](main.html#44-idl-sav-æ–‡ä»¶è¯»å–)\n  - [4.5. FITS æ–‡ä»¶è¯»å–](main.html#45-fits-æ–‡ä»¶è¯»å–)\n\n- [Python è¿›é˜¶ (lecture for Solar Group)](advance.html#9-å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™)\n  - [9.1. ç”¨ pandas è¯» csv](advance.html#91-ç”¨-pandas-è¯»-csv)\n  - [9.2. Fortran äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™](advance.html#92-fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™)\n  - [9.3. HDF5 æ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–](advance.html#93-hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–)\n  - [9.4. NumPy to VTK](advance.html#94-numpy-to-vtk)\n  - [9.5. Matlab mat æ–‡ä»¶è¯»å†™](advance.html#95-matlab-mat-æ–‡ä»¶è¯»å†™)\n","slug":"pickle","published":1,"updated":"2018-10-20T08:41:13.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegawh0010vxgve3x76euv","content":"<p>Python è‡ªå¸¦ä¸€ä¸ªå­˜å– dict åˆ°äºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…· <a\nhref=\"https://docs.python.org/3/library/pickle.html\">pickle</a>,\næ”¯æŒæ•°å€¼åž‹çš„ key (<a\nhref=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html\">numpy.savez</a>\nå’Œ <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez_compressed.html\">numpy.savez_compressed</a>\nåªæ”¯æŒå­—ç¬¦ä¸²ä½œä¸º key).</p>\n<p>ç”¨æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pickle\n<span class=\"token comment\"># å­˜å…¥</span>\npickle<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"filename.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># type(data): dict</span>\n<span class=\"token comment\"># è¯»å–</span>\ndata <span class=\"token operator\">=</span> pickle<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"filename.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è¿”å›žä¸€ä¸ª dict</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<span id=\"more\"></span>\n<p>ä»¥ä¸‹ç¤ºä¾‹ç‰¹åœ°ä½¿ç”¨äº†æ•°å€¼åž‹çš„ key:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> pickle\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># ä»¥ float å’Œ int ä½œä¸º key</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> pickle\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> pickle<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b <span class=\"token operator\">=</span> pickle<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndict_keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b<span class=\"token punctuation\">[</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1.1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>æ³¨æ„ <code>pickle.load()</code> è¿”å›žçš„ç±»åž‹æ˜¯ dict, ä½†\n<code>numpy.load()</code> è¯»å– '*.npz' æ–‡ä»¶æ‰€è¿”å›žæ˜¯ä¸€ä¸ªå¯ä»¥åƒ dict\nä¸€æ ·ä½¿ç”¨ key æ¥ç´¢å¼•æ•°æ®çš„ <code>numpy.lib.npyio.NpzFile</code> å¯¹è±¡.</p>\n<p>'*.p' æ–‡ä»¶çš„å¤§å°å’ŒéžåŽ‹ç¼©çš„ '*.npz' (<code>numpy.savez()</code>) ä¸€è‡´,\nç„¶è€ŒåŽ‹ç¼©è¿‡çš„ '*.npz' (<code>numpy.savez_compressed()</code>)\næ˜¾ç„¶å ç”¨ç©ºé—´æ›´å°, å› æ­¤åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ (ä¾‹å¦‚ key æ˜¯å­—ç¬¦ä¸²,\nè¯»å–åŽç›´æŽ¥æ“ä½œæ•°æ®è€Œä¸éœ€è¦å¾—åˆ°ä¸€ä¸ª dict), æŽ¨èä¼˜å…ˆä½¿ç”¨ numpy. <br><br>\nå¦‚æžœè¦å­˜å…¥ä¸Šè¿°ç¤ºä¾‹ä¸­åŒæ ·çš„æ•°æ®åˆ° '*.npz' æ ¼å¼, éœ€è¦è½¬æ¢ key çš„ç±»åž‹\n(è¯»å–æ—¶ä¹Ÿéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²åž‹çš„ key):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>value <span class=\"token keyword\">for</span> key<span class=\"token punctuation\">,</span> value <span class=\"token keyword\">in</span> a<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token punctuation\">&#123;</span><span class=\"token string\">'1.1'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>savez_compressed<span class=\"token punctuation\">(</span><span class=\"token string\">'data2'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å, å¾—åˆ° 'data2.npz'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<hr />\n<p>å…¶ä»–æ•°æ®å­˜å–æ•™ç¨‹:</p>\n<ul>\n<li><a href=\"main.html#4-å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\">Python ç®€æ˜“æ•™ç¨‹ (lecture for\nSolar Group)</a>\n<ul>\n<li><a href=\"main.html#41-ä¸€èˆ¬æƒ…å†µ\">4.1. ä¸€èˆ¬æƒ…å†µ</a></li>\n<li><a href=\"main.html#42-txt-csv-æ–‡ä»¶è¯»å†™\">4.2. txt, csv\næ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"main.html#43-numpy-save-æ–‡ä»¶è¯»å†™\">4.3. numpy save\næ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"main.html#44-idl-sav-æ–‡ä»¶è¯»å–\">4.4. IDL sav\næ–‡ä»¶è¯»å–</a></li>\n<li><a href=\"main.html#45-fits-æ–‡ä»¶è¯»å–\">4.5. FITS æ–‡ä»¶è¯»å–</a></li>\n</ul></li>\n<li><a href=\"advance.html#9-å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\">Python è¿›é˜¶ (lecture for\nSolar Group)</a>\n<ul>\n<li><a href=\"advance.html#91-ç”¨-pandas-è¯»-csv\">9.1. ç”¨ pandas è¯»\ncsv</a></li>\n<li><a href=\"advance.html#92-fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">9.2. Fortran\näºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"advance.html#93-hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–\">9.3. HDF5\næ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–</a></li>\n<li><a href=\"advance.html#94-numpy-to-vtk\">9.4. NumPy to VTK</a></li>\n<li><a href=\"advance.html#95-matlab-mat-æ–‡ä»¶è¯»å†™\">9.5. Matlab mat\næ–‡ä»¶è¯»å†™</a></li>\n</ul></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Python è‡ªå¸¦ä¸€ä¸ªå­˜å– dict åˆ°äºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…· <a\nhref=\"https://docs.python.org/3/library/pickle.html\">pickle</a>,\næ”¯æŒæ•°å€¼åž‹çš„ key (<a\nhref=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html\">numpy.savez</a>\nå’Œ <a\nhref=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez_compressed.html\">numpy.savez_compressed</a>\nåªæ”¯æŒå­—ç¬¦ä¸²ä½œä¸º key).</p>\n<p>ç”¨æ³•:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pickle\n<span class=\"token comment\"># å­˜å…¥</span>\npickle<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"filename.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># type(data): dict</span>\n<span class=\"token comment\"># è¯»å–</span>\ndata <span class=\"token operator\">=</span> pickle<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"filename.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è¿”å›žä¸€ä¸ª dict</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>","more":"<p>ä»¥ä¸‹ç¤ºä¾‹ç‰¹åœ°ä½¿ç”¨äº†æ•°å€¼åž‹çš„ key:</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> pickle\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\"># ä»¥ float å’Œ int ä½œä¸º key</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> pickle\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> pickle<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b <span class=\"token operator\">=</span> pickle<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.p\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndict_keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> b<span class=\"token punctuation\">[</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1.1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>æ³¨æ„ <code>pickle.load()</code> è¿”å›žçš„ç±»åž‹æ˜¯ dict, ä½†\n<code>numpy.load()</code> è¯»å– '*.npz' æ–‡ä»¶æ‰€è¿”å›žæ˜¯ä¸€ä¸ªå¯ä»¥åƒ dict\nä¸€æ ·ä½¿ç”¨ key æ¥ç´¢å¼•æ•°æ®çš„ <code>numpy.lib.npyio.NpzFile</code> å¯¹è±¡.</p>\n<p>'*.p' æ–‡ä»¶çš„å¤§å°å’ŒéžåŽ‹ç¼©çš„ '*.npz' (<code>numpy.savez()</code>) ä¸€è‡´,\nç„¶è€ŒåŽ‹ç¼©è¿‡çš„ '*.npz' (<code>numpy.savez_compressed()</code>)\næ˜¾ç„¶å ç”¨ç©ºé—´æ›´å°, å› æ­¤åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ (ä¾‹å¦‚ key æ˜¯å­—ç¬¦ä¸²,\nè¯»å–åŽç›´æŽ¥æ“ä½œæ•°æ®è€Œä¸éœ€è¦å¾—åˆ°ä¸€ä¸ª dict), æŽ¨èä¼˜å…ˆä½¿ç”¨ numpy. <br><br>\nå¦‚æžœè¦å­˜å…¥ä¸Šè¿°ç¤ºä¾‹ä¸­åŒæ ·çš„æ•°æ®åˆ° '*.npz' æ ¼å¼, éœ€è¦è½¬æ¢ key çš„ç±»åž‹\n(è¯»å–æ—¶ä¹Ÿéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²åž‹çš„ key):</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>value <span class=\"token keyword\">for</span> key<span class=\"token punctuation\">,</span> value <span class=\"token keyword\">in</span> a<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a\n<span class=\"token punctuation\">&#123;</span><span class=\"token string\">'1.1'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> np<span class=\"token punctuation\">.</span>savez_compressed<span class=\"token punctuation\">(</span><span class=\"token string\">'data2'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ä¼šè‡ªåŠ¨æ·»åŠ åŽç¼€å, å¾—åˆ° 'data2.npz'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<hr />\n<p>å…¶ä»–æ•°æ®å­˜å–æ•™ç¨‹:</p>\n<ul>\n<li><a href=\"main.html#4-å¸¸è§æ•°æ®æ–‡ä»¶è¯»å†™\">Python ç®€æ˜“æ•™ç¨‹ (lecture for\nSolar Group)</a>\n<ul>\n<li><a href=\"main.html#41-ä¸€èˆ¬æƒ…å†µ\">4.1. ä¸€èˆ¬æƒ…å†µ</a></li>\n<li><a href=\"main.html#42-txt-csv-æ–‡ä»¶è¯»å†™\">4.2. txt, csv\næ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"main.html#43-numpy-save-æ–‡ä»¶è¯»å†™\">4.3. numpy save\næ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"main.html#44-idl-sav-æ–‡ä»¶è¯»å–\">4.4. IDL sav\næ–‡ä»¶è¯»å–</a></li>\n<li><a href=\"main.html#45-fits-æ–‡ä»¶è¯»å–\">4.5. FITS æ–‡ä»¶è¯»å–</a></li>\n</ul></li>\n<li><a href=\"advance.html#9-å…¶ä»–æ ¼å¼æ–‡ä»¶è¯»å†™\">Python è¿›é˜¶ (lecture for\nSolar Group)</a>\n<ul>\n<li><a href=\"advance.html#91-ç”¨-pandas-è¯»-csv\">9.1. ç”¨ pandas è¯»\ncsv</a></li>\n<li><a href=\"advance.html#92-fortran-äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™\">9.2. Fortran\näºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</a></li>\n<li><a href=\"advance.html#93-hdf5-æ–‡ä»¶è¯»å†™-ncdf-cdf-æ–‡ä»¶è¯»å–\">9.3. HDF5\næ–‡ä»¶è¯»å†™, NCDF, CDF æ–‡ä»¶è¯»å–</a></li>\n<li><a href=\"advance.html#94-numpy-to-vtk\">9.4. NumPy to VTK</a></li>\n<li><a href=\"advance.html#95-matlab-mat-æ–‡ä»¶è¯»å†™\">9.5. Matlab mat\næ–‡ä»¶è¯»å†™</a></li>\n</ul></li>\n</ul>"},{"title":"Pandas sep='\\s+' çš„é—®é¢˜","date":"2018-12-04T09:00:03.000Z","_content":"\nPandas çš„ `read_table` ([å®˜æ–¹æ–‡æ¡£](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html))\nå’Œ `read_csv` ([å®˜æ–¹æ–‡æ¡£](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html)) (æŒ‡å®šåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ä¸¤è€…æ— åŒºåˆ«),\næœ‰å…³é”®å­— `sep=` (`read_table` é»˜è®¤ä¸º `sep='\\t'`, `read_csv` é»˜è®¤ä¸º `sep=','`).\n\nä½†å½“éœ€è¦æŒ‡å®šå¤šä¸ªç©ºæ ¼çš„æƒ…å†µä¸‹, æŒ‡å®š `sep='\\s+'` å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«.\n<!-- more -->\n\nè¯·ä½¿ç”¨ **`' +'`** ä»£æ›¿.\n\nå®˜æ–¹æ–‡æ¡£ä¸­å…³äºŽ `sep` å…³é”®å­—çš„è¯´æ˜Žæœ‰å¦‚ä¸‹æè¿°:\n\n> In addition, separators longer than 1 character and\n> **different from ``'\\s+'``** will be interpreted as regular expressions and\n> will also force the use of the Python parsing engine.\n\næŒ‡å®š `sep='\\s+'` å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«, \n\næš‚æ—¶çš„åŠžæ³•æ˜¯:<br>\nåŠ ä¸Šå‚æ•° `engine='python'`, æˆ–ä½¿ç”¨ **`' +'`** ä»£æ›¿ (æ­¤æ—¶ `engine='python'`).<br>\nå¦‚æžœè®¾ä¸º `engine='c'`, é€Ÿåº¦è¾ƒå¿«, ä½†ä¸ä¾¿è¯†åˆ«æ­£åˆ™è¡¨è¾¾, è¿½æ±‚æ•ˆçŽ‡çš„è¯å¯ä»¥é…åˆä½¿ç”¨:<br>\n`quoting=3` (å³ä½¿ç”¨ `csv.QUOTE_NONE`)\n\n---\n\nPandas çš„è¯»å–æ–¹æ³•ç®€å•ä»‹ç»å‚è§:\n[ç”¨ pandas è¯» csv](advance.html#91-ç”¨-pandas-è¯»-csv)","source":"_posts/2018-12-04-pandas-sep.md","raw":"---\ntitle: \"Pandas sep='\\\\s+' çš„é—®é¢˜\"\ncategories: 'Solar Physics'\ntags: [python, pandas]\ndate: 2018-12-04 17:00:03\n---\n\nPandas çš„ `read_table` ([å®˜æ–¹æ–‡æ¡£](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html))\nå’Œ `read_csv` ([å®˜æ–¹æ–‡æ¡£](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html)) (æŒ‡å®šåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ä¸¤è€…æ— åŒºåˆ«),\næœ‰å…³é”®å­— `sep=` (`read_table` é»˜è®¤ä¸º `sep='\\t'`, `read_csv` é»˜è®¤ä¸º `sep=','`).\n\nä½†å½“éœ€è¦æŒ‡å®šå¤šä¸ªç©ºæ ¼çš„æƒ…å†µä¸‹, æŒ‡å®š `sep='\\s+'` å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«.\n<!-- more -->\n\nè¯·ä½¿ç”¨ **`' +'`** ä»£æ›¿.\n\nå®˜æ–¹æ–‡æ¡£ä¸­å…³äºŽ `sep` å…³é”®å­—çš„è¯´æ˜Žæœ‰å¦‚ä¸‹æè¿°:\n\n> In addition, separators longer than 1 character and\n> **different from ``'\\s+'``** will be interpreted as regular expressions and\n> will also force the use of the Python parsing engine.\n\næŒ‡å®š `sep='\\s+'` å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«, \n\næš‚æ—¶çš„åŠžæ³•æ˜¯:<br>\nåŠ ä¸Šå‚æ•° `engine='python'`, æˆ–ä½¿ç”¨ **`' +'`** ä»£æ›¿ (æ­¤æ—¶ `engine='python'`).<br>\nå¦‚æžœè®¾ä¸º `engine='c'`, é€Ÿåº¦è¾ƒå¿«, ä½†ä¸ä¾¿è¯†åˆ«æ­£åˆ™è¡¨è¾¾, è¿½æ±‚æ•ˆçŽ‡çš„è¯å¯ä»¥é…åˆä½¿ç”¨:<br>\n`quoting=3` (å³ä½¿ç”¨ `csv.QUOTE_NONE`)\n\n---\n\nPandas çš„è¯»å–æ–¹æ³•ç®€å•ä»‹ç»å‚è§:\n[ç”¨ pandas è¯» csv](advance.html#91-ç”¨-pandas-è¯»-csv)","slug":"pandas-sep","published":1,"updated":"2018-12-04T09:00:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegawi0012vxgv5zhv4lok","content":"<p>Pandas çš„ <code>read_table</code> (<a\nhref=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html\">å®˜æ–¹æ–‡æ¡£</a>)\nå’Œ <code>read_csv</code> (<a\nhref=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\">å®˜æ–¹æ–‡æ¡£</a>)\n(æŒ‡å®šåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ä¸¤è€…æ— åŒºåˆ«), æœ‰å…³é”®å­— <code>sep=</code>\n(<code>read_table</code> é»˜è®¤ä¸º <code>sep='\\t'</code>,\n<code>read_csv</code> é»˜è®¤ä¸º <code>sep=','</code>).</p>\n<p>ä½†å½“éœ€è¦æŒ‡å®šå¤šä¸ªç©ºæ ¼çš„æƒ…å†µä¸‹, æŒ‡å®š <code>sep='\\s+'</code>\nå¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«. <span id=\"more\"></span></p>\n<p>è¯·ä½¿ç”¨ <strong><code>' +'</code></strong> ä»£æ›¿.</p>\n<p>å®˜æ–¹æ–‡æ¡£ä¸­å…³äºŽ <code>sep</code> å…³é”®å­—çš„è¯´æ˜Žæœ‰å¦‚ä¸‹æè¿°:</p>\n<blockquote>\n<p>In addition, separators longer than 1 character and <strong>different\nfrom <code>'\\s+'</code></strong> will be interpreted as regular\nexpressions and will also force the use of the Python parsing\nengine.</p>\n</blockquote>\n<p>æŒ‡å®š <code>sep='\\s+'</code> å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«,</p>\n<p>æš‚æ—¶çš„åŠžæ³•æ˜¯:<br> åŠ ä¸Šå‚æ•° <code>engine='python'</code>, æˆ–ä½¿ç”¨\n<strong><code>' +'</code></strong> ä»£æ›¿ (æ­¤æ—¶\n<code>engine='python'</code>).<br> å¦‚æžœè®¾ä¸º <code>engine='c'</code>,\né€Ÿåº¦è¾ƒå¿«, ä½†ä¸ä¾¿è¯†åˆ«æ­£åˆ™è¡¨è¾¾, è¿½æ±‚æ•ˆçŽ‡çš„è¯å¯ä»¥é…åˆä½¿ç”¨:<br>\n<code>quoting=3</code> (å³ä½¿ç”¨ <code>csv.QUOTE_NONE</code>)</p>\n<hr />\n<p>Pandas çš„è¯»å–æ–¹æ³•ç®€å•ä»‹ç»å‚è§: <a\nhref=\"advance.html#91-ç”¨-pandas-è¯»-csv\">ç”¨ pandas è¯» csv</a></p>\n","site":{"data":{}},"excerpt":"<p>Pandas çš„ <code>read_table</code> (<a\nhref=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html\">å®˜æ–¹æ–‡æ¡£</a>)\nå’Œ <code>read_csv</code> (<a\nhref=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\">å®˜æ–¹æ–‡æ¡£</a>)\n(æŒ‡å®šåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ä¸¤è€…æ— åŒºåˆ«), æœ‰å…³é”®å­— <code>sep=</code>\n(<code>read_table</code> é»˜è®¤ä¸º <code>sep='\\t'</code>,\n<code>read_csv</code> é»˜è®¤ä¸º <code>sep=','</code>).</p>\n<p>ä½†å½“éœ€è¦æŒ‡å®šå¤šä¸ªç©ºæ ¼çš„æƒ…å†µä¸‹, æŒ‡å®š <code>sep='\\s+'</code>\nå¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«.","more":"</p>\n<p>è¯·ä½¿ç”¨ <strong><code>' +'</code></strong> ä»£æ›¿.</p>\n<p>å®˜æ–¹æ–‡æ¡£ä¸­å…³äºŽ <code>sep</code> å…³é”®å­—çš„è¯´æ˜Žæœ‰å¦‚ä¸‹æè¿°:</p>\n<blockquote>\n<p>In addition, separators longer than 1 character and <strong>different\nfrom <code>'\\s+'</code></strong> will be interpreted as regular\nexpressions and will also force the use of the Python parsing\nengine.</p>\n</blockquote>\n<p>æŒ‡å®š <code>sep='\\s+'</code> å¯èƒ½æ— æ³•è¢«æ­£ç¡®è¯†åˆ«,</p>\n<p>æš‚æ—¶çš„åŠžæ³•æ˜¯:<br> åŠ ä¸Šå‚æ•° <code>engine='python'</code>, æˆ–ä½¿ç”¨\n<strong><code>' +'</code></strong> ä»£æ›¿ (æ­¤æ—¶\n<code>engine='python'</code>).<br> å¦‚æžœè®¾ä¸º <code>engine='c'</code>,\né€Ÿåº¦è¾ƒå¿«, ä½†ä¸ä¾¿è¯†åˆ«æ­£åˆ™è¡¨è¾¾, è¿½æ±‚æ•ˆçŽ‡çš„è¯å¯ä»¥é…åˆä½¿ç”¨:<br>\n<code>quoting=3</code> (å³ä½¿ç”¨ <code>csv.QUOTE_NONE</code>)</p>\n<hr />\n<p>Pandas çš„è¯»å–æ–¹æ³•ç®€å•ä»‹ç»å‚è§: <a\nhref=\"advance.html#91-ç”¨-pandas-è¯»-csv\">ç”¨ pandas è¯» csv</a></p>"},{"title":"Coming back soon ...","date":"2022-07-12T15:39:03.000Z","sticky":100,"_content":"I'm keep on restoring my old posts, as the original site has not been accessable for quit a long time.\n\nSee you later~","source":"_posts/2022-07-12-Coming-back-soon.md","raw":"---\ntitle: \"Coming back soon ...\"\ndate: 2022-07-12 23:39:03\nsticky: 100\n---\nI'm keep on restoring my old posts, as the original site has not been accessable for quit a long time.\n\nSee you later~","slug":"Coming-back-soon","published":1,"updated":"2022-07-12T15:39:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5kegawk0015vxgv2xsx85wn","content":"<p>I'm keep on restoring my old posts, as the original site has not been\naccessable for quit a long time.</p>\n<p>See you later~</p>\n","site":{"data":{}},"excerpt":"","more":"<p>I'm keep on restoring my old posts, as the original site has not been\naccessable for quit a long time.</p>\n<p>See you later~</p>\n"}],"PostAsset":[{"_id":"source/_posts/2018-07-02-advance/Screenshot_20180617-181206.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"Screenshot_20180617-181206.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/Screenshot_20180618-151438.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"Screenshot_20180618-151438.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/advance_205_0.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"advance_205_0.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/advance_279_1.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"advance_279_1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/advance_283_0.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"advance_283_0.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/advance_285_0.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"advance_285_0.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/anatomy.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"anatomy.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/nbtutor1.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"nbtutor1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/nbtutor2.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"nbtutor2.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/nbtutor3.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"nbtutor3.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/nbtutor4.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"nbtutor4.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/nbtutor5.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"nbtutor5.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/scope_resolution_1.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"scope_resolution_1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-advance/tut_a_2.png","post":"cl5kegavj0001vxgv4b6o07o3","slug":"tut_a_2.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Canopy-Packages-min-1.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Canopy-Packages-min-1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Conda â€” Conda documentation.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Conda â€” Conda documentation.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Conda-DistributionDiagram-01.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Conda-DistributionDiagram-01.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/DataScienceLibraries-01.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"DataScienceLibraries-01.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/IPython.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"IPython.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Matplotlib.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Matplotlib.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-018.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Python Developers Survey 2017 - Results-018.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-019.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Python Developers Survey 2017 - Results-019.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Python Developers Survey 2017 - Results-020.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Python Developers Survey 2017 - Results-020.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/SciPy.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"SciPy.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/Screenshot_20180625-005924.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"Screenshot_20180625-005924.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/annotation_demo2_00.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"annotation_demo2_00.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/astropy_banner.svg","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"astropy_banner.svg","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/contour_demo_05.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"contour_demo_05.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/jupyterlab.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"jupyterlab.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/jupyterlogo.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"jupyterlogo.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/logo-large.72ad8bf1.svg","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"logo-large.72ad8bf1.svg","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/main_126_1.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"main_126_1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/named_colors.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"named_colors.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/nbviewer.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"nbviewer.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/pycharm.jpg","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"pycharm.jpg","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/scikitlogo.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"scikitlogo.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/skimage01.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"skimage01.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/sphx_glr_lat_lon_lines_001.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"sphx_glr_lat_lon_lines_001.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-07-02-main/sphx_glr_submaps_and_cropping_001.png","post":"cl5kegawe000xvxgv8jcbb1cn","slug":"sphx_glr_submaps_and_cropping_001.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cl5kegavj0001vxgv4b6o07o3","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegaw5000bvxgv0m02b4bd"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegaw7000dvxgv63fk16kq"},{"post_id":"cl5kegawe000xvxgv8jcbb1cn","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegawj0013vxgv46pberu3"},{"post_id":"cl5kegawf000yvxgv46k4bg2k","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegawl0016vxgv6fim64dv"},{"post_id":"cl5kegawh0010vxgve3x76euv","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegawm0019vxgv0cfjeyuo"},{"post_id":"cl5kegawi0012vxgv5zhv4lok","category_id":"cl5kegavr0004vxgv6ma09ixa","_id":"cl5kegawn001avxgvao5bc9e7"}],"PostTag":[{"post_id":"cl5kegavj0001vxgv4b6o07o3","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegaw8000hvxgvbh3m6rxo"},{"post_id":"cl5kegavj0001vxgv4b6o07o3","tag_id":"cl5kegaw2000avxgv2dwg33sq","_id":"cl5kegaw8000ivxgv0zqudegq"},{"post_id":"cl5kegavj0001vxgv4b6o07o3","tag_id":"cl5kegaw6000cvxgv9ljr2st8","_id":"cl5kegaw9000kvxgvefs134b2"},{"post_id":"cl5kegavj0001vxgv4b6o07o3","tag_id":"cl5kegaw7000evxgvhdmm4ftb","_id":"cl5kegaw9000lvxgv7q4rbmlt"},{"post_id":"cl5kegavj0001vxgv4b6o07o3","tag_id":"cl5kegaw7000fvxgvbsn18px2","_id":"cl5kegaw9000nvxgv1of29t8j"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegawb000rvxgv99488nkc"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegaw2000avxgv2dwg33sq","_id":"cl5kegawb000svxgve1wy0fwd"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegaw6000cvxgv9ljr2st8","_id":"cl5kegawb000tvxgv5af4hh0a"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegaw7000evxgvhdmm4ftb","_id":"cl5kegawb000uvxgvba564uqr"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegaw7000fvxgvbsn18px2","_id":"cl5kegawc000vvxgv456d7pd8"},{"post_id":"cl5kegavm0003vxgv2lqjf5w9","tag_id":"cl5kegawa000qvxgvfd9nf8kt","_id":"cl5kegawc000wvxgvd4ondb08"},{"post_id":"cl5kegawe000xvxgv8jcbb1cn","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegawh000zvxgvbi8e8iu0"},{"post_id":"cl5kegawe000xvxgv8jcbb1cn","tag_id":"cl5kegaw6000cvxgv9ljr2st8","_id":"cl5kegawi0011vxgve4dd6uzd"},{"post_id":"cl5kegawf000yvxgv46k4bg2k","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegawj0014vxgv7pcv9hv0"},{"post_id":"cl5kegawh0010vxgve3x76euv","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegawm0018vxgv0ztd4ya7"},{"post_id":"cl5kegawi0012vxgv5zhv4lok","tag_id":"cl5kegavx0005vxgv8ft3e213","_id":"cl5kegawn001bvxgv207r22vs"},{"post_id":"cl5kegawi0012vxgv5zhv4lok","tag_id":"cl5kegawl0017vxgvbqjsa0yl","_id":"cl5kegawn001cvxgvcd17411e"}],"Tag":[{"name":"python","_id":"cl5kegavx0005vxgv8ft3e213"},{"name":"conda","_id":"cl5kegaw2000avxgv2dwg33sq"},{"name":"jupyter","_id":"cl5kegaw6000cvxgv9ljr2st8"},{"name":"astropy","_id":"cl5kegaw7000evxgvhdmm4ftb"},{"name":"sunpy","_id":"cl5kegaw7000fvxgvbsn18px2"},{"name":"install","_id":"cl5kegawa000qvxgvfd9nf8kt"},{"name":"pandas","_id":"cl5kegawl0017vxgvbqjsa0yl"}]}}